(function () {
    'use strict';
    var SubItemDesigns = {
        BorderColor: 'red',
    };
    angular.module(SchedulerConfiguration.moduleName).controller("ManageEstimateController",
        ["$scope", "$rootScope", "$state", "$q", "SchedulerService", "FranchiseeService", "$uibModal",
            "Notification", "Clock", "Toaster", "$stateParams", "FileService", "EstimateService", "$filter", "CustomerService", "$sce", "$window", "$location", "ToDoService", "$anchorScroll", "ManagePriceEstimateService", "BeforeAfterService",
            function ($scope, $rootScope, $state, $q, schedulerService, franchiseeService, $uibModal,
                notification, clock, toaster, $stateParams, fileService, estimateService, $filter, customerService, $sce, $window, $location, toDoService, $anchorScroll, managePriceEstimateService, beforeAfterService) {
                var vm = this;
                vm.getPriceEstimateQuery = {
                    categoryId: 0,
                    serviceTypeId: 0,
                    serviceTagId: 0,
                    showAllFranchisee: false,
                    franchiseeId: 0
                }
                vm.cropImage = cropImage;
                vm.SubItemDesigns = SubItemDesigns;
                vm.addMeasurementsForBundle = addMeasurementsForBundle;
                vm.serviceTypeForUnit = DataHelper.ServiceTypeInvoice;
                vm.getServiceTypeId = getServiceTypeId;
                vm.unitType = DataHelper.UnitType;
                vm.serviceTypeService = DataHelper.ServiceTypeInvoice;
                vm.openPopUp = openPopUp;
                vm.openModal = openModal;
                vm.addInvoiceToEstimate = addInvoiceToEstimate;
                vm.changeInvoiceRequired = changeInvoiceRequired;
                vm.saveCustomerInvoice = saveCustomerInvoice;
                vm.addingGlossBundle = addingGlossBundle;
                vm.addingGlossWithoutHornBundle = addingGlossWithoutHornBundle;
                vm.addingSatinBundle = addingSatinBundle;
                vm.addingMatteBundle = addingMatteBundle;
                vm.addingSatinWithoutHoneBundle = addingSatinWithoutHoneBundle;
                vm.addingCleanBundle = addingCleanBundle;
                vm.addingCleanAndProtectBundle = addingCleanAndProtectBundle;
                vm.addingGroutCleanSealBundle = addingGroutCleanSealBundle;
                vm.addingBundleCleanResealConcrete = addingBundleCleanResealConcrete;
                vm.addingBundleStripCleanResealConcrete = addingBundleStripCleanResealConcrete;
                vm.addingBundlePrepAndCoatEpoxyOnly = addingBundlePrepAndCoatEpoxyOnly;
                vm.addingBundlePrepAndCoatEpoxyEpoxy = addingBundlePrepAndCoatEpoxyEpoxy;
                vm.addingBundlePrepAndCoatPolySparticOnly = addingBundlePrepAndCoatPolySparticOnly;
                vm.addingBundlePrepAndCoatEpoxyMVBOnly = addingBundlePrepAndCoatEpoxyMVBOnly;
                vm.addingBundlePrepAndCoatEpoxyPolySpartic = addingBundlePrepAndCoatEpoxyPolySpartic;
                vm.addingBundlePrepAndEpoxyChipNoMVBEpoxyVinylChipEpoxy = addingBundlePrepAndEpoxyChipNoMVBEpoxyVinylChipEpoxy;
                vm.addingBundlePrepAndEpoxyChipNoMVBEpoxyQuartzChipEpoxy = addingBundlePrepAndEpoxyChipNoMVBEpoxyQuartzChipEpoxy;
                vm.addingBundlePrepAndEpoxyChipNoMVBEpoxyACSChipEpoxy = addingBundlePrepAndEpoxyChipNoMVBEpoxyACSChipEpoxy;
                vm.addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyVinylChipPolySpartic = addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyVinylChipPolySpartic;
                vm.addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyQuartzChipPolySpartic = addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyQuartzChipPolySpartic;
                vm.addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyACSChipPolySpartic = addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyACSChipPolySpartic;
                vm.addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyVinylChipPolySpartic = addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyVinylChipPolySpartic;
                vm.addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyQuartzChipPolySpartic = addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyQuartzChipPolySpartic;
                vm.addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyACSChipPolySpartic = addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyACSChipPolySpartic;
                vm.addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticVinylChipPolySpartic = addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticVinylChipPolySpartic;
                vm.addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticQuartzChipPolySpartic = addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticQuartzChipPolySpartic;
                vm.addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticACSChipPolySpartic = addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticACSChipPolySpartic;
                vm.addingBundlePrepEpoxyMVBPolySparticSemironVinylChipPolySpartic = addingBundlePrepEpoxyMVBPolySparticSemironVinylChipPolySpartic;
                vm.addingBundlePrepEpoxyMVBPolySparticSemironQuartzChipPolySpartic = addingBundlePrepEpoxyMVBPolySparticSemironQuartzChipPolySpartic;
                vm.addingBundlePrepEpoxyMVBPolySparticSemironACSChipPolySpartic = addingBundlePrepEpoxyMVBPolySparticSemironACSChipPolySpartic;
                vm.addingBundlePrepMVBPolySparticPolySparticSemironVinylChipPolySpartic = addingBundlePrepMVBPolySparticPolySparticSemironVinylChipPolySpartic;
                vm.addingBundlePrepMVBPolySparticPolySparticSemironQuartzChipPolySpartic = addingBundlePrepMVBPolySparticPolySparticSemironQuartzChipPolySpartic;
                vm.addingBundlePrepMVBPolySparticPolySparticSemironACSChipPolySpartic = addingBundlePrepMVBPolySparticPolySparticSemironACSChipPolySpartic;
                vm.addingBundlePrepMarblized = addingBundlePrepMarblized;
                vm.addingBundleHoningAndPolishing = addingBundleHoningAndPolishing;
                vm.addingBundles = addingBundles;
                $scope.shiftingImageActive = false;
                vm.jobEstimateImageActive = {};
                vm.shiftingImage = shiftingImage;
                vm.shiftModal = shiftModal;
                vm.closeModal = closeModal;
                vm.serviceDomain = {};
                vm.activateModal = activateModal;
                vm.shiftImages = shiftImages;
                vm.crossingInvoiceItem = crossingInvoiceItem;
                vm.downloadSignedInvoices = downloadSignedInvoices;
                vm.openSignatureModal = openSignatureModal;
                vm.checkingForInvoiceNumber = checkingForInvoiceNumber;
                vm.moveToTop = moveToTop;
                vm.sideMenuText = "Invoice Notes";
                vm.changeinInvoiceNumberForSerice = changeinInvoiceNumberForSerice;
                vm.index = 0;
                vm.isDisableButton = true;
                vm.serviceTypeForInvoiceList = [];
                vm.onScrollLeft = onScrollLeft;
                vm.moveLeftView = true;
                vm.moveRightView = false;
                vm.changesForServicesMaterialType = changesForServicesMaterialType;
                vm.viewTermsAndCondition = viewTermsAndCondition;
                vm.optionWiseTotal = optionWiseTotal;
                vm.totalSumList = [];
                vm.totalNumberOfInvoices = [];
                vm.totalSumForOptions = totalSumForOptions;
                vm.option1 = 0;
                vm.option2 = 0;
                vm.option3 = 0;
                vm.addMeasurements = addMeasurements;
                vm.serviceChange = serviceChange;
                vm.isOption1Checked = true;
                vm.isOption2Checked = false;
                vm.isOption3Checked = false;
                vm.addingNotes = addingNotes;
                vm.sendInvoiceToCustomer = sendInvoiceToCustomer;
                vm.checkBoxClicked = checkBoxClicked;
                vm.changeService = changeService;
                vm.isDataValid = true;
                vm.saveInvoice = saveInvoice;
                vm.invoiceNumberForInvoice = [];
                vm.deleteInvoice = deleteInvoice;
                vm.changeInNumberOfInvoices = changeInNumberOfInvoices;
                vm.updateMarketingClass = updateMarketingClass;
                vm.addNewService = addNewService;
                $scope.editMode = false;
                vm.isInvoiceEnhancement = false;
                vm.invoiceEnhancement = invoiceEnhancement
                vm.swapImages = swapImages;
                vm.openEstimateWorthModal = openEstimateWorthModal;
                vm.beforeImagesSizes = [];
                vm.afterImagesSizes = [];
                vm.beforeImagesHeight = [];
                vm.afterImagesHeight = [];
                vm.index = 0;
                vm.isFromBeforeImage = true;
                vm.zoomClass = null;
                vm.zoomin = zoomin;
                vm.zoomout = zoomout;
                vm.creatingLightBox = creatingLightBox;
                vm.zoom = zoom;
                vm.downloadImage = downloadImage;
                vm.downloadImages = downloadImages;
                vm.change = change;
                vm.uploadMediaAfterBeforeForCamera = uploadMediaAfterBeforeForCamera;
                $scope.isMobile = navigator.userAgent.match(/(iPhone|iPod|iPad|Android|webOS|BlackBerry|IEMobile|Opera Mini)/i);
                vm.rotate = rotate;
                vm.deleteFromUI = deleteFromUI;
                vm.openViewFollowUpModal = openViewFollowUpModal;
                vm.openFollowUpModal = openFollowUpModal;
                vm.followUpList = [];
                vm.getFollowUp = getFollowUp;
                vm.isGenernalTab = true;
                vm.isInvoiceTab = false;
                vm.isBuildinglTab = false;
                vm.isBeforeAfterlTab = false;
                vm.isDeleted = false;
                vm.isCancelledClick = false;
                vm.isPresentRequiredClass = false;
                vm.marketingClassForNote = DataHelper.NonResidentialCommercialClass;
                vm.isPresentRequiredClass = false;
                vm.bestPictureSelected = bestPictureSelected;
                vm.isImageRemoved = false;
                vm.googleApi = googleApi;
                vm.changeTab = changeTab;
                vm.beforeAfterImagesFirstUploadedImages = [
                    [0, 0]
                ]
                vm.mediaModel = {};
                vm.shiftImagesModel = {};
                vm.dropDownForBeforeAfter = dropDownForBeforeAfter;
                // for uploading images in before and after having images already
                vm.countForHavingPaneWithImages = [
                    [0, 0] // first one for Before Image and Second One for After Image
                ]
                vm.jobNoteEdit = jobNoteEdit;
                vm.jobNoteDelete = jobNoteDelete;
                $scope.franchiseeId = "";
                vm.isCopy = false;
                vm.isConfirmDisable = false;
                vm.manageEstimate = manageEstimate;
                vm.estimateId = $stateParams.id != null ? $stateParams.id : 0;
                vm.rowId = $stateParams.rowId != null ? $stateParams.rowId : 0;
                vm.getEstimateInfo = getEstimateInfo;
                vm.convertToJob = convertToJob;
                vm.editEstimate = editEstimate;
                vm.copyEstimate = copyEstimate;
                vm.gotoScheduler = gotoScheduler;
                vm.getTitle = getTitle;
                vm.previousView = $stateParams.previousView != null ? $stateParams.previousView : 0;
                vm.manageJob = manageJob;
                vm.uploadMedia = uploadMedia;
                $scope.myInterval = 5000;
                $scope.noWrapSlides = false;
                $scope.active = 0;
                var slides = $scope.slides = [];
                var currIndex = 0;
                vm.addNote = addNote;
                vm.Roles = DataHelper.Role;
                vm.confirmationQuery = {};
                vm.isTech = $rootScope.identity.roleId == vm.Roles.Technician;
                vm.isSalesRep = $rootScope.identity.roleId == vm.Roles.SalesRep;
                vm.MediaType = DataHelper.ScheduleType;
                vm.repeatEstimate = repeatEstimate;
                vm.BeforeAfterImages = DataHelper.BeforeAfterImages;
                vm.ConfirmationEnum = DataHelper.Confirmation;
                vm.ServiceTypes = DataHelper.ServiceTypes;
                vm.isEdit = true;
                vm.estimateInvoiceInfo = {};
                vm.printSection = [];
                vm.isRepeative = false;
                vm.addNew = addNew;
                vm.uploadNew = uploadNew;
                vm.remove = remove;
                vm.removeImage = removeImage;
                vm.query = {};
                vm.jobEstimateImage = [];
                vm.jobEstimateImageForPrint = [];
                vm.BeforeAfterImages = DataHelper.BeforeAfterImages;
                vm.isEdit = true;
                vm.printSection = [];
                vm.isAfterBeforeConditionSet = false;
                vm.isAfterConditionSet = false;
                vm.isBeforeConditionSet = false;
                vm.OptionChanged = OptionChanged;
                vm.isEligible = true;
                vm.isResidential = false;
                vm.deleteRow = deleteRow;
                vm.uploadMediaAfterBefore = uploadMediaAfterBefore;
                vm.uploadMediaBuildingInvoice = uploadMediaBuildingInvoice;
                vm.CategoryTypeChange = CategoryTypeChange;
                vm.getServicesCollection = getServicesCollection;
                vm.serviceTypeLookUp = DataHelper.ServiceTypes
                vm.BeforeAfterLookUp = DataHelper.BeforeAfterImages;
                vm.serviceSelectionChange = serviceSelectionChange;
                vm.getmarketingClassCollection = getmarketingClassCollection;
                vm.save = save;
                vm.isSuperAdmin = $rootScope.identity.roleId == vm.Roles.SuperAdmin;
                vm.isFranchiseeAdmin = $rootScope.identity.roleId == vm.Roles.FranchiseeAdmin;
                vm.isOpsMgr = $rootScope.identity.roleId == vm.Roles.OperationsManager;
                vm.isFrontOffice = $rootScope.identity.roleId == vm.Roles.FrontOfficeExecutive;
                vm.invoiceMail = invoiceMail;
                vm.beforeAfterMail = beforeAfterMail;
                vm.printSectionJob = printSectionJob;
                vm.marketingClassLookUp = DataHelper.MarketingTypes;
                vm.isMediaSave = false;
                vm.isBeforeAFterSave = false;
                vm.alreadyUploaded = false;
                vm.selectedPropertyValue = null;
                vm.noOfUnPaired = 0;
                vm.floorNoChange = floorNoChange;
                vm.jobEstimateImageForPrint = [];
                vm.confirmChanging = confirmChanging;
                vm.isMobile = navigator.userAgent.match(/(iPhone|iPod|iPad|Android|webOS|BlackBerry|IEMobile|Opera Mini)/i);
                vm.openNotesModal = openNotesModal;
                vm.getInvoiceReasonNotes = getInvoiceReasonNotes;
                vm.uploadLineItemImage = uploadLineItemImage;
                vm.uploadLineItemImageFromCamera = uploadLineItemImageFromCamera;
                vm.uploadLineItemImageFromCameraForSubItem = uploadLineItemImageFromCameraForSubItem;
                vm.uploadLineItemImageForSubItem = uploadLineItemImageForSubItem;
                vm.isBeforeAfterImagesSave = true;
                vm.isInvoiceSave = true;
                vm.isExteriorImageSave = true;
                vm.isGeneralTabActive = true;
                vm.isInvoiceTabActive = false;
                vm.isExteriorImageActive = false;
                vm.isBeforeAfterActive = false;
                vm.isRowDelete = false;
                vm.estimatedPrice = 0;
                vm.saveRotation = saveRotation;
                vm.isEstimateSaved = false;
                vm.openValidationModel = openValidationModel;
                vm.cancelTab = cancelTab;
                vm.cancelOnClick = cancelOnClick;
                vm.isInvoiceLineItemRemove = false;
                vm.viewImageGallery = viewImageGallery;
                vm.viewImageGalleryForSubItems = viewImageGalleryForSubItems;
                vm.allServicesList = [];
                vm.deleteToDo = deleteToDo;
                vm.priceEstimateCollection = [];
                vm.getAllServicesCollection = getAllServicesCollection;
                vm.showEstimateDetails = false; // collapsed by default

                vm.rotationItems = {
                    fileId: null,
                    css: ""
                }
                vm.estimateInvoiceViewModel = {
                    id: 0,
                    estimateInvoiceId: 0,
                    estimateId: vm.estimateId,
                    schedulerId: vm.rowId,
                    lessDeposit: 0,
                    lessDepositPercentage: 0,
                    estimateInvoiceServiceList: []
                };

                vm.subItem = {
                    option1: 0,
                    option2: 0,
                    option3: 0,
                    serviceIds: 0,
                    notes: '',
                    salesPersonNote: '',
                    informationNote: ''
                };

                vm.estimateInvoiceInfo = {
                    id: 0,
                    serviceList: [],
                    lessDepositPercentage: 0,
                    streetAddress: '',
                    cityName: '',
                    stateName: '',
                    email: '',
                    lessDeposit: 0,
                    franchiseeId: 0,
                    estimateId: 0,
                    schedulerId: 0,
                    marketingClass: '',
                    invoiceCount: '1',
                    invoiceNumber: '1',
                    notes: '',
                    option: 'option1'
                };

                vm.imagePairMarkedQuery = {
                    isBestPairMarked: false,
                    isAddToLocalSiteGallery: false,
                    beforeImageserviceId: null,
                    afterImageserviceId: null,
                    beforeImagecategoryId: null,
                    afterImagecategoryId: null,
                    beforeImageFileId: null,
                    afterImageFileId: null
                }

                vm.imageShiftType = [{ display: "Exterior", value: "121" }, { display: "Invoice/ Drawing", value: "122" }];

                vm.stoneTypeForInvoice1 = [
                    { display: "Brick", value: "Brick" },
                    { display: "Carpet", value: "Carpet" },
                    { display: "Ceramic (tile and grout)", value: "Ceramic (tile and grout)" },
                    { display: "Concrete", value: "Concrete" },
                    { display: "Engineered Stone:Cesar", value: "Engineered Stone:Cesar" },
                    { display: "Engineered Stone:Corian", value: "Engineered Stone:Corian" },
                    { display: "Engineered Stone:Other", value: "Engineered Stone:Other" },
                    { display: "Engineered Stone:Zodiaq", value: "Engineered Stone:Zodiaq" },
                    { display: "Flagstone", value: "Flagstone" },
                    { display: "Glass", value: "Glass" },
                    { display: "Granite", value: "Granite" },
                    { display: "Limestone", value: "Limestone" },
                    { display: "Marble", value: "Marble" },
                    { display: "Marble (Tumbled)", value: "Marble (Tumbled)" },
                    { display: "Metal", value: "Metal" },
                    { display: "Mexican Tile", value: "Mexican Tile" },
                    { display: "Porcelain", value: "Porcelain" },
                    { display: "Quartz", value: "Quartz" },
                    { display: "Slate", value: "Slate" },
                    { display: "Terrazzo", value: "Terrazzo" },
                    { display: "Travertine", value: "Travertine" },
                    { display: "Vinyl", value: "Vinyl" },
                    { display: "Wood", value: "Wood" },
                    { display: "Other", value: "Other" }
                ];


                vm.serviceTypeForInvoice = [
                    { label: "Chip Repair", id: "Chip Repair" },
                    { label: "Crack Repair", id: "Crack Repair" },
                    { label: "Hone", id: "Hone" },
                    { label: "Polish", id: "Polish" },
                    { label: "Seal", id: "Seal" }
                ];

                vm.serviceTypeForInvoiceList.push(vm.serviceTypeForInvoice);
                vm.locationForInvoice = [
                    { display: "Bar", value: "Bar" },
                    { display: "Basement", value: "Basement" },
                    { display: "Bathroom", value: "Bathroom" },
                    { display: "Bedroom", value: "Bedroom" },
                    { display: "Building Exterior", value: "Building Exterior" },
                    { display: "Conference Room", value: "Conference Room" },
                    { display: "Dining", value: "Dining" },
                    { display: "Elevator", value: "Elevator" },
                    { display: "Exterior Feature", value: "Exterior Feature" },
                    { display: "Floor", value: "Floor" },
                    { display: "Foyer(Entrance)", value: "Foyer(Entrance)" },
                    { display: "Garage", value: "Garage" },
                    { display: "Guest Room", value: "Guest Room" },
                    { display: "Hall", value: "Hall" },
                    { display: "Headstone", value: "Headstone" },
                    { display: "Kitchen", value: "Kitchen" },
                    { display: "Laundry", value: "Laundry" },
                    { display: "Living", value: "Living" },
                    { display: "Lobby", value: "Lobby" },
                    { display: "Patient Room", value: "Patient Room" },
                    { display: "Stairs", value: "Stairs" },
                    { display: "Other", value: "Other" }
                ];

                vm.surfaceTypeForInvoice = [
                    { display: "Baseboards", value: "Baseboards" },
                    { display: "Building Exterior", value: "Building Exterior" },
                    { display: "Counter (Bar)", value: "Counter (Bar)" },
                    { display: "Counter (Bathroom Vanity)", value: "Counter (Bathroom Vanity)" },
                    { display: "Counter (Butler Bar)", value: "Counter (Butler Bar)" },
                    { display: "Counter (Island)", value: "Counter (Island)" },
                    { display: "Counter (Kitchen)", value: "Counter (Kitchen)" },
                    { display: "Counter (Snack Bar)", value: "Counter (Snack Bar)" },
                    { display: "Fireplace", value: "Fireplace" },
                    { display: "Floor", value: "Floor" },
                    { display: "Floor (Garage)", value: "Floor (Garage)" },
                    { display: "Floor (Warehouse)", value: "Floor (Warehouse)" },
                    { display: "Fountain", value: "Fountain" },
                    { display: "Patio", value: "Patio" },
                    { display: "Pool Deck", value: "Pool Deck" },
                    { display: "Shower Bench", value: "Shower Bench" },
                    { display: "Shower Ceiling", value: "Shower Ceiling" },
                    { display: "Shower Curb", value: "Shower Curb" },
                    { display: "Shower Floor", value: "Shower Floor" },
                    { display: "Shower Wall", value: "Shower Wall" },
                    { display: "Sign", value: "Sign" },
                    { display: "Sink", value: "Sink" },
                    { display: "Stairs", value: "Stairs" },
                    { display: "Table", value: "Table" },
                    { display: "Table (Conference Room)", value: "Table (Conference Room)" },
                    { display: "Table (Vanity)", value: "Table (Vanity)" },
                    { display: "Threshold", value: "Threshold" },
                    { display: "Threshold (Door)", value: "Threshold (Door)" },
                    { display: "Threshold (Window)", value: "Threshold (Window)" },
                    { display: "Tub Deck", value: "Tub Deck" },
                    { display: "Walkway", value: "Walkway" },
                    { display: "Wall", value: "Wall" },
                    { display: "Window Sill", value: "Window Sill" },
                    { display: "Other", value: "Other" }
                ];

                vm.surfaceType = [
                    { display: "Baseboards", value: "Baseboards" },
                    { display: "Building Exterior", value: "Building Exterior" },
                    { display: "Counter (Bar)", value: "Counter (Bar)" },
                    { display: "Counter (Bathroom Vanity)", value: "Counter (Bathroom Vanity)" },
                    { display: "Counter (Butler Bar)", value: "Counter (Butler Bar)" },
                    { display: "Counter (Island)", value: "Counter (Island)" },
                    { display: "Counter (Kitchen)", value: "Counter (Kitchen)" },
                    { display: "Counter (Snack Bar)", value: "Counter (Snack Bar)" },
                    { display: "Fireplace", value: "Fireplace" },
                    { display: "Floor", value: "Floor" },
                    { display: "Floor (Garage)", value: "Floor (Garage)" },
                    { display: "Floor (Warehouse)", value: "Floor (Warehouse)" },
                    { display: "Fountain", value: "Fountain" },
                    { display: "Patio", value: "Patio" },
                    { display: "Pool Deck", value: "Pool Deck" },
                    { display: "Shower Bench", value: "Shower Bench" },
                    { display: "Shower Ceiling", value: "Shower Ceiling" },
                    { display: "Shower Curb", value: "Shower Curb" },
                    { display: "Shower Floor", value: "Shower Floor" },
                    { display: "Shower Wall", value: "Shower Wall" },
                    { display: "Sign", value: "Sign" },
                    { display: "Sink", value: "Sink" },
                    { display: "Stairs", value: "Stairs" },
                    { display: "Table", value: "Table" },
                    { display: "Table (Conference Room)", value: "Table (Conference Room)" },
                    { display: "Table (Vanity)", value: "Table (Vanity)" },
                    { display: "Threshold", value: "Threshold" },
                    { display: "Threshold (Door)", value: "Threshold (Door)" },
                    { display: "Threshold (Window)", value: "Threshold (Window)" },
                    { display: "Tub Deck", value: "Tub Deck" },
                    { display: "Walkway", value: "Walkway" },
                    { display: "Wall", value: "Wall" },
                    { display: "Window Sill", value: "Window Sill" },
                    { display: "Other", value: "Other" }
                ];

                vm.stoneTypeForInvoice = [
                    { display: "Gloss", value: "Gloss" },
                    { display: "Matte", value: "Matte" },
                    { display: "Satin/Semi-Gloss", value: "Satin/Semi-Gloss" },
                    { display: "Ultimate Finish", value: "Ultimate Finish" },
                    { display: "Other", value: "Other" }
                ];

                vm.stoneColorForInvoice = [
                    { display: "Black", value: "Black" },
                    { display: "Blue", value: "Blue" },
                    { display: "Brown", value: "Brown" },
                    { display: "Creme Marfil", value: "Creme Marfil" },
                    { display: "Gray", value: "Gray" },
                    { display: "Green", value: "Green" },
                    { display: "Maroon", value: "Maroon" },
                    { display: "Red", value: "Red" },
                    { display: "Tan", value: "Tan" },
                    { display: "White", value: "White" },
                    { display: "Other", value: "Other" }
                ];

                vm.invoiceNumberForInvoice = [];
                vm.invoiceNumberForInvoice = [{ display: "1", value: "1" }];

                var isBeforeAfterActiveFromSession = ($window.sessionStorage.getItem("IsBeforeAfterTabAtive"));

                $scope.settings = {
                    scrollable: true,
                    enableSearch: true,
                    selectedToTop: true,
                    buttonClasses: 'btn btn-primary leader_btn',

                };
                $scope.translationTexts = {
                    checkAll: 'Select All',
                    uncheckAll: 'Deselect All',
                    selectGroup: 'Select All',
                    buttonDefaultText: "Select",
                    dynamicButtonTextSuffix: 'Selected'
                };

                $scope.translationTextsLocation = {
                    checkAll: 'Select All',
                    uncheckAll: 'Deselect All',
                    selectGroup: 'Select All',
                    buttonDefaultText: "Select",
                    dynamicButtonTextSuffix: 'Selected'
                };

                $scope.selectEventsLocation = {
                    onItemSelect: function (item) {

                    },
                    onItemDeselect: function (item) {
                    },
                    onSelectAll: function (item) {
                    },
                    onDeselectAll: function (item) {
                    }
                }
                $scope.selectEvents = {
                    onItemSelect: function (item) {
                        var service = vm.estimateInvoiceInfo.serviceList[vm.index];

                        var bundleIndex = item.id.indexOf("Bundle");
                        if (service.description == undefined || service.description == "") {
                            service.serviceIds[0] = (item);
                            service.measurements = [];
                            service.sumTotalArea = 0;
                            if (bundleIndex > -1) {
                                service.isExpand = true;
                                var services = vm.estimateInvoiceInfo.serviceList[vm.index];
                                services.description = item.id;
                                services.measurements = [];
                                vm.addingBundles(service, item.id, false, vm.index);
                                isContainStripping(service);
                                var serviceTypeId = getServiceTypeId(service.subItem[service.subItem.length - 1]);
                                service.subItem[service.subItem.length - 1].serviceTypeId = serviceTypeId
                                service.subItem[service.subItem.length - 1].unitType = getUnitTypeId(serviceTypeId);
                                return;
                            }

                            var serviceTypeId = getServiceTypeId(service);
                            service.honingMeasurement = null;
                            service.serviceTypeId = serviceTypeId
                            service.unitType = getUnitTypeId(serviceTypeId);
                            /*service.option1 = getOption1(service);*/
                            vm.changeService(vm.index);
                            getSalesPersonNotes(service, vm.index);
                        }
                        else if (service.serviceIds.length > 1) {
                            service.isExpand = true;
                            if (bundleIndex > -1) {
                                service.subItem.push({
                                    serviceIds: { id: item.id },
                                    option1: 0.00,
                                    option2: 0.00,
                                    option3: 0.00,
                                    description: item.id,
                                    notes: '',
                                    serviceType: service.serviceType,
                                    id: 0,
                                    isBundle: false,
                                    isActive: true,
                                    isMainBundle: true,
                                    measurements: [],
                                    sumTotalArea: 0,
                                    typeOfStoneType2: service.typeOfStoneType2
                                });
                                vm.addingBundles(service, item.id, true, vm.index);
                                isContainStripping(service);
                                var serviceTypeId = getServiceTypeId(service.subItem[0]);
                                service.subItem[0].serviceTypeId = serviceTypeId
                                service.subItem[0].unitType = getUnitTypeId(serviceTypeId);
                                return;
                            }
                            service.subItem.push({
                                serviceIds: { id: item.id },
                                option1: 0.00,
                                option2: 0.00,
                                option3: 0.00,
                                description: '',
                                notes: '',
                                serviceType: service.serviceType,
                                id: 0,
                                isBundle: false,
                                isMainBundle: false,
                                bundleName: '',
                                isActive: true,
                                salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, item.id)[0],
                                informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, item.id)[1],
                                class: "blinka",
                                typeOfStoneType2: service.typeOfStoneType2,
                                measurements: []

                            });
                            var serviceTypeId = getServiceTypeId(service.subItem[service.subItem.length - 1]);

                            changeServiceForSubItem(vm.index);
                            isContainStripping(service);
                            service.subItem[service.subItem.length - 1].serviceTypeId = serviceTypeId
                            service.subItem[service.subItem.length - 1].unitType = getUnitTypeId(serviceTypeId);
                        }
                        else {
                            if (bundleIndex > -1) {
                                service.isExpand = true;
                                vm.addingBundles(service, item.id, false, vm.index);
                                return;
                            }
                            vm.changeService(vm.index);
                            getSalesPersonNotes(service, vm.index);
                            isContainStripping(service);
                        }

                        isContainStripping(service);
                    },
                    onItemDeselect: function (item) {
                        var bundleIndex = item.id.indexOf("Bundle");
                        var serviceMain = vm.estimateInvoiceInfo.serviceList[vm.index];
                        var service = vm.estimateInvoiceInfo.serviceList[vm.index].subItem;

                        if (bundleIndex > -1) {
                            var serviceList = $filter('filter')(service, { bundleName: item.id }, true);
                            angular.forEach(serviceList, function (value1) {
                                var childServiceIndex = service.indexOf($filter('filter')(service, value1, true)[0]);
                                service.splice(childServiceIndex, 1);
                            });
                            var index = service.indexOf($filter('filter')(service, { serviceIds: item }, true)[0]);
                            if (index != -1) {
                                service.splice(index, 1);
                            }
                            var mainBundleCount = $filter('filter')(service, { isMainBundle: true }, true);
                            var mainBundleIndex = service.indexOf($filter('filter')(service, { isMainBundle: true }, true)[0]);
                            if (serviceMain.serviceIds.length == 0) {
                                serviceMain.description = '';
                            }
                            if (mainBundleIndex != -1 && serviceMain.serviceIds.length == mainBundleCount.length) {
                                serviceMain.description = service[mainBundleIndex].description;
                                serviceMain.serviceIds[0] = service[mainBundleIndex].serviceIds;
                                service.measurements = [];
                                service.splice(mainBundleIndex, 1);
                            }
                            return;
                        }
                        index = service.indexOf($filter('filter')(service, { serviceIds: item, isBundle: false }, true)[0]);
                        if (index > -1) {
                            service.splice(index, 1);
                        }
                        else {
                            var serviceLocal = vm.estimateInvoiceInfo.serviceList[vm.index];
                            index = serviceLocal.serviceIds.indexOf($filter('filter')(serviceLocal.serviceIds, { id: item }, true)[0]);
                            if (index > -1) {
                                serviceLocal.splice(index, 1);
                                serviceLocal.serviceIds = [];
                                serviceLocal.description = '';
                            }
                            else {
                                var serviceLocal = vm.estimateInvoiceInfo.serviceList[vm.index];
                                var serviceSubLocalList = vm.estimateInvoiceInfo.serviceList[vm.index].subItem;
                                serviceLocal.description = '';
                                serviceLocal.salesPersonNote = '';
                                serviceLocal.informationNote = '';
                                if (serviceSubLocalList.length > 0) {
                                    var serviceSubLocal = serviceSubLocalList[0];
                                    serviceLocal.option1 = serviceSubLocal.option1;
                                    serviceLocal.option2 = serviceSubLocal.option2;
                                    serviceLocal.option3 = serviceSubLocal.option3;
                                    serviceLocal.priceNotes = serviceSubLocal.priceNotes;
                                    serviceLocal.description = serviceSubLocal.description;
                                    serviceLocal.salesPersonNote = serviceSubLocal.salesPersonNote;
                                    serviceLocal.informationNote = serviceSubLocal.informationNote;
                                    serviceLocal.class = '';
                                    serviceLocal.subItem.splice(0, 1);
                                }
                            }
                            totalSumForOptions();
                        }
                        totalSumForOptions();
                    },
                    onSelectAll: function (item) {
                        var servicessList = [];
                        var serviceList = vm.serviceTypeForInvoiceList[vm.index];
                        var service = vm.estimateInvoiceInfo.serviceList[vm.index];
                        service.subItem = [];
                        angular.forEach(serviceList, function (value1, index) {

                            servicessList.push(value1);

                            var bundleIndex = value1.id.indexOf("Bundle");

                            if (bundleIndex > -1) {

                                if (index == 0) {
                                    service.serviceName = value1.id;
                                    vm.addingBundles(service, value1.id, true, vm.index);
                                    isContainStripping(service);
                                    var serviceTypeId = getServiceTypeId(service.subItem[0]);
                                    service.subItem[0].serviceTypeId = serviceTypeId
                                    service.subItem[0].unitType = getUnitTypeId(serviceTypeId);
                                }
                                else {
                                    service.subItem.push({
                                        serviceIds: { id: value1.id },
                                        option1: 0.00,
                                        option2: 0.00,
                                        option3: 0.00,
                                        description: value1.id,
                                        notes: '',
                                        serviceType: service.serviceType,
                                        id: 0,
                                        isBundle: true,
                                        isActive: true,
                                        isMainBundle: true,
                                        measurements: [],
                                        sumTotalArea: 0,
                                        typeOfStoneType2: service.typeOfStoneType2
                                    });
                                    vm.addingBundles(service, value1.id, true, vm.index);
                                    isContainStripping(service);
                                    var serviceTypeId = getServiceTypeId(service.subItem[0]);
                                    service.subItem[0].serviceTypeId = serviceTypeId
                                    service.subItem[0].unitType = getUnitTypeId(serviceTypeId);
                                }


                            }
                            else {

                                if (index > 0) {
                                    service.subItem.push({
                                        serviceIds: { id: value1.id },
                                        option1: 0.00,
                                        option2: 0.00,
                                        option3: 0.00,
                                        description: '',
                                        notes: '',
                                        serviceType: service.serviceType,
                                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, value1.id)[0],
                                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, value1.id)[1],
                                        class: "blinka",
                                        isBundle: false,
                                        isMainBundle: false
                                    });
                                }
                                else {
                                    service.serviceName = value1.id;
                                }
                            }
                            vm.changeService(0);
                            /*changeServiceForSubItem(0);*/
                        });

                        service.serviceIds = servicessList;
                        changeServiceForSubItem(vm.index);


                    },
                    onDeselectAll: function (item) {
                        var services = vm.estimateInvoiceInfo.serviceList[vm.index];
                        services.serviceIds = [];
                        services.subItem = [];
                        services.description = '';
                        services.notes = '';
                        services.option1 = 0.00;
                        services.option2 = 0.00;
                        services.option3 = 0.00;
                        vm.option1 = 0.00;
                        vm.option2 = 0.00;
                        vm.option3 = 0.00;
                        changeServiceForSubItem(vm.index);
                    }
                }
                if (isBeforeAfterActiveFromSession == 'true') {
                    //vm.isGeneralTabActive = false;
                    changeTabFocus(4);
                    changeTab(4);
                }
                vm.previousTab = "1";
                function printSectionJob(imgs, $index) {
                    vm.jobEstimateImageForPrint = imgs[$index];
                    printElement(vm.jobEstimateImageForPrint, "printSection")
                }

                function printElement(elem, id) {
                    var isVisible = true;
                    $('#sizer').hide();
                    //$('#' + id).css('width', '50%');
                    var a = $('#' + id).clone();
                    if (a[0].attributes[2] != undefined && a[0].attributes[2].value != null) {
                        a[0].attributes[2].value = "display:block";
                        isVisible = false;
                    }
                    $('body *:visible').addClass("hide-during-print").hide();
                    $('body').append('<style> div#sizer {height:0px}@page{size:landscape; margin-bottom:50px;height: 9%;} @media print {md-content {overflow: visible;}}</style><html><head><title></title></head>');
                    $('body').prepend(a);
                    $('body').append('</html>');
                    window.print();
                    if (!isVisible) {
                        a[0].attributes[2].value = "display:none";
                    }
                    $('body .hide-during-print').show().removeClass("hide-during-print");
                    a.remove();
                }
                vm.imageParentChildListModel = {
                    imagePairs: [{
                        beforeImages: {},
                        afterImages: {}
                    }
                    ],
                };;

                vm.imageList = {
                    imagePairs: [{
                        beforeImages: {},
                        afterImages: {}
                    }
                    ],
                };

                vm.imageFileList = {
                    fileList: []
                };

                vm.typeId = [{ display: "Before", value: vm.BeforeAfterLookUp.Before }, { display: "During", value: vm.BeforeAfterLookUp.During }];

                vm.surfaceMaterial = [
                    { display: "Brick", value: "Brick" },
                    { display: "Carpet", value: "Carpet" },
                    { display: "Ceramic (tile and grout)", value: "Ceramic (tile and grout)" },
                    { display: "Concrete", value: "Concrete" },
                    { display: "Engineered Stone:Cesar", value: "Engineered Stone:Cesar" },
                    { display: "Engineered Stone:Corian", value: "Engineered Stone:Corian" },
                    { display: "Engineered Stone:Other", value: "Engineered Stone:Other" },
                    { display: "Engineered Stone:Zodiaq", value: "Engineered Stone:Zodiaq" },
                    { display: "Flagstone", value: "Flagstone" },
                    { display: "Glass", value: "Glass" },
                    { display: "Granite", value: "Granite" },
                    { display: "Limestone", value: "Limestone" },
                    { display: "Marble", value: "Marble" },
                    { display: "Marble (Tumbled)", value: "Marble (Tumbled)" },
                    { display: "Metal", value: "Metal" },
                    { display: "Mexican Tile", value: "Mexican Tile" },
                    { display: "Porcelain", value: "Porcelain" },
                    { display: "Quartz", value: "Quartz" },
                    { display: "Slate", value: "Slate" },
                    { display: "Terrazzo", value: "Terrazzo" },
                    { display: "Travertine", value: "Travertine" },
                    { display: "Vinyl", value: "Vinyl" },
                    { display: "Wood", value: "Wood" },
                    { display: "Other", value: "Other" }
                ];

                vm.buildingLocation = [
                    { display: "Bar", value: "Bar" },
                    { display: "Basement", value: "Basement" },
                    { display: "Bathroom", value: "Bathroom" },
                    { display: "Bedroom", value: "Bedroom" },
                    { display: "Building Exterior", value: "Building Exterior" },
                    { display: "Conference Room", value: "Conference Room" },
                    { display: "Dining", value: "Dining" },
                    { display: "Elevator", value: "Elevator" },
                    { display: "Exterior Feature", value: "Exterior Feature" },
                    { display: "Floor", value: "Floor" },
                    { display: "Foyer(Entrance)", value: "Foyer(Entrance)" },
                    { display: "Garage", value: "Garage" },
                    { display: "Guest Room", value: "Guest Room" },
                    { display: "Hall", value: "Hall" },
                    { display: "Headstone", value: "Headstone" },
                    { display: "Kitchen", value: "Kitchen" },
                    { display: "Laundry", value: "Laundry" },
                    { display: "Living", value: "Living" },
                    { display: "Lobby", value: "Lobby" },
                    { display: "Patient Room", value: "Patient Room" },
                    { display: "Stairs", value: "Stairs" },
                    { display: "Other", value: "Other" }
                ];

                vm.buildingLocationForInvoice = [
                    { label: "Bar", id: "Bar" },
                    { label: "Basement", id: "Basement" },
                    { label: "Bathroom", id: "Bathroom" },
                    { label: "Bedroom", id: "Bedroom" },
                    { label: "Building Exterior", id: "Building Exterior" },
                    { label: "Conference Room", id: "Conference Room" },
                    { label: "Dining", id: "Dining" },
                    { label: "Elevator", id: "Elevator" },
                    { label: "Exterior Feature", id: "Exterior Feature" },
                    { label: "Floor", id: "Floor" },
                    { label: "Foyer(Entrance)", id: "Foyer(Entrance)" },
                    { label: "Garage", id: "Garage" },
                    { label: "Guest Room", id: "Guest Room" },
                    { label: "Hall", id: "Hall" },
                    { label: "Headstone", id: "Headstone" },
                    { label: "Kitchen", id: "Kitchen" },
                    { label: "Laundry", id: "Laundry" },
                    { label: "Living", id: "Living" },
                    { label: "Lobby", id: "Lobby" },
                    { label: "Patient Room", id: "Patient Room" },
                    { label: "Stairs", id: "Stairs" },
                    { label: "Other", id: "Other" }
                ];

                vm.surfaceColor = [
                    { display: "Black", value: "Black" },
                    { display: "Blue", value: "Blue" },
                    { display: "Brown", value: "Brown" },
                    { display: "Creme Marfil", value: "Creme Marfil" },
                    { display: "Gray", value: "Gray" },
                    { display: "Green", value: "Green" },
                    { display: "Maroon", value: "Maroon" },
                    { display: "Red", value: "Red" },
                    { display: "Tan", value: "Tan" },
                    { display: "White", value: "White" },
                    { display: "Other", value: "Other" }
                ];

                vm.finishMaterial = [
                    { display: "Gloss", value: "Gloss" },
                    { display: "Matte", value: "Matte" },
                    { display: "Satin/Semi-Gloss", value: "Satin/Semi-Gloss" },
                    { display: "Ultimate Finish", value: "Ultimate Finish" },
                    { display: "Other", value: "Other" }
                ];

                function uploadNew() {

                }

                function beforeAfterMail(imgs, id) {
                    if (imgs.beforeImages.id == 0 || imgs.afterImages.id == 0) {
                        toaster.error("Please Save Before/After Pair First!!");
                        return;
                    }
                    notification.showConfirm("Kindly save the newly uploaded images, unsaved images will not be sent. Do you still want to continue?", "Send Mail", function () {
                        var modalInstance = $uibModal.open({
                            animation: true,
                            templateUrl: 'modules/scheduler/views/modal.send.mail.to.customers.client.view.html',
                            controller: 'ModalSendMailToCustomerController',
                            controllerAs: 'vm',
                            size: 'lg',
                            resolve: {
                                modalParam: function () {
                                    return {
                                        Imgs: imgs,
                                        Id: vm.rowId
                                    };
                                }
                            },
                            backdrop: 'static',
                        });
                        modalInstance.result.then(function () {
                            vm.imageParentChildListModel.beforeAfterImages = [];
                            getEstimateInfo();
                        });
                    });
                }

                function invoiceMail(imagesInfo) {
                    notification.showConfirm("Kindly save the newly uploaded images, unsaved images will not be sent. Do you still want to continue?", "Send Mail", function () {
                        schedulerService.invoiceSendMail(imagesInfo, vm.rowId).then(function (result) {
                            if (result.data != null) {
                                if (!result.data) {
                                    vm.isProcessing = false;
                                    toaster.error(result.message.message);
                                    getEstimateInfo();
                                }
                                else {
                                    vm.isProcessing = false;
                                    toaster.show(result.message.message);
                                    vm.imageParentChildListModel.beforeAfterImages = [];
                                    getEstimateInfo();
                                }
                                vm.isProcessing = false;
                            }
                        }).catch(function (err) {
                            vm.isProcessing = false;
                        });
                    });
                }

                function serviceSelectionChange(img, isFrombefore, imgs, mainObject, changedProperty) {
                    vm.isBeforeAfterImagesSave = false;
                    if (vm.serviceTypeLookUp.GROUTLIFE == img.serviceTypeId || vm.serviceTypeLookUp.CONCRETECOUNTERTOPS == img.serviceTypeId
                        || vm.serviceTypeLookUp.CONCRETEOVERLAYMENTS == img.serviceTypeId || vm.serviceTypeLookUp.CONCRETECOATINGS == img.serviceTypeId) {
                        img.isGroutilife = true;
                    }
                    else {
                        img.isGroutilife = false;
                    }
                    if (mainObject.isSelectedProperty == null) {
                        mainObject.isSelectedProperty = isFrombefore == true ? true : false;
                    }
                    if (mainObject.isSelectedProperty != isFrombefore) {
                        if (changedProperty == 'ServiceType') {
                            mainObject.isSelectedServiceTypeProperty = true;
                        }
                        if (changedProperty == 'SurfaceColor') {
                            mainObject.isSelectedSurfaceColorProperty = true;
                        }
                        if (changedProperty == 'FinishMaterial') {
                            mainObject.isSelectedFinishMaterialProperty = true;
                        }
                        if (changedProperty == 'CompanyName') {
                            mainObject.isSelectedCompanyNameProperty = true;
                        }
                        if (changedProperty == 'MaidService') {
                            mainObject.isSelectedMaidServiceProperty = true;
                        }
                        if (changedProperty == 'PropertyManager') {
                            mainObject.isSelectedPropertyManagerProperty = true;
                        }
                        if (changedProperty == 'MaidJanitorial') {
                            mainObject.isSelectedMaidJanitorialProperty = true;
                        }
                    }
                    if (mainObject.isSelectedProperty == isFrombefore && !mainObject.isChanged) {
                        if (mainObject.isSelectedServiceTypeProperty == false && changedProperty == 'ServiceType') {
                            imgs.serviceTypeId = img.serviceTypeId;
                            if (img.isGroutilife) {
                                imgs.isGroutilife = true;
                            }
                            else {
                                imgs.isGroutilife = false;
                            }
                        }
                        if (mainObject.isSelectedFinishMaterialProperty == false && changedProperty == 'FinishMaterial') {
                            imgs.finishMaterial = img.finishMaterial;
                        }
                        if (mainObject.isSelectedSurfaceColorProperty == false && changedProperty == 'SurfaceColor') {
                            imgs.surfaceColor = img.surfaceColor;
                        }
                        if (mainObject.isSelectedCompanyNameProperty == false && changedProperty == 'CompanyName') {
                            imgs.compamyName = img.compamyName;
                        }
                        if (mainObject.isSelectedMaidServiceProperty == false && changedProperty == 'MaidService') {
                            imgs.maidService = img.maidService;
                        }
                        if (mainObject.isSelectedPropertyManagerProperty == false && changedProperty == 'PropertyManager') {
                            imgs.propertyManager = img.propertyManager;
                        }
                        if (mainObject.isSelectedMaidJanitorialProperty == false && changedProperty == 'MaidJanitorial') {
                            imgs.maidJanitorial = img.maidJanitorial;
                        }
                    }
                }
                function CategoryTypeChange(img) {
                    if (vm.BeforeAfterLookUp.Before == img.typeId) {
                        img.text = 'Before';
                    }
                    else if (vm.BeforeAfterLookUp.During == img.typeId) {
                        img.text = 'During';
                    }
                }
                $rootScope.$on("FileId", function (evt, data) {
                    vm.fileModel = data;
                });
                function uploadMediaAfterBefore(afterImages, isFromBeforeAfter, isMultipleUpload,
                    beforeImages, isFromBefore, imageModel, index) {
                    vm.jobEstimateImagess = {};
                    vm.isSeletedIndex = index;
                    var img = [];
                    var beforeImagesProperties = [];
                    var afterImagesProperties = [];
                    afterImagesProperties = afterImages;
                    beforeImagesProperties = beforeImages;
                    angular.copy(imageModel, vm.jobEstimateImagess);
                    if (isFromBefore) {
                        img = beforeImages;
                    }
                    else {
                        img = afterImages;
                    }
                    if (img.imagesInfo.length > 0) {
                        vm.alreadyUploaded = true;
                    }
                    else {
                        vm.alreadyUploaded = false;
                    }
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/media-upload-before-after.client.view.html',
                        controller: 'MediaUploadBeforeAfterController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    EstimateInfo: vm.estimateInfo,
                                    isFromBeforeAfter: isFromBeforeAfter,
                                    alreadyUploaded: vm.alreadyUploaded,
                                    isMultiple: isMultipleUpload
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                        vm.isFirstElements = vm.jobEstimateImage.length == 1 ? true : false;
                        var length = vm.jobEstimateImage.length;
                        var fileLength = vm.fileModel.length;
                        if (length == 1) {
                            vm.isBeforeAfterImagesSave = false;
                            var beforeImageCount = vm.jobEstimateImage[0].beforeImages.imagesInfo.length;
                            var afterImageCount = vm.jobEstimateImage[0].afterImages.imagesInfo.length;
                            if (isFromBefore) {
                                vm.beforeAfterImagesFirstUploadedImages[0][0] = beforeImageCount;
                            }
                            else {
                                vm.beforeAfterImagesFirstUploadedImages[0][1] = afterImageCount;
                            }
                        }
                        else {
                            angular.forEach(vm.jobEstimateImage, function (value1) {
                                vm.isBeforeAfterImagesSave = false;
                                if (value1.beforeImages.imagesInfo.length > 0) {
                                    vm.beforeAfterImagesFirstUploadedImages[0][0] += 1;
                                }
                                if (value1.afterImages.imagesInfo.length > 0) {
                                    vm.beforeAfterImagesFirstUploadedImages[0][1] += 1;
                                }

                            });
                        }

                        var isParsedImageData = false;
                        var imageLength = vm.jobEstimateImage.length;
                        imageLength = imageLength + 1;

                        // when more than one image is uploaded so that uploaded either for that pane or different pane
                        if (((!isFromBefore && vm.beforeAfterImagesFirstUploadedImages[0][0] > 1) ||
                            (isFromBefore && vm.beforeAfterImagesFirstUploadedImages[0][1] > 1)) && vm.fileModel.length > 1) {
                            var index = -1;
                            GetttingPaneWithHavingBothImages(isFromBefore);
                            angular.forEach(vm.fileModel, function (fileModel) {
                                vm.isImageRemoved = true;
                                ++index;
                                var value = vm.jobEstimateImageDoublicate[index];
                                if (value != null) {
                                    var isImageAlreadyPresentinPane = false;
                                    if (isFromBefore) {
                                        if (value.beforeImages.imagesInfo.length > 0) {
                                            isImageAlreadyPresentinPane = true;
                                            --index;
                                        }
                                    }
                                    else {
                                        if (value.afterImages.imagesInfo.length > 0) {
                                            isImageAlreadyPresentinPane = true;
                                            --index;
                                        }
                                    }
                                    if (!isImageAlreadyPresentinPane) {
                                        var imageLength = vm.jobEstimateImage.length;
                                        imageLength = imageLength + 1;

                                        //var fileModel = vm.fileModel[index];

                                        fileService.getFileStreamByUrl(fileModel.relativeLocation).then(function (result) {
                                            $scope.imageUrl = fileService.getStreamUrl(result);
                                            jobEstimateImagess = {};
                                            angular.copy(imageModel, jobEstimateImagess);
                                            if (isFromBefore) {
                                                jobEstimateImagess.beforeImages.imagesInfo = [];
                                                if (value.beforeImages.imagesInfo.length < 1) {
                                                    value.beforeImages.filesList = [];
                                                    value.afterImages.imageIndex = value.beforeImages.imageIndex;
                                                    value.beforeImages.filesList.push(fileModel.fileId);
                                                    value.beforeImages.imagesInfo = [];
                                                    value.beforeImages.imagesInfo.push({
                                                        url: $scope.imageUrl, name: fileModel.caption, size: fileModel.size, status: fileModel.status,
                                                        createdBy: fileModel.createdBy, createdOn: fileModel.createdOn, id: 0, relativeLocation: null, fileId: fileModel.fileId, isSwapped: false
                                                    });
                                                }
                                                else {
                                                    vm.countForHavingPaneWithImages[0][0] += 1;
                                                }
                                            }
                                            else {
                                                var jobEstimateImagess = {};
                                                angular.copy(imageModel, jobEstimateImagess);
                                                value.afterImages.originalImageIndex = value.afterImages.selectedIndex;
                                                jobEstimateImagess.afterImages.imagesInfo = [];
                                                if (value.afterImages.imagesInfo.length < 1) {
                                                    value.afterImages.filesList = [];
                                                    value.afterImages.filesList.push(fileModel.fileId);
                                                    //value.beforeImages.imagesInfo = [];
                                                    value.afterImages.imagesInfo.push({
                                                        url: $scope.imageUrl, name: fileModel.caption, size: fileModel.size, status: fileModel.status,
                                                        createdBy: fileModel.createdBy, createdOn: fileModel.createdOn, id: 0, relativeLocation: null, fileId: fileModel.fileId, isSwapped: false
                                                    });
                                                }
                                                else {
                                                    vm.countForHavingPaneWithImages[0][1] += 1;
                                                }
                                            }
                                            AddingNewPane(imageModel, value, fileModel);
                                        });
                                    }
                                }
                                else {
                                    if (isFromBefore) {
                                        vm.countForHavingPaneWithImages[0][0] += 1;
                                    }
                                    else {
                                        vm.countForHavingPaneWithImages[0][1] += 1;
                                    }
                                }
                                AddingNewPane(imageModel, value, fileModel);
                            });
                        }

                        else {
                            vm.isDeleted = false;
                            angular.forEach(vm.fileModel, function (value, index) {
                                vm.isImageRemoved = true;
                                img.filesList.push(value.fileId);
                                fileService.getFileStreamByUrl(value.relativeLocation).then(function (result) {
                                    var length = vm.jobEstimateImage.length;
                                    length = length + 1;
                                    $scope.imageUrl = fileService.getStreamUrl(result);
                                    vm.isBeforeAFterSave = true;

                                    // when there is no image pane for first time use
                                    if (img.imagesInfo.length == 0 && vm.beforeAfterImagesFirstUploadedImages[0][0] == 0 && vm.beforeAfterImagesFirstUploadedImages[0][1] == 0) {
                                        if (isFromBefore) {
                                            afterImages.imageIndex = beforeImages.imageIndex;
                                            afterImages.selectedIndex = afterImages.imageIndex;
                                        }
                                        else {
                                            beforeImages.imageIndex = afterImages.imageIndex;
                                            beforeImages.selectedIndex = afterImages.imageIndex;
                                        }
                                        img.filesList = [];
                                        img.filesList.push(value.fileId);
                                        img.imagesInfo = [];

                                        img.imagesInfo.push({
                                            url: $scope.imageUrl, name: value.caption, size: value.size, status: value.status,
                                            createdBy: value.createdBy, createdOn: value.createdOn, id: 0, relativeLocation: null, fileId: value.fileId, isSwapped: false
                                        });
                                        vm.isDeleted = true;
                                    }

                                    // when only one image is uploaded so that it will be replace only in that pane
                                    else if (vm.fileModel.length == 1) {
                                        vm.isDeleted = true;
                                        if (img.imagesInfo.length > 1) {
                                            img.id = 0;
                                            if (isFromBefore) {
                                                afterImages.imageIndex = img.imageIndex;
                                            }
                                            else {
                                                beforeImages.imageIndex = img.imageIndex;
                                            }
                                            img.imagesInfo[0].url = $scope.imageUrl;
                                            img.imagesInfo[0].name = value.caption;
                                            img.imagesInfo[0].size = value.size;
                                            img.imagesInfo[0].status = value.status;
                                            img.imagesInfo[0].createdBy = value.createdBy;
                                            img.imagesInfo[0].createdOn = value.createdOn;
                                            img.imagesInfo[0].id = 0;
                                            img.filesList = [];
                                            img.filesList.push(value.fileId);
                                            img.imagesInfo[0].relativeLocation = null;
                                            img.imagesInfo[0].fileId = value.fileId;
                                        }
                                        else {
                                            img.imagesInfo = [];
                                            img.filesList = [];
                                            img.filesList.push(value.fileId);
                                            img.imagesInfo.push({
                                                url: $scope.imageUrl, name: value.caption, size: value.size, status: value.status,
                                                createdBy: value.createdBy, createdOn: value.createdOn, id: 0, relativeLocation: null, fileId: value.fileId, isSwapped: false
                                            });
                                        }
                                    }

                                    else if (vm.fileModel.length > 1) {
                                        var index11 = -1;
                                        var jobEstimateImagess = {};
                                        var isIndexFound = false;

                                        if (!vm.isDeleted) {
                                            vm.jobEstimateImage.splice(vm.isSeletedIndex, 1);
                                            vm.isDeleted = true;
                                        }

                                        length = vm.jobEstimateImage.length;
                                        length = length + 1;
                                        if (isFromBefore) {
                                            angular.copy(imageModel, jobEstimateImagess);
                                            var count = vm.fileModel.length;
                                            jobEstimateImagess.id = 0;
                                            jobEstimateImagess.beforeImages.imageIndex = length;
                                            jobEstimateImagess.afterImages.imageIndex = length;
                                            jobEstimateImagess.afterImages.selectedIndex = length;
                                            jobEstimateImagess.beforeImages.selectedIndex = length;
                                            jobEstimateImagess.afterImages.id = 0;
                                            jobEstimateImagess.afterImages.imagesInfo = [];
                                            jobEstimateImagess.beforeImages.id = 0;
                                            jobEstimateImagess.afterImages.filesList = [];
                                            jobEstimateImagess.beforeImages.isBeforeImage = img.isBeforeImage;
                                            jobEstimateImagess.afterImages.isBeforeImage = img.isBeforeImage;

                                            jobEstimateImagess.beforeImages.imagesInfo = [];
                                            jobEstimateImagess.beforeImages.filesList = [];
                                            jobEstimateImagess.beforeImages.filesList.push(value.fileId);
                                            jobEstimateImagess.beforeImages.imagesInfo = [];
                                            jobEstimateImagess.beforeImages.imagesInfo.push({
                                                url: $scope.imageUrl, name: value.caption, size: value.size, status: value.status,
                                                createdBy: value.createdBy, createdOn: value.createdOn, id: 0, relativeLocation: null, fileId: value.fileId, isSwapped: false
                                            });
                                            rearrangePaneNumber();
                                        }
                                        else {
                                            angular.copy(imageModel, jobEstimateImagess);
                                            var count = vm.fileModel.length;
                                            jobEstimateImagess.id = 0;
                                            jobEstimateImagess.beforeImages.isBeforeImage = img.isBeforeImage;
                                            jobEstimateImagess.afterImages.isBeforeImage = img.isBeforeImage;
                                            jobEstimateImagess.beforeImages.imageIndex = length;
                                            jobEstimateImagess.afterImages.imageIndex = length;
                                            jobEstimateImagess.beforeImages.id = 0;
                                            jobEstimateImagess.beforeImages.filesList = [];
                                            jobEstimateImagess.afterImages.id = 0;
                                            jobEstimateImagess.afterImages.imagesInfo = [];
                                            jobEstimateImagess.beforeImages.imagesInfo = [];
                                            jobEstimateImagess.afterImages.filesList = [];
                                            jobEstimateImagess.afterImages.filesList.push(value.fileId);
                                            jobEstimateImagess.afterImages.imagesInfo = [];
                                            jobEstimateImagess.afterImages.imagesInfo.push({
                                                url: $scope.imageUrl, name: value.caption, size: value.size, status: value.status,
                                                createdBy: value.createdBy, createdOn: value.createdOn, id: 0, relativeLocation: null, fileId: value.fileId, isSwapped: false
                                            });
                                        }
                                        vm.jobEstimateImage.unshift(jobEstimateImagess);
                                        rearrangePaneNumber();
                                    }

                                    getListForBeforeAfterDropDown();
                                    if (index == vm.fileModel.length - 1) {
                                        vm.save(true);
                                    }
                                });
                            });
                            getListForBeforeAfterDropDown();
                            //vm.save(true);
                        }

                        // Loop for Adding Pane for Uploading Images more then Pane

                    });

                    getListForBeforeAfterDropDown();

                }

                function deleteRow(imgs, $index) {
                    notification.showConfirm("This image will also be deleted from the Bulk Photo Upload area.\nDo you really want to delete the Before-After Images?", "Delete Before-After Images", function () {
                        vm.isRowDelete = true;
                        vm.isBeforeAfterImagesSave = false;
                        var index = imgs[$index];
                        imgs.splice($index, 1);
                        rearrangePaneNumber();
                        getListForBeforeAfterDropDown();
                        save(true);
                        toaster.show("Media Deleted Successfully");
                    });
                }
                function OptionChanged(imgs, isBeforeImage) {
                    if (isBeforeImage) {
                        vm.isBeforeAfterImagesSave = false;
                        imgs.afterImages.buildingLocation = imgs.beforeImages.buildingLocation;
                        imgs.afterImages.surfaceMaterial = imgs.beforeImages.surfaceMaterial;
                        imgs.afterImages.surfaceType = imgs.beforeImages.surfaceType;
                        imgs.afterImages.isBeforeImage = true;
                        imgs.beforeImages.isBeforeImage = true;
                        vm.isBeforeConditionSet = true;
                        imgs.afterImages.isDisable = true;
                        imgs.beforeImages.isDisable = false;
                    }
                    else {
                        vm.isBeforeAfterImagesSave = false;
                        imgs.beforeImages.buildingLocation = imgs.afterImages.buildingLocation;
                        imgs.beforeImages.surfaceMaterial = imgs.afterImages.surfaceMaterial;
                        imgs.beforeImages.surfaceType = imgs.afterImages.surfaceType;
                        imgs.afterImages.isBeforeImage = false;
                        imgs.beforeImages.isBeforeImage = false;
                        imgs.beforeImages.isDisable = true;
                        imgs.afterImages.isDisable = false;
                        vm.isAfterConditionSet = true;
                    }
                }
                function removeImage(slide, $index, value, isFromBefore, parentIndex) {
                    var parentIndexes = parentIndex;
                    vm.query.userId = slide[$index].userId;
                    vm.query.uploadDateTime = slide[$index].createdOn;
                    if (!vm.isSuperAdmin && !vm.isFrontOffice && vm.query.userId != undefined) {
                        return schedulerService.isEligibleForDeletion(vm.query).then(function (result) {
                            vm.isEligible = result.data;
                            if (!vm.isEligible) {
                                toaster.error("Permission to remove media is not allowed. Kindly contact Administrator!");
                            }
                            else {
                                notification.showConfirm("This image will also be deleted from Bulk photo upload area. Do you really want to delete the Media?", "Delete Media", function () {
                                    vm.isBeforeAfterImagesSave = false;
                                    var index = slide[$index];
                                    if (value == 0) {

                                        if (isFromBefore) {
                                            vm.jobEstimateImage[$index].beforeImages.originalId = slide[$index].id;
                                            vm.jobEstimateImage[parentIndexes].beforeImages.filesList = [];
                                        }
                                        else {
                                            vm.jobEstimateImage[$index].afterImages.originalId = slide[$index].id;
                                            vm.jobEstimateImage[parentIndexes].afterImages.filesList = [];
                                        }
                                    }
                                    if (value == 1) {
                                        if (vm.isInvoiceTab) {
                                            vm.isBeforeAfterImagesSave = true;
                                            vm.isInvoiceSave = false;
                                        }
                                        else {
                                            vm.isBeforeAfterImagesSave = true;
                                            vm.isExteriorImageSave = false;
                                        }
                                    }
                                    slide.splice($index, 1);
                                    toaster.show("Media Deleted Successfully");
                                    save(true);
                                });
                            }
                        }).catch(function (err) {
                            vm.isProcessing = false;
                        });
                    }
                    else {
                        notification.showConfirm("This image will also be deleted from Bulk photo upload area. Do you really want to delete the Media?", "Delete Media", function () {
                            var index = slide[$index];
                            if (value == 0) {
                                if (isFromBefore) {
                                    vm.isBeforeAfterImagesSave = false;
                                    vm.jobEstimateImage[$index].beforeImages.originalId = slide[$index].id;
                                    vm.jobEstimateImage[parentIndexes].beforeImages.filesList = [];
                                }
                                else {
                                    vm.isBeforeAfterImagesSave = false;
                                    vm.jobEstimateImage[$index].afterImages.originalId = slide[$index].id;
                                    vm.jobEstimateImage[parentIndexes].afterImages.filesList = [];
                                }
                            }
                            if (value == 1) {
                                if (vm.isInvoiceTab) {
                                    vm.isBeforeAfterImagesSave = true;
                                    vm.isInvoiceSave = false;
                                }
                                else {
                                    vm.isBeforeAfterImagesSave = true;
                                    vm.isExteriorImageSave = false;
                                }
                            }
                            slide.splice($index, 1);
                            toaster.show("Media Deleted Successfully");
                            save(true);
                        });

                    }
                }
                function remove(slide, $index, value) {
                    vm.isExteriorImageSave = false;
                    var index = vm.jobEstimateImage.indexOf(slide);
                    vm.jobEstimateImage.splice(index, 1);
                }
                $rootScope.$on("FileId", function (evt, data) {
                    vm.fileModel = data;
                });
                $scope.trustSrc = function (src) {
                    return $sce.trustAsResourceUrl(src);
                }
                $rootScope.$on("FileId", function (evt, data) {
                    vm.fileModel = data;
                });
                function uploadMediaBuildingInvoice(img, isFromInvoice, isFromBuilding) {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/media-job-upload.client.view.html',
                        controller: 'MediaJobUploadController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    EstimateInfo: vm.estimateInfo,
                                    IsFromInvoice: true,
                                    isFromBuilding: isFromBuilding
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {

                        if (vm.fileModel != undefined && vm.fileModel != null && vm.fileModel.length > 0 && isFromInvoice) {
                            angular.forEach(vm.fileModel, function (value) {
                                vm.isInvoiceSave = false;
                                img.filesList.push(value.fileId);
                                vm.isInvoiceMedia = true;
                                fileService.getFileStreamByUrl(value.relativeLocation).then(function (result) {
                                    $scope.imageUrl = fileService.getStreamUrl(result);
                                    var array = [];
                                    var fileExtension;
                                    if (value.iFrameLocation != null) {
                                        array = value.relativeLocation.split('.');
                                        fileExtension = array[array.length - 1];
                                    }
                                    img.imagesInfo.push({
                                        url: $scope.imageUrl, extension: fileExtension, name: value.caption, size: value.size, status: value.status,
                                        createdBy: value.createdBy, createdOn: value.createdOn, id: 0, relativeLocation: null, fileId: value.fileId,
                                        isiFrame: value.isiFrame, iframUrl: "https://docs.google.com/gview?url=" + value.iFrameLocation + "&embedded=true"
                                    });
                                });
                            });
                        }
                        else if (vm.fileModel != undefined && vm.fileModel != null && vm.fileModel.length > 0 && !isFromInvoice) {
                            angular.forEach(vm.fileModel, function (value) {
                                vm.isExteriorImageSave = false;
                                img.filesList.push(value.fileId);
                                vm.isMediaSave = true;
                                fileService.getFileStreamByUrl(value.relativeLocation).then(function (result) {
                                    $scope.imageUrl = fileService.getStreamUrl(result);
                                    img.imagesInfo.push({
                                        url: $scope.imageUrl, name: value.caption, size: value.size, status: value.status,
                                        createdBy: value.createdBy, createdOn: value.createdOn
                                    });
                                });
                            });
                        }
                    });
                    //getJobInfo();

                }
                function getJobEstimateSlides() {
                    var len = vm.jobEstimateImage.length;
                    angular.forEach(vm.jobEstimateImage, function (values, index) {
                        /* if (vm.jobEstimateImage.thum)*/
                        angular.forEach(values.beforeImages.imagesInfo, function (value, index) {
                            if (value.s3BucketImageUrl == null && value.s3BucketThumbImageUrl == null) {
                                if (value != null && value.thumbImageUrl != null) {
                                    fileService.getFileStreamByUrl(value.thumbImageUrl).then(function (result) {
                                        value.thumbUrl = fileService.getStreamUrl(result);
                                    });
                                }
                                else if (value != null && value.imageUrl != null) {
                                    fileService.getFileStreamByUrl(value.imageUrl).then(function (result) {
                                        value.url = fileService.getStreamUrl(result);
                                    });
                                }
                                else {
                                    value.url = '';
                                }
                            }
                            else {
                                value.thumbUrl = value.s3BucketThumbImageUrl;
                            }
                            if (value.isImageCropped) {
                                if (value != null && value.croppedImageThumb != null) {
                                    fileService.getFileStreamByUrl(value.croppedImageThumb).then(function (result) {
                                        value.thumbUrlCropped = fileService.getStreamUrl(result);
                                    });
                                }
                            }
                        });
                        angular.forEach(values.afterImages.imagesInfo, function (value, index) {
                            if (value.s3BucketImageUrl == null && value.s3BucketThumbImageUrl == null) {
                                if (value != null && value.thumbImageUrl != null) {
                                    fileService.getFileStreamByUrl(value.thumbImageUrl).then(function (result) {
                                        value.thumbUrl = fileService.getStreamUrl(result);
                                    });
                                }
                                else if (value != null && value.imageUrl != null) {
                                    fileService.getFileStreamByUrl(value.imageUrl).then(function (result) {
                                        value.url = fileService.getStreamUrl(result);
                                    });
                                }
                                else {
                                    value.url = '';
                                }
                            }
                            else {
                                value.thumbUrl = value.s3BucketThumbImageUrl;
                            }
                            if (value.isImageCropped) {
                                fileService.getFileStreamByUrl(value.croppedImageThumb).then(function (result) {
                                    value.thumbUrlCropped = fileService.getStreamUrl(result);
                                });
                            }
                        });
                    });
                }
                function getInvoiceSlides() {
                    angular.forEach(vm.imvoiceImagesList.imagesInfo, function (value, index) {
                        if (value.imageUrl != null) {
                            fileService.getFileStreamByUrl(value.imageUrl).then(function (result) {
                                value.url = fileService.getStreamUrl(result);
                                value.isImageSaved = true;
                                var array = [];
                                var extension = '';
                                if (value.name != null) {
                                    array = value.name.split('.');
                                    extension = array[array.length - 1];
                                    value.extension = extension;
                                    if (extension == "jpg" || extension == "jpeg" || extension == "png" || extension == "PNG") {
                                        value.isImage = true;
                                    }
                                }
                                value.isiFrame,
                                    value.iframUrl = "https://docs.google.com/gview?url=" + value.iFrameUrl + "&embedded=true"
                            });
                        }
                        else {
                            value.src = '';
                        }
                        if (value.name != null) {
                            value.documentName = value.name;
                        }
                        else {
                            if (value.caption != null && value.createdOn != null) {
                                value.documentName = value.caption + "_" + $filter('date')(value.createdOn, "MM/dd/yyyy") + ".pdf";
                            }
                            else if (value.caption != null) {
                                value.documentName = value.caption + ".pdf";
                            }
                            else if (value.createdOn != null) {
                                value.documentName = $filter('date')(value.createdOn, "MM/dd/yyyy") + ".pdf";
                            }

                            else {
                                value.documentName = '';
                            }
                        }
                    });
                }
                function getBuildingExteriorSlides() {
                    angular.forEach(vm.sliderImages.imagesInfo, function (value, index) {
                        var array = [];
                        var extension = '';
                        if (value.imageUrl != null && (value.s3BucketImageUrl == null || value.s3BucketImageUrl == "")) {
                            fileService.getFileStreamByUrl(value.imageUrl).then(function (result) {
                                value.url = fileService.getStreamUrl(result);
                            });
                            value.url = value.imageUrl;
                            value.isImageSaved = true;
                            if (value.name != null) {
                                array = value.name.split('.');
                                extension = array[array.length - 1];
                                if (extension == "jpg" || extension == "jpeg" || extension == "png" || extension == "PNG") {
                                    value.isImage = true;
                                }
                            }
                        }
                        else if ((value.s3BucketImageUrl != null)) {
                            value.url = value.s3BucketImageUrl;
                            value.isImageSaved = true;
                            if (value.name != null) {
                                array = value.name.split('.');
                                extension = array[array.length - 1];
                                if (extension == "jpg" || extension == "jpeg" || extension == "png" || extension == "PNG") {
                                    value.isImage = true;
                                }
                            }
                        }
                        else {
                            value.src = '';
                        }

                    });
                }

                function getSlides() {
                    angular.forEach(vm.media.resources, function (value) {
                        fileService.getFileStreamByUrl(value.relativeLocation).then(function (result) {
                            $scope.imageUrl = fileService.getStreamUrl(result);
                            $scope.slides.push({
                                url: $scope.imageUrl, name: value.caption, size: value.size, status: value.status,
                                createdBy: value.createdBy, createdOn: value.createdOn
                            });
                        });
                    });
                }

                function addNew() {
                    var length = vm.jobEstimateImage.length;
                    length = length + 1;
                    vm.jobEstimateImagess = [];
                    var tempArray = [];
                    vm.count = vm.imageList.imagePairs.length;
                    vm.rowid = ++vm.count;
                    vm.myText = "BEFORE";
                    angular.copy(vm.imageList.imagePairs, vm.jobEstimateImagess);

                    if (vm.jobEstimateImage.length > 0) {
                        vm.isBeforeAfterImagesSave = false;
                        var firstElement = [];
                        angular.copy(vm.jobEstimateImage[0], firstElement);
                        firstElement.beforeImages.id = 0;
                        firstElement.afterImages.id = 0;
                        firstElement.beforeImages.filesList = [];
                        firstElement.beforeImages.imagesInfo = [];
                        firstElement.afterImages.filesList = [];
                        firstElement.afterImages.imagesInfo = [];
                    }
                    vm.jobEstimateImagess = ({
                        isSelectedProperty: null,
                        isSelectedServiceTypeProperty: false,
                        isSelectedFinishMaterialProperty: false,
                        isSelectedSurfaceColorProperty: false,
                        isSelectedCompanyNameProperty: false,
                        isSelectedMaidServiceProperty: false,
                        isSelectedPropertyManagerProperty: false,
                        isSelectedMaidJanitorialProperty: false,
                        isChanged: false,
                        beforeImages: { filesList: [], imagesInfo: [], id: 0, isDisable: false, isGroutilife: false, typeId: vm.BeforeAfterImages.Before, isRequired: true, floorNumber: 1, imageIndex: length, originalImageIndex: length, originalId: 0, isBestPicture: false },
                        afterImages: { filesList: [], imagesInfo: [], id: 0, isDisable: false, isGroutilife: false, typeId: vm.BeforeAfterImages.After, isRequired: true, floorNumber: 1, imageIndex: length, originalImageIndex: length, originalId: 0, isBestPicture: false }
                    });
                    if (vm.jobEstimateImage.length > 0) {
                        vm.isBeforeAfterImagesSave = false;
                        vm.jobEstimateImagess.beforeImages = firstElement.beforeImages;
                        vm.jobEstimateImagess.afterImages = firstElement.afterImages;
                        vm.jobEstimateImagess.beforeImages.isDisable = false;
                        vm.jobEstimateImagess.afterImages.isDisable = false;
                        vm.jobEstimateImagess.beforeImages.imageIndex = length;
                        vm.jobEstimateImagess.afterImages.imageIndex = length;

                    }
                    vm.imageParentChildListModel = (vm.jobEstimateImagess);
                    vm.jobEstimateImage.unshift(vm.jobEstimateImagess);
                    vm.imageParentChildListModel = [];
                    vm.jobEstimateImagess = [];
                    getListForBeforeAfterDropDown();
                    rearrangePaneNumber();
                }

                function addNote() {
                    if (!vm.isExteriorImageSave || !vm.isInvoiceSave || !vm.isBeforeAfterImagesSave) {
                        if (!vm.isBeforeAfterActive) {
                            changeTab(4);
                        }
                        else if (!vm.isInvoiceTabActive) {
                            changeTab(2)
                        }
                        else if (!vm.isExteriorImageActive) {
                            changeTab(3)
                        }
                        if (vm.isCancelledClick) {
                            return;
                        }
                    }
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/note-add.client.view.html',
                        controller: 'SchedulerNoteController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    EstimateInfo: vm.estimateInfo,
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                        getEstimateInfo();
                    });
                }

                function repeatEstimate() {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/estimate-repeat.client.view.html',
                        controller: 'EstimateRepeatController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    JobInfo: vm.estimateInfo,
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                        getEstimateInfo();
                    });
                }

                function uploadMedia() {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/media-upload.client.view.html',
                        controller: 'MediaUploadController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    EstimateInfo: vm.estimateInfo,
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                        getEstimateInfo();
                    });
                }

                function editEstimate() {
                    if (!vm.isExteriorImageSave || !vm.isInvoiceSave || !vm.isBeforeAfterImagesSave) {
                        if (!vm.isBeforeAfterActive) {
                            changeTab(4);
                        }
                        else if (!vm.isInvoiceTabActive) {
                            changeTab(2)
                        }
                        else if (!vm.isExteriorImageActive) {
                            changeTab(3)
                        }
                        if (vm.isCancelledClick) {
                            return;
                        }
                    }
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/create-estimate.client.view.html',
                        controller: 'CreateEstimateController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    EstimateId: vm.estimateId,
                                    IsCopy: vm.isCopy,
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                        getEstimateInfo();
                    });
                }

                function manageJob(id, schedulerId) {

                    $state.go('core.layout.scheduler.job', { id: id, rowId: schedulerId });
                }

                function getEstimateInfo() {
                    vm.isProcessing = true;
                    $scope.editMode = false;
                    return estimateService.getEstimateInfo(vm.estimateId).then(function (result) {
                        vm.estimateInfo = result.data;
                        if (!vm.estimateInfo.isInvoicePresent) {
                            if (vm.estimateInfo.amount > 0) {
                                vm.estimatedPrice = vm.estimateInfo.amount;
                            }
                        }
                        if (vm.estimateInfo.isInvoicePresent) {
                            if (vm.estimateInfo.estimatedAmount > 0) {
                                vm.estimatedPrice = vm.estimateInfo.estimatedAmount;
                            }
                        }
                        vm.estimateInvoiceInfo.address = vm.estimateInfo.jobCustomer.address.addressLine1;
                        vm.estimateInvoiceInfo.city = vm.estimateInfo.jobCustomer.address.city + ', ' + vm.estimateInfo.jobCustomer.address.state
                            + ' ' + vm.estimateInfo.jobCustomer.address.zipCode;
                        vm.estimateInvoiceInfo.lessDepositPercentage = vm.estimateInfo.lessDeposit;
                        vm.estimateInvoiceInfo.phoneNumber1 = vm.estimateInfo.jobCustomer.phoneNumber;
                        vm.estimateInvoiceInfo.customerName = vm.estimateInfo.jobCustomer.customerName;
                        vm.estimateInvoiceInfo.email = vm.estimateInfo.jobCustomer.email;

                        vm.estimateInvoiceId = vm.estimateInfo.estimateInvoiceId;

                        vm.estimateInvoiceInfo.marketingClassId = vm.estimateInfo.marketingClassId;
                        vm.estimateInvoiceInfo.marketingClass = $filter('filter')(vm.marketingClass, { value: vm.estimateInvoiceInfo.marketingClassId })[0].display;
                        if (vm.estimateInfo.estimateSchedulerList.length >= 1) {
                            vm.isRepeative = true;
                        }
                        else {
                            vm.isRepeative = false;
                        }
                        angular.forEach(vm.estimateInfo.estimateSchedulerList, function (item) {

                            if (item.id == vm.rowId) {
                                item.alias = true;
                                vm.assigneeName = item.assigneeName;
                            }
                            else {
                                item.alias = false;
                            }
                            item.startDate = moment((item.actualStartDateString)).format("MM/DD/YYYY HH:mm");
                            item.endDate = moment((item.actualEndDateString)).format("MM/DD/YYYY HH:mm");
                        })

                        $scope.currentJob = $filter('filter')(vm.estimateInfo.estimateSchedulerList, { id: vm.rowId })[0];
                        vm.imageList.jobTypeId = vm.estimateInfo.jobTypeId.toString();
                        $scope.franchiseeId = result.data.franchiseeId;
                        var inDbDate = new Date(result.data.startDate.replace(/\s/, 'T') + 'Z');
                        vm.estimateInfo.startDate = moment((result.data.actualStartDateString)).format("MM/DD/YYYY HH:mm");
                        vm.estimateInfo.endDate = moment((result.data.actualEndDateString)).format("MM/DD/YYYY HH:mm");
                        checkingForPastEstimate();
                        getMedia();
                        getListForBeforeAfterDropDown();
                        //getList();
                        vm.isProcessing = false;
                    });
                }

                function getMedia() {
                    vm.noOfUnPaired = 0;
                    $scope.slides = [];
                    vm.jobEstimateImage = [];
                    vm.isPrintable = false;
                    vm.isMediaPrintable = false;
                    vm.isMediaSave = false;
                    vm.mediaModel.rowId = vm.rowId;
                    vm.mediaModel.MediaType = vm.MediaType.Estimate;
                    return schedulerService.getMedia(vm.mediaModel).then(function (result) {
                        vm.media = result.data;
                        vm.imageList = vm.media.imageList;
                        vm.imvoiceImagesList = vm.media.imageList.invoiceImages;

                        //vm.imageType = vm.media.imageList.sliderImages.imagesInfo;
                        if (vm.imageList.imagePairs.length > 0) {
                            vm.isBeforeAFterSave = true;
                        }
                        if (vm.imvoiceImagesList.imagesInfo.length > 0) {
                            vm.isPrintable = true;
                        }
                        if (vm.imvoiceImagesList.imagesInfo.length > 0) {
                            vm.isInvoiceMedia = true;
                        }
                        vm.sliderImages = vm.media.imageList.sliderImages;

                        if (vm.media.imageList.sliderImages.imagesInfo.length > 0) {
                            vm.isMediaSave = true;
                        }
                        vm.sliderImages = vm.media.imageList.sliderImages;
                        if (vm.media != null && vm.media.imageList != null) {
                            vm.imageList.marketingClassId = vm.estimateInfo.jobTypeId.toString();
                            vm.currentMarketingClass = $filter('filter')(vm.marketingClass, { value: vm.imageList.marketingClassId })[0];

                            if (vm.imageList.marketingClassId == vm.marketingClassLookUp.RESIDENTIAL) {
                                vm.isResidential = true;
                            }
                            angular.forEach(vm.imageList.imagePairs, function (items) {
                                vm.jobEstimateImage.push(items);
                            })
                        }
                        if (vm.imageList.imagePairs.length > 0) {
                            angular.forEach(vm.jobEstimateImage, function (items) {
                                if (items.afterImages.imagesInfo.length != items.beforeImages.imagesInfo.length) {
                                    vm.noOfUnPaired += 1;
                                }
                                if (vm.serviceTypeLookUp.GROUTLIFE == items.afterImages.serviceTypeId || vm.serviceTypeLookUp.CONCRETECOUNTERTOPS == items.afterImages.serviceTypeId
                                    || vm.serviceTypeLookUp.CONCRETEOVERLAYMENTS == items.afterImages.serviceTypeId || vm.serviceTypeLookUp.CONCRETECOATINGS == items.afterImages.serviceTypeId) {
                                    items.afterImages.isGroutilife = true;
                                }
                                else {
                                    items.afterImages.isGroutilife = false;
                                }
                                if (items.beforeImages.serviceTypeId != null) {
                                    var serviceTypeId = items.beforeImages.serviceTypeId.toString();
                                    items.beforeImages.serviceTypeId = serviceTypeId;
                                }
                                if (items.afterImages.serviceTypeId != null) {
                                    var serviceTypeId = items.afterImages.serviceTypeId.toString();
                                    items.afterImages.serviceTypeId = serviceTypeId;
                                }
                                if (vm.serviceTypeLookUp.GROUTLIFE == items.beforeImages.serviceTypeId || vm.serviceTypeLookUp.CONCRETECOUNTERTOPS == items.beforeImages.serviceTypeId
                                    || vm.serviceTypeLookUp.CONCRETEOVERLAYMENTS == items.beforeImages.serviceTypeId || vm.serviceTypeLookUp.CONCRETECOATINGS == items.beforeImages.serviceTypeId) {
                                    items.beforeImages.isGroutilife = true;
                                }
                                else {
                                    items.beforeImages.isGroutilife = false;
                                }
                            });
                        }
                        getJobEstimateSlides();
                        getBuildingExteriorSlides();
                        getInvoiceSlides();
                        getListForBeforeAfterDropDown();
                        checkIfMarketingClassIsAsRequiredOrNot();
                        creatingLightBox();
                    });
                }

                function getServicesCollection() {
                    //return franchiseeService.getServiceTypeCollectionForInvoiceNew().then(function (result) {
                    //    vm.serviceType = result.data;
                    //    vm.serviceTypeForInvoices = result.data;
                    //    //vm.elementInList = $filter('filter')(vm.serviceTypeForInvoices, { display: "COLORSEAL" });
                    //    //var index = vm.serviceTypeForInvoices.indexOf($filter('filter')(vm.serviceTypeForInvoices, { display: "COLORSEAL" }, true)[0]);
                    //    //vm.serviceTypeForInvoices.splice(index, 1);
                    //});
                }

                function convertToJob() {
                    if (!vm.isExteriorImageSave || !vm.isInvoiceSave || !vm.isBeforeAfterImagesSave) {
                        if (!vm.isBeforeAfterActive) {
                            changeTab(4);
                        }
                        else if (!vm.isInvoiceTabActive) {
                            changeTab(2)
                        }
                        else if (!vm.isExteriorImageActive) {
                            changeTab(3)
                        }
                        if (vm.isCancelledClick) {
                            return;
                        }
                    }
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/create-job.client.view.html',
                        controller: 'CreateJobController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    EstimateId: vm.estimateId,
                                    ConvertToJob: true,
                                    EstimateInfo: angular.copy(vm.estimateInfo)
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                        getEstimateInfo();
                        getInvoiceDetails();
                    });
                }

                function getmarketingClassCollection() {
                    return customerService.getmarketingClassCollection().then(function (result) {
                        vm.marketingClass = result.data;

                    });
                }

                function save(isFromBeforeAfterPane) {
                    vm.isInValid = false;
                    vm.isBeforeAfterImagesSave = true;
                    vm.isInvoiceSave = true;
                    vm.isExteriorImageSave = true;
                    if (isFromBeforeAfterPane) {
                        angular.forEach(vm.jobEstimateImage, function (value) {
                            if (value.afterImages.isBeforeImage == undefined) {
                                toaster.error("Please Select the Required Info");
                                vm.isInValid = true;
                                vm.isBeforeAfterImagesSave = false;
                                vm.isInvoiceSave = true;
                                vm.isExteriorImageSave = true;
                                changeTabFocusForCancellation();
                                if ($scope.shiftingImageActive) {
                                    vm.jobEstimateImage = vm.jobEstimateImageActive;
                                    $scope.shiftingImageActive = false;
                                }
                                return 0;
                            }
                            if (value.afterImages.isBeforeImage == true) {
                                if (value.beforeImages.filesList.length <= 0 && value.beforeImages.imagesInfo.length <= 0) {
                                    //toaster.error("Please Select the Required Info");
                                    //vm.isInValid = true;
                                    //vm.isBeforeAfterImagesSave = false;
                                    //vm.isInvoiceSave = true;
                                    //vm.isExteriorImageSave = true;
                                    //changeTabFocusForCancellation();
                                    //if ($scope.shiftingImageActive) {
                                    //    vm.jobEstimateImage = vm.jobEstimateImageActive;
                                    //    $scope.shiftingImageActive = false;
                                    //}
                                    //return 0;
                                }
                                else {
                                    if (value.beforeImages.surfaceMaterial == undefined || value.beforeImages.buildingLocation == undefined || value.beforeImages.surfaceType == undefined) {
                                        toaster.error("Please Select the Required Info");
                                        vm.isInValid = true;
                                        vm.isBeforeAfterImagesSave = false;
                                        vm.isInvoiceSave = true;
                                        vm.isExteriorImageSave = true;
                                        changeTabFocusForCancellation();
                                        if ($scope.shiftingImageActive) {
                                            vm.jobEstimateImage = vm.jobEstimateImageActive;
                                            $scope.shiftingImageActive = false;
                                        }
                                        return;
                                    }
                                }
                            }
                            if (value.afterImages.isBeforeImage == false) {
                                if (value.afterImages.filesList.length <= 0 && value.afterImages.imagesInfo.length <= 0) {
                                    //toaster.error("Please Select the Required Info");
                                    //vm.isInValid = true;
                                    //vm.isBeforeAfterImagesSave = false;
                                    //vm.isInvoiceSave = true;
                                    //vm.isExteriorImageSave = true;
                                    //changeTabFocusForCancellation();
                                    //if ($scope.shiftingImageActive) {
                                    //    vm.jobEstimateImage = vm.jobEstimateImageActive;
                                    //    $scope.shiftingImageActive = false;
                                    //}
                                    //return 0;
                                }
                                else {
                                    if (value.afterImages.surfaceMaterial == undefined || value.afterImages.buildingLocation == undefined || value.afterImages.surfaceType == undefined) {
                                        toaster.error("Please Select the Required Info");
                                        vm.isInValid = true;
                                        vm.isBeforeAfterImagesSave = false;
                                        vm.isInvoiceSave = true;
                                        vm.isExteriorImageSave = true;
                                        if ($scope.shiftingImageActive) {
                                            vm.jobEstimateImage = vm.jobEstimateImageActive;
                                            $scope.shiftingImageActive = false;
                                        }
                                        changeTabFocusForCancellation();
                                        return;
                                    }
                                }
                            }
                        });
                    }
                    if (vm.isInValid) {
                        return 0;
                    }
                    vm.isProcessing = true;
                    if (vm.imageList.id == null) {
                        vm.imageList.id = 0;
                    }
                    vm.imageList.schedulerId = vm.rowId;
                    vm.imageList.estimateId = vm.estimateId;
                    vm.imageList.sliderImages = vm.sliderImages;
                    vm.imageList.imagePairs = (vm.jobEstimateImage);
                    vm.imageList.isFromBeforeAfterPane = isFromBeforeAfterPane;
                    vm.imageList.invoiceImages.isFromEstimate = true;
                    schedulerService.saveBeforeAfterImages(vm.imageList).then(function (result) {
                        if (result.data != null) {

                            if (!result.data) {
                                vm.isProcessing = false;
                                toaster.error(result.message.message);
                                getEstimateInfo();
                            }
                            else {
                                vm.isBeforeAfterImagesSave = true;
                                vm.isInvoiceSave = true;
                                vm.isExteriorImageSave = true;
                                vm.isProcessing = false;
                                if (vm.isImageRemoved && vm.isRowDelete == false) {
                                    toaster.show(result.message.message);
                                }
                                else {
                                    toaster.show("Information Saved/Changed Successfully");
                                }
                                vm.imageParentChildListModel.beforeAfterImages = [];
                                getEstimateInfo();
                            }
                            vm.isRowDelete = false;

                            if (vm.isFromShift) {
                                {
                                    vm.isFromShift = false;
                                    vm.shiftingImage();
                                }
                            }

                            vm.isProcessing = false;
                        }
                    }).catch(function (err) {
                        vm.isProcessing = false;
                    });

                }

                function floorNoChange(imgs, beforeAfterImages, text) {
                    if (text == 'Before') {
                        if (beforeAfterImages.isBeforeImage) {
                            imgs.afterImages.floorNumber = beforeAfterImages.floorNumber;
                        }
                    }
                    else {
                        if (!beforeAfterImages.isBeforeImage) {
                            imgs.beforeImages.floorNumber = beforeAfterImages.floorNumber;
                        }
                    }
                }

                function gotoScheduler() {
                    $rootScope.$broadcast('navigationDate', vm.jobInfo.startDate);
                    $state.go(core.layout.scheduler.manage({ franchiseeId: vm.estimateInfo.franchiseeId, previousView: vm.previousView }));
                }

                function copyEstimate() {
                    vm.isCopy = true;
                    editEstimate();
                }

                function confirmChanging() {
                    confirmEstimate();
                }

                function confirmEstimate() {
                    vm.confirmationQuery.schedulerId = vm.rowId;
                    schedulerService.confirmationSchedulerFromUI(vm.confirmationQuery).then(function (response) {
                        if (response.data != null) {
                            var responseData = response.data;
                            if (responseData.confirmationEnum == vm.ConfirmationEnum.confirmed) {
                                toaster.show("Estimate Confirmed Successfully !!");
                                vm.estimateInfo.isActive = true;
                                vm.estimateInfo.schedulerStatusName = "Estimate Confirmed";
                                vm.estimateInfo.schedulerStatusColor = "green";
                            }
                            if (responseData.confirmationEnum == vm.ConfirmationEnum.pastScheduler) {
                                toaster.error("Cannot Confirm Past Estimate!!");
                                vm.estimateInfo.isConfirmed = false;
                            }
                            if (responseData.confirmationEnum == vm.ConfirmationEnum.notConfirmed) {
                                toaster.error("Estimate not confirmed!!");
                                vm.estimateInfo.isConfirmed = false;
                                vm.estimateInfo.schedulerStatusName = "Not Confirmed";
                                vm.estimateInfo.schedulerStatusColor = "red";
                            }
                        }
                    });
                }

                function checkingForPastEstimate() {
                    var currentDate = moment(clock.now()).format("MM/DD/YYYY HH:mm");
                    if (vm.estimateInfo.startDate < currentDate && vm.estimateInfo.endDate < currentDate) {
                        vm.isConfirmDisable = true;
                    }
                }

                function jobNoteEdit(id, note) {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/edit-job-note.client.view.html',
                        controller: 'EditJobNoteController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    Id: id,
                                    Note: note,
                                    FranchiseeName: vm.estimateInfo.franchisee,
                                    IsJob: false
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                        getEstimateInfo();
                    });
                }

                function jobNoteDelete(id) {
                    notification.showConfirm("Do you really want to delete the Job Note?", "Delete Note", function () {
                        return schedulerService.deleteJobNotes(id).then(function (result) {
                            if (!result.data)
                                toaster.error(result.message.message);
                            else {
                                toaster.show(result.message.message);
                                getEstimateInfo();
                            }
                        });
                    })
                }

                function manageEstimate(id, rowid) {
                    vm.query.customerName = '';
                    vm.query.text = '';
                    $state.go('core.layout.scheduler.estimate', { id: id, previousView: vm.previousView, rowId: rowid });
                }

                function getTitle(id) {
                    if (vm.rowId != id)
                        return "Click on Repeat Detail to navigate to it";
                    else
                        return "";
                }

                function getListForBeforeAfterDropDown() {
                    var index = 1;
                    vm.listForBeforeAfterDropDown = [];
                    angular.forEach(vm.jobEstimateImage, function (value) {
                        var displayText = index.toString();
                        vm.listForBeforeAfterDropDown.push({ display: displayText, value: index });
                        ++index;
                    });
                }

                function AddingNewPane(imageModel, value, fileModel) {
                    fileService.getFileStreamByUrl(fileModel.relativeLocation).then(function (result) {
                        $scope.imageUrl = fileService.getStreamUrl(result);

                        var imageLength = vm.jobEstimateImage.length;
                        ++imageLength;
                        angular.forEach(vm.countForHavingPaneWithImages, function (value1) {
                            var jobEstimateImagess = {};
                            angular.copy(imageModel, jobEstimateImagess);
                            var beforeAfterImagesCountWithoutImages = value1;
                            for (var i = 0; i < beforeAfterImagesCountWithoutImages[0]; i++) {
                                --beforeAfterImagesCountWithoutImages[0];
                                jobEstimateImagess.id = 0;
                                jobEstimateImagess.afterImages.imageIndex = imageLength;
                                jobEstimateImagess.afterImages.selectedIndex = imageLength;
                                jobEstimateImagess.beforeImages.imageIndex = imageLength;
                                jobEstimateImagess.beforeImages.selectedIndex = imageLength;
                                jobEstimateImagess.afterImages.id = 0;
                                jobEstimateImagess.beforeImages.id = 0;
                                jobEstimateImagess.beforeImages.imagesInfo = [];
                                jobEstimateImagess.afterImages.imagesInfo = [];
                                jobEstimateImagess.afterImages.filesList = [];
                                jobEstimateImagess.beforeImages.filesList = [];
                                jobEstimateImagess.beforeImages.filesList.push(fileModel.fileId);
                                jobEstimateImagess.beforeImages.imagesInfo.push({
                                    url: $scope.imageUrl, name: fileModel.caption, size: fileModel.size, status: fileModel.status,
                                    createdBy: fileModel.createdBy, createdOn: fileModel.createdOn, id: 0, relativeLocation: null, fileId: fileModel.fileId, isSwapped: false
                                });
                                vm.jobEstimateImage.unshift(jobEstimateImagess);
                                rearrangePaneNumber();
                            }

                            for (var i = 0; i < beforeAfterImagesCountWithoutImages[1]; i++) {
                                --beforeAfterImagesCountWithoutImages[1];
                                angular.copy(imageModel, jobEstimateImagess);
                                jobEstimateImagess.id = 0;
                                jobEstimateImagess.afterImages.imageIndex = imageLength;
                                jobEstimateImagess.beforeImages.imageIndex = imageLength;
                                jobEstimateImagess.beforeImages.selectedIndex = imageLength;
                                jobEstimateImagess.afterImages.selectedIndex = imageLength;
                                jobEstimateImagess.beforeImages.id = 0;
                                jobEstimateImagess.afterImages.id = 0;
                                jobEstimateImagess.beforeImages.filesList = [];
                                jobEstimateImagess.beforeImages.imagesInfo = [];
                                jobEstimateImagess.afterImages.imagesInfo = [];
                                jobEstimateImagess.afterImages.filesList = [];
                                jobEstimateImagess.afterImages.filesList.push(fileModel.fileId);
                                jobEstimateImagess.afterImages.imagesInfo.push({
                                    url: $scope.imageUrl, name: fileModel.caption, size: fileModel.size, status: fileModel.status,
                                    createdBy: fileModel.createdBy, createdOn: fileModel.createdOn, id: 0, relativeLocation: null, fileId: fileModel.fileId, isSwapped: false
                                });
                                vm.jobEstimateImage.unshift(jobEstimateImagess);
                                rearrangePaneNumber();
                            }
                        });

                        getListForBeforeAfterDropDown();
                    });
                }

                function dropDownForBeforeAfter(isFromBefore, selectedIndex, currentIndex) {
                    var tobeChangedFrombeforeAfterImage = {};
                    vm.isBeforeAfterImagesSave = false;
                    var beforeFileList = [];
                    var afterFileList = [];
                    var tempOriginalId = 0;
                    var isSelected = false;
                    var index = 0;
                    var tempStorage = [];

                    beforeFileList = vm.jobEstimateImage[currentIndex - 1].beforeImages.filesList;
                    afterFileList = vm.jobEstimateImage[currentIndex - 1].afterImages.filesList;

                    if (isFromBefore) {

                        //vm.jobEstimateImage[currentIndex - 1].beforeImages.filesList = [];
                        //vm.jobEstimateImage[selectedIndex - 1].beforeImages.filesList = [];
                        vm.jobEstimateImage[currentIndex - 1].beforeImages.filesList = (vm.jobEstimateImage[selectedIndex - 1].beforeImages.filesList);

                        vm.jobEstimateImage[selectedIndex - 1].beforeImages.filesList = (beforeFileList);


                        vm.jobEstimateImage[currentIndex - 1].isBestPicture = false;
                        vm.jobEstimateImage[selectedIndex - 1].isBestPicture = false;
                        vm.jobEstimateImage[currentIndex - 1].beforeImages.isSwapped = true;
                        vm.jobEstimateImage[selectedIndex - 1].beforeImages.isSwapped = true;
                        if (vm.jobEstimateImage[selectedIndex - 1].beforeImages.originalImageIndex == selectedIndex) {
                            vm.jobEstimateImage[selectedIndex - 1].beforeImages.isSwapped = false;
                        }
                        if (vm.jobEstimateImage[currentIndex - 1].beforeImages.originalImageIndex == currentIndex) {
                            vm.jobEstimateImage[currentIndex - 1].beforeImages.isSwapped = false;
                        }

                        if (vm.jobEstimateImage[selectedIndex - 1].beforeImages.imagesInfo.length > 0) {

                            if (vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo.length > 0) {
                                tempStorage = vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo;
                                vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo =
                                    vm.jobEstimateImage[selectedIndex - 1].beforeImages.imagesInfo;
                                vm.jobEstimateImage[selectedIndex - 1].beforeImages.imagesInfo =
                                    tempStorage;

                            }
                            else {
                                tempStorage = [];
                                vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo =
                                    vm.jobEstimateImage[selectedIndex - 1].beforeImages.imagesInfo
                                vm.jobEstimateImage[selectedIndex - 1].beforeImages.imagesInfo =
                                    tempStorage;

                            }
                        }
                        else {
                            if (vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo.length > 0) {
                                vm.jobEstimateImage[selectedIndex - 1].beforeImages.imagesInfo =
                                    vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo;
                                vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo = [];
                            }
                            else {
                                vm.jobEstimateImage[selectedIndex - 1].beforeImages.imagesInfo =
                                    [];
                                vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo = [];
                            }
                        }

                        if (vm.jobEstimateImage[selectedIndex - 1].beforeImages.imagesInfo.length > 0) {
                            tempOriginalId = vm.jobEstimateImage[selectedIndex - 1].beforeImages.imagesInfo[0].originalId;
                            if (vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo.length > 0) {
                                vm.jobEstimateImage[selectedIndex - 1].beforeImages.imagesInfo[0].originalId =
                                    vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo[0].originalId;
                                vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo[0].originalId = tempOriginalId;

                            }
                            else {
                                //vm.jobEstimateImage[selectedIndex - 1].beforeImages.imagesInfo[0].originalId = 0;
                            }
                        }
                        else {
                            vm.jobEstimateImage[currentIndex - 1].beforeImages.imagesInfo[0].originalId = tempOriginalId;
                        }
                    }
                    else {

                        vm.jobEstimateImage[currentIndex - 1].afterImages.filesList = (vm.jobEstimateImage[selectedIndex - 1].afterImages.filesList);

                        vm.jobEstimateImage[selectedIndex - 1].afterImages.filesList = (afterFileList);

                        vm.jobEstimateImage[currentIndex - 1].isBestPicture = false;
                        vm.jobEstimateImage[selectedIndex - 1].isBestPicture = false;

                        vm.jobEstimateImage[currentIndex - 1].afterImages.isSwapped = true;
                        vm.jobEstimateImage[selectedIndex - 1].afterImages.isSwapped = true;

                        if (vm.jobEstimateImage[selectedIndex - 1].afterImages.originalImageIndex == selectedIndex) {
                            vm.jobEstimateImage[selectedIndex - 1].afterImages.isSwapped = false;
                        }
                        if (vm.jobEstimateImage[currentIndex - 1].afterImages.originalImageIndex == currentIndex) {
                            vm.jobEstimateImage[currentIndex - 1].afterImages.isSwapped = false;
                        }

                        if (vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo.length > 0) {
                            tempOriginalId = vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo[0].originalId;
                            if (vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo.length > 0) {
                                vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo[0].originalId =
                                    vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo[0].originalId;
                                vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo[0].originalId = tempOriginalId;

                            }
                            else {
                                if (vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo.length > 0) {
                                    vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo[0].originalId = 0;
                                }
                            }
                        }
                        else {
                            //tempOriginalId = vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo[0].originalId;
                            //vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo[0].originalId = tempOriginalId;
                        }

                        if (vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo.length > 0) {

                            if (vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo.length > 0) {
                                tempStorage = vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo;
                                vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo =
                                    vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo;

                                vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo =
                                    tempStorage;

                            }
                            else {
                                tempStorage = [];
                                vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo =
                                    vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo
                                vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo =
                                    tempStorage;

                            }
                        }
                        else {
                            if (vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo.length > 0) {
                                vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo =
                                    vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo;
                                vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo = [];

                            }
                            else {
                                vm.jobEstimateImage[selectedIndex - 1].afterImages.imagesInfo =
                                    [];
                                vm.jobEstimateImage[currentIndex - 1].afterImages.imagesInfo = [];


                            }
                        }
                    }
                }

                function GetttingPaneWithHavingBothImages(isFromBefore) {
                    vm.jobEstimateImageDoublicate = [];
                    angular.forEach(vm.jobEstimateImage, function (value) {
                        if (isFromBefore) {
                            if (value.beforeImages.imagesInfo < 1) {
                                vm.jobEstimateImageDoublicate.push(value);
                            }
                        }
                        else {
                            if (value.afterImages.imagesInfo < 1) {
                                vm.jobEstimateImageDoublicate.push(value);
                            }
                        }
                    });
                }

                function bestPictureSelected(selectedIndex, imgs, isSelected) {
                    //angular.forEach(vm.jobEstimateImage, function (value, index) {
                    //    if (index == selectedIndex) {
                    //        value.isBestPicture = imgs.isBestPicture;
                    //        value.beforeImages.isBestPicture = imgs.isBestPicture;
                    //        value.afterImages.isBestPicture = imgs.isBestPicture;
                    //    }
                    //    else {
                    //        value.isBestPicture = false;
                    //        value.beforeImages.isBestPicture = false;
                    //        value.afterImages.isBestPicture = false;
                    //    }
                    //});
                    vm.imagePairMarkedQuery.isBestPairMarked = imgs.isBestPicture;
                    vm.imagePairMarkedQuery.isAddToLocalSiteGallery = imgs.isAddToLocalGallery;
                    vm.imagePairMarkedQuery.beforeImageserviceId = imgs.beforeImages.id;
                    vm.imagePairMarkedQuery.afterImageserviceId = imgs.afterImages.id;
                    vm.imagePairMarkedQuery.beforeImagecategoryId = imgs.beforeImages.categoryId;
                    vm.imagePairMarkedQuery.afterImagecategoryId = imgs.afterImages.categoryId;
                    vm.imagePairMarkedQuery.beforeImageFileId = imgs.beforeImages.imagesInfo[0].id;
                    vm.imagePairMarkedQuery.afterImageFileId = imgs.afterImages.imagesInfo[0].id;
                    if (imgs.beforeImages.imagesInfo[0].id <= 0 && imgs.afterImages.imagesInfo[0].id <= 0) {
                        toaster.error("You can mark only if both images are uploaded!");
                    }
                    beforeAfterService.bestPairMarkedJobEstimateImagePair(vm.imagePairMarkedQuery).then(function (result) {
                        if (result.data) {
                            if (isSelected) {
                                if (imgs.isBestPicture) {
                                    toaster.show("Image Pair Marked As Best Pair Successfully!");
                                }
                                else if (!imgs.isBestPicture) {
                                    toaster.show("Image Pair Unmarked As Best Pair Successfully!");
                                }
                                else {
                                    toaster.show(result.message.message);
                                }
                            }
                            else {
                                if (imgs.isAddToLocalGallery) {
                                    toaster.show("Image Pair Marked As Add To Local Site Gallery Successfully!");
                                }
                                else if (!imgs.isAddToLocalGallery) {
                                    toaster.show("Image Pair Unmarked As Add To Local Site Gallery Successfully!");
                                }
                                else {
                                    toaster.show(result.message.message);
                                }
                            }
                        }
                        else {
                            toaster.error("Error in mark image as Best Pair");
                        }
                    });
                }

                function rearrangePaneNumber() {
                    var length = 0;

                    angular.forEach(vm.jobEstimateImage, function (value) {
                        ++length;
                        value.beforeImages.imageIndex = length;
                        value.beforeImages.selectedIndex = length;
                        value.afterImages.imageIndex = length;
                        value.afterImages.selectedIndex = length;
                    });
                }

                function checkIfMarketingClassIsAsRequiredOrNot() {
                    var marketingClassName = vm.marketingClassForNote.getValue(parseInt(vm.currentMarketingClass.value));
                    if (marketingClassName == "NOTFOUND") {
                        vm.isPresentRequiredClass = false;
                    }
                    else {
                        vm.isPresentRequiredClass = true;
                    }
                }

                function googleApi(address) {
                    $scope.isMap = true;
                    $scope.customerAddress = address;
                    var value = getOperatingSystem();
                    var isMobile = navigator.userAgent.match(/(iPhone|iPod|iPad|Android|webOS|BlackBerry|IEMobile|Opera Mini|Win32|Win64)/i);
                    if (value.mobile == true) {
                        if (value.os != "Android") {
                            if (value.os == "iOS") {
                                var url = "https://maps.apple.com?address=" + address;
                                console.log(url);
                                window.open(url, '_blank');
                                //window.location.href = url;
                                $scope.isMap = false;
                            }
                            else {
                                var url = "http://maps.google.com/maps?daddr=" + address;
                                window.open(url, '_blank');
                                $scope.isMap = false;
                            }
                        }

                        else {
                            $scope.isMap = false;
                            var url = "geo:?q=" + address + "&z=15";
                            window.location.href = url;
                        }
                    }
                    else {
                        var url = "https://www.google.com/maps/dir/?api=1&destination=" + address + "&dir_action=navigate";
                        window.open(url, '_blank');
                        $scope.isMap = false;
                    }
                }

                function getOperatingSystem() {
                    var unknown = '-';
                    var width = '';
                    var height = '';
                    // screen
                    var screenSize = '';
                    if (screen.width) {
                        width = (screen.width) ? screen.width : '';
                        height = (screen.height) ? screen.height : '';
                        screenSize += '' + width + " x " + height;
                    }

                    // browser
                    var nVer = navigator.appVersion;
                    var nAgt = navigator.userAgent;
                    var browser = navigator.appName;
                    var version = '' + parseFloat(navigator.appVersion);
                    var majorVersion = parseInt(navigator.appVersion, 10);
                    var nameOffset, verOffset, ix;

                    // Opera
                    if ((verOffset = nAgt.indexOf('Opera')) != -1) {
                        browser = 'Opera';
                        version = nAgt.substring(verOffset + 6);
                        if ((verOffset = nAgt.indexOf('Version')) != -1) {
                            version = nAgt.substring(verOffset + 8);
                        }
                    }
                    // Opera Next
                    if ((verOffset = nAgt.indexOf('OPR')) != -1) {
                        browser = 'Opera';
                        version = nAgt.substring(verOffset + 4);
                    }
                    // Edge
                    else if ((verOffset = nAgt.indexOf('Edge')) != -1) {
                        browser = 'Microsoft Edge';
                        version = nAgt.substring(verOffset + 5);
                    }
                    // MSIE
                    else if ((verOffset = nAgt.indexOf('MSIE')) != -1) {
                        browser = 'Microsoft Internet Explorer';
                        version = nAgt.substring(verOffset + 5);
                    }
                    // Chrome
                    else if ((verOffset = nAgt.indexOf('Chrome')) != -1) {
                        browser = 'Chrome';
                        version = nAgt.substring(verOffset + 7);
                    }
                    // Safari
                    else if ((verOffset = nAgt.indexOf('Safari')) != -1) {
                        browser = 'Safari';
                        version = nAgt.substring(verOffset + 7);
                        if ((verOffset = nAgt.indexOf('Version')) != -1) {
                            version = nAgt.substring(verOffset + 8);
                        }
                    }
                    // Firefox
                    else if ((verOffset = nAgt.indexOf('Firefox')) != -1) {
                        browser = 'Firefox';
                        version = nAgt.substring(verOffset + 8);
                    }
                    // MSIE 11+
                    else if (nAgt.indexOf('Trident/') != -1) {
                        browser = 'Microsoft Internet Explorer';
                        version = nAgt.substring(nAgt.indexOf('rv:') + 3);
                    }
                    // Other browsers
                    else if ((nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))) {
                        browser = nAgt.substring(nameOffset, verOffset);
                        version = nAgt.substring(verOffset + 1);
                        if (browser.toLowerCase() == browser.toUpperCase()) {
                            browser = navigator.appName;
                        }
                    }
                    // trim the version string
                    if ((ix = version.indexOf(';')) != -1) version = version.substring(0, ix);
                    if ((ix = version.indexOf(' ')) != -1) version = version.substring(0, ix);
                    if ((ix = version.indexOf(')')) != -1) version = version.substring(0, ix);

                    majorVersion = parseInt('' + version, 10);
                    if (isNaN(majorVersion)) {
                        version = '' + parseFloat(navigator.appVersion);
                        majorVersion = parseInt(navigator.appVersion, 10);
                    }

                    // mobile version
                    var mobile = /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(nVer);

                    // cookie
                    var cookieEnabled = (navigator.cookieEnabled) ? true : false;

                    if (typeof navigator.cookieEnabled == 'undefined' && !cookieEnabled) {
                        document.cookie = 'testcookie';
                        cookieEnabled = (document.cookie.indexOf('testcookie') != -1) ? true : false;
                    }

                    // system
                    var os = unknown;
                    var clientStrings = [
                        { s: 'Windows 10', r: /(Windows 10.0|Windows NT 10.0)/ },
                        { s: 'Windows 8.1', r: /(Windows 8.1|Windows NT 6.3)/ },
                        { s: 'Windows 8', r: /(Windows 8|Windows NT 6.2)/ },
                        { s: 'Windows 7', r: /(Windows 7|Windows NT 6.1)/ },
                        { s: 'Windows Vista', r: /Windows NT 6.0/ },
                        { s: 'Windows Server 2003', r: /Windows NT 5.2/ },
                        { s: 'Windows XP', r: /(Windows NT 5.1|Windows XP)/ },
                        { s: 'Windows 2000', r: /(Windows NT 5.0|Windows 2000)/ },
                        { s: 'Windows ME', r: /(Win 9x 4.90|Windows ME)/ },
                        { s: 'Windows 98', r: /(Windows 98|Win98)/ },
                        { s: 'Windows 95', r: /(Windows 95|Win95|Windows_95)/ },
                        { s: 'Windows NT 4.0', r: /(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/ },
                        { s: 'Windows CE', r: /Windows CE/ },
                        { s: 'Windows 3.11', r: /Win16/ },
                        { s: 'Android', r: /Android/ },
                        { s: 'Open BSD', r: /OpenBSD/ },
                        { s: 'Sun OS', r: /SunOS/ },
                        { s: 'Linux', r: /(Linux|X11)/ },
                        { s: 'iOS', r: /(iPhone|iPad|iPod)/ },
                        { s: 'Mac OS X', r: /Mac OS X/ },
                        { s: 'Mac OS', r: /(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/ },
                        { s: 'QNX', r: /QNX/ },
                        { s: 'UNIX', r: /UNIX/ },
                        { s: 'BeOS', r: /BeOS/ },
                        { s: 'OS/2', r: /OS\/2/ },
                        { s: 'Search Bot', r: /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/ }
                    ];
                    for (var id in clientStrings) {
                        var cs = clientStrings[id];
                        if (cs.r.test(nAgt)) {
                            os = cs.s;
                            break;
                        }
                    }

                    var osVersion = unknown;

                    if (/Windows/.test(os)) {
                        osVersion = /Windows (.*)/.exec(os)[1];
                        os = 'Windows';
                    }

                    switch (os) {
                        case 'Mac OS X':
                            osVersion = /Mac OS X (10[\.\_\d]+)/.exec(nAgt)[1];
                            break;

                        case 'Android':
                            osVersion = /Android ([\.\_\d]+)/.exec(nAgt)[1];
                            break;

                        case 'iOS':
                            osVersion = /OS (\d+)_(\d+)_?(\d+)?/.exec(nVer);
                            osVersion = osVersion[1] + '.' + osVersion[2] + '.' + (osVersion[3] | 0);
                            break;
                    }

                    var flashVersion = 'no check';
                    if (typeof swfobject != 'undefined') {
                        var fv = swfobject.getFlashPlayerVersion();
                        if (fv.major > 0) {
                            flashVersion = fv.major + '.' + fv.minor + ' r' + fv.release;
                        }
                        else {
                            flashVersion = unknown;
                        }
                    }

                    return {
                        screen: screenSize,
                        browser: browser,
                        browserVersion: version,
                        browserMajorVersion: majorVersion,
                        mobile: mobile,
                        os: os,
                        osVersion: osVersion,
                        cookies: cookieEnabled,
                        flashVersion: flashVersion
                    }
                }

                function changeTab(tabNo) {
                    if (!vm.isBeforeAfterImagesSave) {
                        notification.showConfirm("Would you like to save the unsaved Before After Image Information?", "Warning Message:", function () {
                            save(true);
                            vm.isCancelledClick = false;
                            changeTabFocus(tabNo);
                        }, function () {
                            vm.isCancelledClick = true;
                            document.getElementById("beforeAfter").classList.add("active");
                            document.getElementById("invoice").classList.remove("active");
                            document.getElementById("building").classList.remove("active");
                            document.getElementById("general").classList.remove("active");
                            changeTabFocusForCancellation();
                        })
                    }

                    if (!vm.isInvoiceSave) {
                        notification.showConfirm("Would you like to save the unsaved Invoice Information?", "Warning Message:", function () {
                            save(false);
                            vm.isCancelledClick = false;
                            changeTabFocus(tabNo);
                        }, function () {
                            vm.isCancelledClick = true;
                            document.getElementById("beforeAfter").classList.remove("active");
                            document.getElementById("invoice").classList.add("active");
                            document.getElementById("building").classList.remove("active");
                            document.getElementById("general").classList.remove("active");
                            changeTabFocusForCancellation();
                        })
                    }

                    if (!vm.isExteriorImageSave) {
                        notification.showConfirm(" Would you like to save the unsaved Exterior Image Information?", "Warning Message:", function () {
                            save(false);
                            vm.isCancelledClick = false;
                            changeTabFocus(tabNo);
                        }, function () {
                            vm.isCancelledClick = true;
                            document.getElementById("beforeAfter").classList.remove("active");
                            document.getElementById("invoice").classList.remove("active");
                            document.getElementById("building").classList.add("active");
                            document.getElementById("general").classList.remove("active");
                            changeTabFocusForCancellation();
                        })
                    }
                    if (vm.isExteriorImageSave && vm.isInvoiceSave && vm.isBeforeAfterImagesSave) {
                        changeTabFocus(tabNo);
                    }

                    if (vm.isInvoiceEnhancement) {
                        if (tabNo == 1 || tabNo == 2 || tabNo == 3 || tabNo == 4) {
                            vm.isInvoiceEnhancement = false;
                            saveInvoice(false, false);
                        }
                    }
                }

                function changeTabFocusForCancellation(tabNo) {
                    if (!vm.isBeforeAfterImagesSave) {
                        vm.isGenernalTab = false;
                        vm.isInvoiceTab = false;
                        vm.isBuildinglTab = false;
                        vm.isBeforeAfterlTab = true;
                        document.getElementById("beforeAfter").classList.add("active");
                        document.getElementById("invoice").classList.remove("active");
                        document.getElementById("building").classList.remove("active");
                        document.getElementById("general").classList.remove("active");
                    }

                    if (!vm.isExteriorImageSave) {
                        vm.isGenernalTab = false;
                        vm.isInvoiceTab = false;
                        vm.isBuildinglTab = true;
                        vm.isBeforeAfterlTab = false;
                        document.getElementById("beforeAfter").classList.remove("active");
                        document.getElementById("invoice").classList.remove("active");
                        document.getElementById("building").classList.add("active");
                        document.getElementById("general").classList.remove("active");
                    }

                    if (!vm.isInvoiceSave) {
                        vm.isGenernalTab = false;
                        vm.isInvoiceTab = true;
                        vm.isBuildinglTab = false;
                        vm.isBeforeAfterlTab = false;
                        document.getElementById("beforeAfter").classList.remove("active");
                        document.getElementById("invoice").classList.add("active");
                        document.getElementById("building").classList.remove("active");
                        document.getElementById("general").classList.remove("active");
                        getMedia();
                    }

                    if (!vm.isGeneralTabActive) {
                        vm.isGenernalTab = true;
                        vm.isInvoiceTab = false;
                        vm.isBuildinglTab = false;
                        vm.isBeforeAfterlTab = false;
                        document.getElementById("beforeAfter").classList.remove("active");
                        document.getElementById("invoice").classList.remove("active");
                        document.getElementById("building").classList.remove("active");
                        document.getElementById("general").classList.add("active");
                    }

                }

                function changeTabFocus(tabNo) {
                    if (vm.isInValid) {
                        changeTabFocusForCancellation(1);
                        vm.isInValid = false;
                        return;
                    }
                    if (tabNo == 4) {
                        vm.isGenernalTab = false;
                        vm.isInvoiceTab = false;
                        vm.isBuildinglTab = false;
                        vm.isBeforeAfterlTab = true;
                        document.getElementById("beforeAfter").classList.add("active");
                        document.getElementById("invoice").classList.remove("active");
                        document.getElementById("building").classList.remove("active");
                        document.getElementById("general").classList.remove("active");

                        //document.getElementById("beforeAfter").addClass = "active";
                        //document.getElementById("invoice").removeClass = "active";
                        //document.getElementById("building").removeClass = "active";
                        //document.getElementById("general").removeClass = "active";
                    }

                    if (tabNo == 3) {
                        vm.isGenernalTab = false;
                        vm.isInvoiceTab = false;
                        vm.isBuildinglTab = true;
                        vm.isBeforeAfterlTab = false;
                        document.getElementById("beforeAfter").removeClass = "active";
                        document.getElementById("invoice").removeClass = "active";
                        document.getElementById("building").addClass = "active";
                        document.getElementById("general").removeClass = "active";
                    }

                    if (tabNo == 2) {
                        vm.isGenernalTab = false;
                        vm.isInvoiceTab = true;
                        vm.isBuildinglTab = false;
                        vm.isBeforeAfterlTab = false;
                        document.getElementById("beforeAfter").removeClass = "active";
                        document.getElementById("invoice").addClass = "active";
                        document.getElementById("building").removeClass = "active";
                        document.getElementById("general").removeClass = "active";
                        //vm.addInvoiceToEstimate();
                        //getInvoiceDetails();
                    }

                    if (tabNo == 1) {
                        vm.isGenernalTab = true;
                        vm.isInvoiceTab = false;
                        vm.isBuildinglTab = false;
                        vm.isBeforeAfterlTab = false;
                        document.getElementById("beforeAfter").removeClass = "active";
                        document.getElementById("invoice").removeClass = "active";
                        document.getElementById("building").removeClass = "active";
                        document.getElementById("general").addClass = "active";
                        getEstimateInfo();
                    }
                }

                $rootScope.$on("$stateChangeStart", function (event, toState, toParams, fromState, fromParams) {
                    if (!vm.isBeforeAfterImagesSave) {
                        event.preventDefault();

                        notification.showConfirm("Would you like to save the unsaved Before After Image Information?", "Warning Message:", function () {
                            vm.isBeforeAfterImagesSave = true;
                            save(true);
                            toState.params.franchiseeId = $scope.franchiseeId;
                            toState.params.rowId = vm.rowId;
                            toState.params.id = vm.jobId;
                            $state.go(toState.name, toState.params);
                        })
                    }

                    if (!vm.isInvoiceSave) {
                        event.preventDefault();
                        notification.showConfirm("Would you like to save the unsaved Invoice Information?", "Warning Message:", function () {
                            vm.isInvoiceSave = true;
                            save(false);
                            toState.params.franchiseeId = $scope.franchiseeId;
                            toState.params.rowId = vm.rowId;
                            toState.params.id = vm.jobId;
                            $state.go(toState.name, toState.params);
                        })
                    }

                    if (!vm.isExteriorImageSave) {
                        event.preventDefault();
                        notification.showConfirm(" Would you like to save the unsaved Exterior Image Information?", "Warning Message:", function () {
                            vm.isExteriorImageSave = true;
                            save(false);
                            toState.params.franchiseeId = $scope.franchiseeId;
                            toState.params.rowId = vm.rowId;
                            toState.params.id = vm.jobId;
                            $state.go(toState.name, toState.params);
                        })
                    }
                });

                function openFollowUpModal() {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/show-follow-up.client.view.html',
                        controller: 'ShowFollowUpController',
                        controllerAs: 'vm',
                        backdrop: 'static',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    Franchisee: vm.estimateInfo.franchisee,
                                    FranchiseeId: vm.estimateInfo.franchiseeId,
                                    CustomerInformation: vm.estimateInfo.jobCustomer,
                                    JobSchedulerId: vm.rowId

                                };
                            }
                        }
                    });
                    modalInstance.result.then(function () {
                        getFollowUp();
                    }, function () {
                        getFollowUp();
                    })
                };

                function getFollowUp() {
                    return toDoService.getCommentToDoForScheduler(vm.rowId).then(function (result) {
                        if (result != null) {
                            vm.followUpList = result.data.commentList;
                            vm.list = result.data.totalCommentList;
                            vm.isMoreThanFive = result.data.isMoreThanFive;
                            $rootScope.identity.todayToDoCount = result.data.todayToDoCount;
                        }
                    });
                }

                function openViewFollowUpModal() {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/show.followup.client.view.html',
                        controller: 'ViewFollowUpController',
                        controllerAs: 'vm',
                        backdrop: 'static',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    FollowUpList: vm.list,
                                    IsFromScheduler: false,
                                    CustomerInfo: vm.estimateInfo.jobCustomer
                                };
                            }
                        }
                    });
                    modalInstance.result.then(function () {
                        vm.getEstimateInfo();
                        vm.getFollowUp();
                    }, function () {
                        vm.getEstimateInfo();
                        vm.getFollowUp();
                    })
                };

                function rotate(id, slide, index, parentIndex, from) {
                    var imgs = vm.jobEstimateImage[parentIndex];
                    var splt = "";
                    if (slide.css == null) {
                        slide.css = 0;
                    }
                    if ((slide.css != "")) {
                        splt = slide.css.split('(')[1].split(')')[0].replace("deg", "");
                        splt = parseInt(splt, 10);
                        vm.index = splt;
                        slide.css = vm.index;
                    }
                    var splt = "";
                    var myElem = document.getElementById(id);
                    vm.css = "";
                    var img;
                    splt = slide.css + 90;
                    vm.index = splt;
                    slide.css = "rotate(" + splt + "deg)";

                    if (from == 'after') {
                        imgs.afterImages.css = slide.css;
                    }
                    else {
                        imgs.beforeImages.css = slide.css;
                    }
                    saveRotation(slide, from);
                }

                function deleteFromUI(followUp, index) {
                    followUp.isVisible = false;
                    vm.elementInList = $filter('filter')(vm.list, { id: followUp.id });
                    var index = 0;
                    var found = false;
                    angular.forEach(vm.list, function (value) {
                        if (!found) {
                            index += 1;
                        }
                        if (value.id == followUp.id) {
                            found = true;
                        }
                    });
                    vm.followUpList = $filter('filter')(vm.followUpList, { isVisible: true });
                    vm.isMoreThanFive = vm.followUpList.length > 5 ? true : false;
                    if (!vm.isMoreThanFive && vm.list.length > 5) {
                        var nextElementAfterDeletion = vm.list[index];
                        if (nextElementAfterDeletion != undefined) {
                            vm.followUpList.push(nextElementAfterDeletion);
                            vm.isMoreThanFive = vm.followUpList.length > 5 ? true : false;
                            if (vm.list.length > index) {
                                vm.isMoreThanFive = true;
                            }
                        }
                    }
                }

                function deleteToDo(followUp, index) {
                    notification.showConfirm("You are about to delete a To-Do/FollowUp . Do you want to proceed?", "Warning Message:", function () {
                        return toDoService.deleteToDo(followUp.id).then(function (result) {
                            if (result.data != true)
                                toaster.error("Error in Deleting To-Do/FollowUp");
                            else {
                                toaster.show("To-Do/FollowUp Deleted Successfully");
                                followUp.isVisible = false;
                                vm.elementInList = $filter('filter')(vm.list, { id: followUp.id });
                                var index = 0;
                                var found = false;
                                angular.forEach(vm.list, function (value) {
                                    if (!found) {
                                        index += 1;
                                    }
                                    if (value.id == followUp.id) {
                                        found = true;
                                    }
                                });
                                vm.followUpList = $filter('filter')(vm.followUpList, { isVisible: true });
                                vm.isMoreThanFive = vm.followUpList.length > 5 ? true : false;
                                if (!vm.isMoreThanFive && vm.list.length > 5) {
                                    var nextElementAfterDeletion = vm.list[index];
                                    if (nextElementAfterDeletion != undefined) {
                                        vm.followUpList.push(nextElementAfterDeletion);
                                        vm.isMoreThanFive = vm.followUpList.length > 5 ? true : false;
                                        if (vm.list.length > index) {
                                            vm.isMoreThanFive = true;
                                        }
                                    }
                                }
                            }
                            //$scope.editMode = !($scope.editMode);
                            vm.isProcessing = false;
                        });
                    })
                }

                function uploadMediaAfterBeforeForCamera(id, imgs, isFromBefore) {
                    const element = document.getElementById(id);
                    vm.imgs = imgs;
                    vm.isFromBefore = isFromBefore;
                    if (element != null) {
                        element.click();
                    }
                }

                $scope.fileNameChanged = function (files) {
                    filesList(files, vm.imgs, vm.isFromBefore);
                }

                function filesList(files) {
                    vm.info = {};
                    vm.info.fileList = [];
                    var img = vm.imgs;
                    var afterImages = img;
                    var beforeImages = img;
                    fileService.uploadForBeforeAfter(files).then(function (result) {
                        if (result.data != null) {
                            vm.info.fileList.push(result.data);
                            vm.isProcessing = false;
                            return schedulerService.saveMediaBeforeAfterForUser(vm.info).then(function (result) {
                                if (result.data != null) {
                                    var isFromBefore = vm.isFromBefore;
                                    $rootScope.$emit("FileId", result.data);
                                    $rootScope.$emit("IsImageForSamePane", vm.isImageForSamePane);
                                    toaster.show(result.message.message);

                                    var length = vm.jobEstimateImage.length;
                                    if (length == 1) {
                                        vm.isBeforeAfterImagesSave = false;
                                        var beforeImageCount = vm.jobEstimateImage[0].beforeImages.imagesInfo.length;
                                        var afterImageCount = vm.jobEstimateImage[0].afterImages.imagesInfo.length;
                                        if (vm.isFromBefore) {
                                            vm.beforeAfterImagesFirstUploadedImages[0][0] = beforeImageCount;
                                        }
                                        else {
                                            vm.beforeAfterImagesFirstUploadedImages[0][1] = afterImageCount;
                                        }
                                    }
                                    else {
                                        angular.forEach(vm.jobEstimateImage, function (value1) {
                                            vm.isBeforeAfterImagesSave = false;
                                            if (value1.beforeImages.imagesInfo.length > 0) {
                                                vm.beforeAfterImagesFirstUploadedImages[0][0] += 1;
                                            }
                                            if (value1.afterImages.imagesInfo.length > 0) {
                                                vm.beforeAfterImagesFirstUploadedImages[0][1] += 1;
                                            }

                                        });
                                    }
                                    var isParsedImageData = false;
                                    var imageLength = vm.jobEstimateImage.length;
                                    imageLength = imageLength + 1;

                                    // when more than one image is uploaded so that uploaded either for that pane or different pane
                                    if (((!vm.isFromBefore && vm.beforeAfterImagesFirstUploadedImages[0][0] > 1) ||
                                        (isFromBefore && vm.beforeAfterImagesFirstUploadedImages[0][1] > 1)) && vm.fileModel.length > 1) {
                                        var index = -1;
                                        GetttingPaneWithHavingBothImages(vm.isFromBefore);
                                        angular.forEach(vm.fileModel, function (fileModel) {
                                            vm.isImageRemoved = true;
                                            ++index;
                                            var value = vm.jobEstimateImageDoublicate[index];
                                            if (value != null) {
                                                var isImageAlreadyPresentinPane = false;
                                                if (isFromBefore) {
                                                    if (value.beforeImages.imagesInfo.length > 0) {
                                                        isImageAlreadyPresentinPane = true;
                                                        --index;
                                                    }
                                                }
                                                else {
                                                    if (value.afterImages.imagesInfo.length > 0) {
                                                        isImageAlreadyPresentinPane = true;
                                                        --index;
                                                    }
                                                }
                                                if (!isImageAlreadyPresentinPane) {
                                                    var imageLength = vm.jobEstimateImage.length;
                                                    imageLength = imageLength + 1;

                                                    //var fileModel = vm.fileModel[index];

                                                    fileService.getFileStreamByUrl(fileModel.relativeLocation).then(function (result) {
                                                        $scope.imageUrl = fileService.getStreamUrl(result);
                                                        jobEstimateImagess = {};
                                                        angular.copy(imageModel, jobEstimateImagess);
                                                        if (vm.isFromBefore) {
                                                            jobEstimateImagess.beforeImages.imagesInfo = [];
                                                            if (value.beforeImages.imagesInfo.length < 1) {
                                                                value.beforeImages.filesList = [];
                                                                value.afterImages.imageIndex = value.beforeImages.imageIndex;
                                                                value.beforeImages.filesList.push(fileModel.fileId);
                                                                value.beforeImages.imagesInfo = [];
                                                                value.beforeImages.imagesInfo.push({
                                                                    url: $scope.imageUrl, name: fileModel.caption, size: fileModel.size, status: fileModel.status,
                                                                    createdBy: fileModel.createdBy, createdOn: fileModel.createdOn, id: 0, relativeLocation: null, fileId: fileModel.fileId, isSwapped: false
                                                                });
                                                            }
                                                            else {
                                                                vm.countForHavingPaneWithImages[0][0] += 1;
                                                            }
                                                        }
                                                        else {
                                                            var jobEstimateImagess = {};
                                                            angular.copy(imageModel, jobEstimateImagess);
                                                            value.afterImages.originalImageIndex = value.afterImages.selectedIndex;
                                                            jobEstimateImagess.afterImages.imagesInfo = [];
                                                            if (value.afterImages.imagesInfo.length < 1) {
                                                                value.afterImages.filesList = [];
                                                                value.afterImages.filesList.push(fileModel.fileId);
                                                                //value.beforeImages.imagesInfo = [];
                                                                value.afterImages.imagesInfo.push({
                                                                    url: $scope.imageUrl, name: fileModel.caption, size: fileModel.size, status: fileModel.status,
                                                                    createdBy: fileModel.createdBy, createdOn: fileModel.createdOn, id: 0, relativeLocation: null, fileId: fileModel.fileId, isSwapped: false
                                                                });
                                                            }
                                                            else {
                                                                vm.countForHavingPaneWithImages[0][1] += 1;
                                                            }
                                                        }
                                                        AddingNewPane(imageModel, value, fileModel);
                                                    });
                                                }
                                            }
                                            else {
                                                if (isFromBefore) {
                                                    vm.countForHavingPaneWithImages[0][0] += 1;
                                                }
                                                else {
                                                    vm.countForHavingPaneWithImages[0][1] += 1;
                                                }
                                            }
                                            AddingNewPane(imageModel, value, fileModel);
                                        });
                                    }

                                    else {
                                        vm.isDeleted = false;
                                        angular.forEach(vm.fileModel, function (value) {
                                            vm.isImageRemoved = true;
                                            img.filesList.push(value.fileId);
                                            fileService.getFileStreamByUrl(value.relativeLocation).then(function (result) {
                                                var length = vm.jobEstimateImage.length;
                                                length = length + 1;
                                                $scope.imageUrl = fileService.getStreamUrl(result);
                                                vm.isBeforeAFterSave = true;

                                                // when there is no image pane for first time use
                                                if (img.imagesInfo.length == 0 && vm.beforeAfterImagesFirstUploadedImages[0][0] == 0 && vm.beforeAfterImagesFirstUploadedImages[0][1] == 0) {
                                                    if (vm.isFromBefore) {
                                                        afterImages.imageIndex = beforeImages.imageIndex;
                                                        afterImages.selectedIndex = afterImages.imageIndex;
                                                    }
                                                    else {
                                                        beforeImages.imageIndex = afterImages.imageIndex;
                                                        beforeImages.selectedIndex = afterImages.imageIndex;
                                                    }
                                                    img.filesList = [];
                                                    img.filesList.push(value.fileId);
                                                    img.imagesInfo = [];

                                                    img.imagesInfo.push({
                                                        url: $scope.imageUrl, name: value.caption, size: value.size, status: value.status,
                                                        createdBy: value.createdBy, createdOn: value.createdOn, id: 0, relativeLocation: null, fileId: value.fileId, isSwapped: false
                                                    });
                                                    vm.isDeleted = true;
                                                }

                                                // when only one image is uploaded so that it will be replace only in that pane
                                                else if (vm.fileModel.length == 1) {
                                                    if (img.imagesInfo.length > 1) {
                                                        img.id = 0;
                                                        if (isFromBefore) {
                                                            afterImages.imageIndex = img.imageIndex;
                                                        }
                                                        else {
                                                            beforeImages.imageIndex = img.imageIndex;
                                                        }
                                                        img.imagesInfo[0].url = $scope.imageUrl;
                                                        img.imagesInfo[0].name = value.caption;
                                                        img.imagesInfo[0].size = value.size;
                                                        img.imagesInfo[0].status = value.status;
                                                        img.imagesInfo[0].createdBy = value.createdBy;
                                                        img.imagesInfo[0].createdOn = value.createdOn;
                                                        img.imagesInfo[0].id = 0;
                                                        img.filesList = [];
                                                        img.filesList.push(value.fileId);
                                                        img.imagesInfo[0].relativeLocation = null;
                                                        img.imagesInfo[0].fileId = value.fileId;
                                                    }
                                                    else {
                                                        img.imagesInfo = [];
                                                        img.filesList = [];
                                                        img.filesList.push(value.fileId);
                                                        img.imagesInfo.push({
                                                            url: $scope.imageUrl, name: value.caption, size: value.size, status: value.status,
                                                            createdBy: value.createdBy, createdOn: value.createdOn, id: 0, relativeLocation: null, fileId: value.fileId, isSwapped: false
                                                        });
                                                    }
                                                    vm.isDeleted = true;
                                                }

                                                else if (vm.fileModel.length > 1) {
                                                    var index11 = -1;
                                                    var jobEstimateImagess = {};
                                                    var isIndexFound = false;

                                                    if (!vm.isDeleted) {
                                                        vm.jobEstimateImage.splice(vm.isSeletedIndex, 1);
                                                        vm.isDeleted = true;
                                                    }

                                                    length = vm.jobEstimateImage.length;
                                                    length = length + 1;
                                                    if (vm.isFromBefore) {
                                                        angular.copy(imageModel, jobEstimateImagess);
                                                        var count = vm.fileModel.length;
                                                        jobEstimateImagess.id = 0;
                                                        jobEstimateImagess.beforeImages.imageIndex = length;
                                                        jobEstimateImagess.afterImages.imageIndex = length;
                                                        jobEstimateImagess.afterImages.selectedIndex = length;
                                                        jobEstimateImagess.beforeImages.selectedIndex = length;
                                                        jobEstimateImagess.afterImages.id = 0;
                                                        jobEstimateImagess.afterImages.imagesInfo = [];
                                                        jobEstimateImagess.beforeImages.id = 0;

                                                        jobEstimateImagess.beforeImages.isBeforeImage = img.isBeforeImage;
                                                        jobEstimateImagess.afterImages.isBeforeImage = img.isBeforeImage;

                                                        jobEstimateImagess.beforeImages.imagesInfo = [];
                                                        jobEstimateImagess.beforeImages.filesList = [];
                                                        jobEstimateImagess.beforeImages.filesList.push(value.fileId);
                                                        jobEstimateImagess.beforeImages.imagesInfo = [];
                                                        jobEstimateImagess.afterImages.filesList = [];
                                                        jobEstimateImagess.beforeImages.imagesInfo.push({
                                                            url: $scope.imageUrl, name: value.caption, size: value.size, status: value.status,
                                                            createdBy: value.createdBy, createdOn: value.createdOn, id: 0, relativeLocation: null, fileId: value.fileId, isSwapped: false
                                                        });
                                                        rearrangePaneNumber();
                                                    }
                                                    else {
                                                        angular.copy(imageModel, jobEstimateImagess);
                                                        var count = vm.fileModel.length;
                                                        jobEstimateImagess.id = 0;
                                                        jobEstimateImagess.beforeImages.isBeforeImage = img.isBeforeImage;
                                                        jobEstimateImagess.afterImages.isBeforeImage = img.isBeforeImage;
                                                        jobEstimateImagess.beforeImages.imageIndex = length;
                                                        jobEstimateImagess.afterImages.imageIndex = length;
                                                        jobEstimateImagess.beforeImages.id = 0;
                                                        jobEstimateImagess.afterImages.id = 0;
                                                        jobEstimateImagess.afterImages.imagesInfo = [];
                                                        jobEstimateImagess.beforeImages.imagesInfo = [];
                                                        jobEstimateImagess.afterImages.filesList = [];
                                                        jobEstimateImagess.afterImages.filesList.push(value.fileId);
                                                        jobEstimateImagess.afterImages.imagesInfo = [];
                                                        jobEstimateImagess.beforeImages.filesList = [];
                                                        jobEstimateImagess.afterImages.imagesInfo.push({
                                                            url: $scope.imageUrl, name: value.caption, size: value.size, status: value.status,
                                                            createdBy: value.createdBy, createdOn: value.createdOn, id: 0, relativeLocation: null, fileId: value.fileId, isSwapped: false
                                                        });
                                                    }
                                                    vm.jobEstimateImage.unshift(jobEstimateImagess);
                                                    rearrangePaneNumber();
                                                }

                                                getListForBeforeAfterDropDown();
                                            });
                                        });
                                        getListForBeforeAfterDropDown();
                                    }
                                }
                            }).catch(function (err) {
                                vm.isProcessing = false;
                            });
                        }
                    })
                }

                function downloadImage(slider) {
                    vm.isBeforeAfterImagesSave = true;
                    if (slider.isImageCropped) {
                        return fileService.getFileForDownloadForBeforeAfter(slider.croppedImageFileId).then(function (result) {
                            fileService.downloadFileImage(result.data, "before_after_images");
                        });
                    }
                    else {
                        return fileService.getFileForDownloadForBeforeAfter(slider.fileId).then(function (result) {
                            fileService.downloadFileImage(result.data, "before_after_images");
                        });
                    }
                }

                function downloadImages() {
                    vm.isBeforeAfterImagesSave = true;
                    var filesIds = [];
                    var filesNames = [];
                    angular.forEach(vm.jobEstimateImage, function (value1) {
                        angular.forEach(value1.afterImages.imagesInfo, function (value2) {
                            filesIds.push(value2.fileId);
                            filesNames.push(value2.caption)
                        });
                        angular.forEach(value1.beforeImages.imagesInfo, function (value2) {
                            filesIds.push(value2.fileId);
                            filesNames.push(value2.caption)
                        })
                    });

                    filesIds = JSON.stringify({ FileModel: filesIds });
                    return fileService.uploadBeforeAfterZipFile(filesIds).then(function (result) {
                        vm.fileName = result.data;
                        return fileService.downloadBeforeAfterZipFile(result.data).then(function (result) {
                            var blob = new Blob([result.data], { type: "application/zip" });
                            var fileName = vm.fileName + ".zip";
                            var a = document.createElement("a");
                            document.body.appendChild(a);
                            a.style = "display:none";
                            var url = window.URL.createObjectURL(blob);
                            a.href = url;
                            a.download = fileName;
                            a.click();
                            window.URL.revokeObjectURL(url);
                            a.remove();
                            toaster.show("Images downloaded successfully. Please check the Download folder to view all the images.");
                        });
                    });
                }

                function zoom(className) {
                    var images = document.getElementsByClassName(className);
                    images.removeClass = "zoomD";
                    var clone = images[0].cloneNode(true);;
                    // (B) PUT EVIL CLONE INTO LIGHTBOX
                    var lb = document.getElementById("lb-img");
                    lb.innerHTML = "";
                    lb.appendChild(clone);

                    // (C) SHOW LIGHTBOX
                    lb = document.getElementById("lb-back");
                    lb.classList.add("show");
                }

                function zoomin(className, contailerId, index, sendFrom) {
                    vm.index = index;
                    if (sendFrom == 'before' && vm.beforeImagesSizes[index] == undefined) {
                        vm.beforeImagesSizes[index] = document.getElementsByClassName(className)[0].getBoundingClientRect().width;
                        vm.isFromBeforeImage = true;
                    }

                    if (sendFrom == 'before' && vm.beforeImagesHeight[index] == undefined) {
                        vm.beforeImagesHeight[index] = document.getElementsByClassName(className)[0].getBoundingClientRect().height;
                        vm.isFromBeforeImage = true;
                    }

                    if (sendFrom == 'after' && vm.afterImagesSizes[index] == undefined) {
                        vm.isFromBeforeImage = false;
                        vm.afterImagesSizes[index] = document.getElementsByClassName(className)[0].getBoundingClientRect().width;
                    }
                    if (sendFrom == 'after' && vm.afterImagesHeight[index] == undefined) {
                        vm.isFromBeforeImage = false;
                        vm.afterImagesHeight[index] = document.getElementsByClassName(className)[0].getBoundingClientRect().height;
                    }

                    vm.zoomClass = className;
                    vm.zoomContailerId = contailerId;
                    var GFG = document.getElementsByClassName(className)[0];
                    var container = document.getElementById(contailerId);
                    zoomer.zoom(0.25, index);
                    GFG.addEventListener('mousedown', zoomer.start_drag);
                    container.addEventListener('mousemove', zoomer.while_drag);
                    container.addEventListener('mouseup', zoomer.stop_drag);
                    container.addEventListener('mouseout', zoomer.stop_drag);
                }

                function zoomout(className, contailerId, index, sendFrom) {
                    vm.index = index;

                    vm.zoomClass = className;
                    vm.zoomContailerId = contailerId;
                    var GFG = document.getElementsByClassName(className)[0];
                    var container = document.getElementById(contailerId);
                    zoomer.zoom(-0.25, index);
                    GFG.addEventListener('mousedown', zoomer.start_drag);
                    container.addEventListener('mousemove', zoomer.while_drag);
                    container.addEventListener('mouseup', zoomer.stop_drag);
                    container.addEventListener('mouseout', zoomer.stop_drag);

                }

                function creatingLightBox() {
                }

                var zoomer = (function () {
                    var abc = document.getElementsByClassName(vm.zoomClass);
                    var img_ele = null,
                        x_cursor = 0,
                        y_cursor = 0,
                        x_img_ele = 0,
                        y_img_ele = 0,
                        orig_width = abc.length > 0 ? document.getElementsByClassName(vm.zoomClass)[0].getBoundingClientRect().width : 0,
                        orig_height = abc.length > 0 ? document.getElementsByClassName(vm.zoomClass)[0].getBoundingClientRect().height : 0,
                        current_top = 0,
                        current_left = 0,
                        zoom_factor = 1.0;

                    return {
                        zoom: function (zoomincrement, index) {
                            img_ele = document.getElementsByClassName(vm.zoomClass)[0];
                            orig_width = img_ele != null ? document.getElementsByClassName(vm.zoomClass)[0].getBoundingClientRect().width : 0,
                                orig_height = img_ele != null ? document.getElementsByClassName(vm.zoomClass)[0].getBoundingClientRect().height : 0,
                                zoom_factor = zoom_factor + zoomincrement;
                            if (vm.isFromBeforeImage) {
                                orig_width = vm.beforeImagesSizes[index] != undefined ? vm.beforeImagesSizes[index] : 0;
                                orig_height = vm.beforeImagesHeight[index] != undefined ? vm.beforeImagesHeight[index] : 0;
                            }
                            else {
                                orig_width = vm.afterImagesSizes[index] != undefined ? vm.afterImagesSizes[index] : 0;
                                orig_height = vm.afterImagesHeight[index] != undefined ? vm.afterImagesHeight[index] : 0;
                            }
                            if (zoom_factor <= 1.0) {
                                zoom_factor = 1.0;
                                img_ele.style.top = '0px';
                                img_ele.style.marginLeft = '0px';
                            }

                            if (zoomincrement <= 0 && orig_width == 0) {
                                return;
                            }
                            var new_width = (orig_width * zoom_factor);
                            var new_heigth = (orig_height * zoom_factor);


                            if (current_left < (orig_width - new_width)) {
                                current_left = (orig_width - new_width);
                            }
                            if (current_top < (orig_height - new_heigth)) {
                                current_top = (orig_height - new_heigth);
                            }
                            img_ele.style.left = current_left + 'px';
                            img_ele.style.marginLeft = current_left + 'px';
                            img_ele.style.marginTop = current_top + 'px';
                            img_ele.style.width = new_width + 'px';
                            img_ele.style.height = new_heigth + 'px';

                            img_ele = null;
                        },

                        start_drag: function () {
                            if (zoom_factor <= 1.0) {
                                return;
                            }
                            img_ele = this;
                            x_img_ele = window.event.clientX - document.getElementsByClassName(vm.zoomClass)[0].offsetLeft;
                            y_img_ele = window.event.clientY - document.getElementsByClassName(vm.zoomClass)[0].offsetTop;
                        },

                        stop_drag: function () {
                            if (img_ele !== null) {
                                if (zoom_factor <= 1.0) {
                                    img_ele.style.marginLeft = '0px';
                                    img_ele.style.marginTop = '0px';
                                }
                            }
                            img_ele = null;
                        },

                        while_drag: function () {
                            if (img_ele !== null) {
                                if (vm.isFromBeforeImage) {
                                    orig_width = vm.beforeImagesSizes[vm.index];
                                    orig_height = vm.beforeImagesHeight[vm.index];
                                }
                                else {
                                    orig_width = vm.afterImagesSizes[vm.index];
                                    orig_height = vm.afterImagesHeight[vm.index];
                                }
                                var x_cursor = window.event.clientX;
                                var y_cursor = window.event.clientY;
                                var new_left = (x_cursor - x_img_ele);
                                if (new_left > 0) {
                                    new_left = 0;
                                }
                                if (new_left < (orig_width - img_ele.width)) {
                                    new_left = (orig_width - img_ele.width);
                                }
                                var new_top = (y_cursor - y_img_ele);
                                if (new_top > 0) {
                                    new_top = 0;
                                }
                                if (new_top < (orig_height - img_ele.height)) {
                                    new_top = (orig_height - img_ele.height);
                                }
                                current_left = new_left;
                                img_ele.style.marginLeft = new_left + 'px';
                                current_top = new_top;
                                img_ele.style.marginTop = new_top + 'px';

                            }
                        }
                    };
                }());

                function openEstimateWorthModal() {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/modal-estimate-worth.client.view.html',
                        controller: 'EstimateWorthController',
                        controllerAs: 'vm',
                        backdrop: 'static',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    Franchisee: vm.estimateInfo.franchisee,
                                    FranchiseeId: vm.estimateInfo.franchiseeId,
                                    CustomerInformation: vm.estimateInfo.jobCustomer,
                                    JobSchedulerId: vm.rowId,
                                    Worth: vm.estimateInfo.worth
                                };
                            }
                        }
                    });
                    modalInstance.result.then(function () {
                    }, function () {
                        getEstimateInfo();
                    })
                };

                function swapImages(beforeImages, afterImages) {
                    var beforeTempImageInfo = beforeImages.imagesInfo;
                    var beforeTempImageFilesList = beforeImages.filesList;
                    beforeImages.imagesInfo = afterImages.imagesInfo;
                    afterImages.imagesInfo = beforeTempImageInfo;
                    beforeImages.filesList = afterImages.filesList;
                    afterImages.filesList = beforeTempImageFilesList;
                    save(true);
                }

                function invoiceEnhancement() {
                    vm.isInvoiceEnhancement = true;
                    getInvoiceDetails();
                    vm.estimateInvoiceInfo.serviceList = [];
                    vm.estimateInvoiceInfo.serviceList.push({
                        id: 0,
                        serviceTypeIds: [vm.ServiceTypes.STONELIFE],
                        serviceType: vm.ServiceTypes.getValue(1),
                        serviceTypeValue: '1',
                        serviceName: [],
                        locationName: [],
                        description: [],
                        location: [],
                        typeOfSurface: 'Floor',
                        stoneType: [],
                        price: [],
                        numberOfInvoices: 1,
                        typeOfStoneType: [],
                        typeOfStoneColor: [],
                        isNew: false,
                        serviceIds: [],
                        invoiceNumber: '1',
                        typeOfStoneType2: 'Marble',
                        subItem: [],
                        locationIds: [],
                        option1: '0.00',
                        option2: '0.00',
                        option3: '0.00',
                    });
                    changesForServicesMaterialType(vm.estimateInvoiceInfo.serviceList[0], 0);
                    changeService(0);
                    var serviceTypeId = getServiceTypeId(vm.estimateInvoiceInfo.serviceList[0]);
                    vm.estimateInvoiceInfo.serviceList[0].serviceTypeId = serviceTypeId
                    vm.estimateInvoiceInfo.serviceList[0].unitType = getUnitTypeId(serviceTypeId);
                    getMaterialType(vm.estimateInvoiceInfo.serviceList[0]);
                    getList();
                }

                function getServicesMutiSelectCollection() {
                    return franchiseeService.getServicesMutiSelectCollection().then(function (result) {
                        vm.serviceTypeMutiSelect = result.data;
                    });
                }

                function addNewService(index) {
                    vm.serviceSelectedType = vm.estimateInvoiceInfo.serviceList[index];
                    vm.serviceId = [];
                    vm.serviceId.push(vm.serviceSelectedType.serviceIds[0]);
                    var serviceListLength = vm.estimateInvoiceInfo.serviceList.length + 1;
                    vm.estimateInvoiceInfo.serviceList.push({
                        id: 0,
                        serviceTypeId: vm.serviceSelectedType.serviceTypeId,
                        serviceType: vm.serviceSelectedType.serviceType,
                        serviceName: vm.serviceSelectedType.serviceName,
                        locationName: vm.serviceSelectedType.locationName,
                        description: [],
                        location: vm.serviceSelectedType.location,
                        typeOfSurface: vm.serviceSelectedType.typeOfSurface,
                        stoneType: vm.serviceSelectedType.stoneType,
                        typeOfStoneType: vm.serviceSelectedType.typeOfStoneType,
                        typeOfStoneColor: vm.serviceSelectedType.typeOfStoneColor,
                        isNew: true,
                        price: vm.serviceSelectedType.price,
                        editMode: false,
                        serviceIds: [vm.serviceSelectedType.serviceIds],
                        option1: '0.00',
                        option2: '0.00',
                        option3: '0.00',
                        measurements: [],
                        marketingClass: vm.serviceSelectedType.marketingClass,
                        invoiceCount: vm.serviceSelectedType.invoiceCount,
                        invoiceNumber: vm.serviceSelectedType.invoiceNumber,
                        notes: '',
                        typeOfStoneType2: vm.serviceSelectedType.typeOfStoneType2,
                        serviceIds: vm.serviceId,
                        subItem: [],
                        oldInvoiceNumber: vm.serviceSelectedType.invoiceNumber,
                        locationIds: [],
                        class: "blinka",
                        sumTotalArea: 0,
                        stoneTypeForInvoice1: vm.serviceSelectedType.stoneTypeForInvoice1
                    });

                    var serviceTypeId = vm.getServiceTypeId(vm.estimateInvoiceInfo.serviceList[vm.estimateInvoiceInfo.serviceList.length - 1]);
                    vm.estimateInvoiceInfo.serviceList[vm.estimateInvoiceInfo.serviceList.length - 1].serviceTypeId = serviceTypeId;
                    vm.estimateInvoiceInfo.serviceList[vm.estimateInvoiceInfo.serviceList.length - 1].unitType = getUnitTypeId(serviceTypeId);
                    getValueForLabelForServiceType(vm.estimateInvoiceInfo.serviceList[vm.estimateInvoiceInfo.serviceList.length - 1]),
                        calculatingDataByInvoiceNumber();
                    changesForServicesMaterialType(vm.estimateInvoiceInfo.serviceList[vm.estimateInvoiceInfo.serviceList.length - 1], vm.estimateInvoiceInfo.serviceList.length - 1);
                    //changeService(vm.estimateInvoiceInfo.serviceList.length - 1);
                    vm.copyOfServices = angular.copy(vm.estimateInvoiceInfo.serviceList);
                }

                function calculatingDataByInvoiceNumber() {
                    vm.estimateInvoiceInfo.price = 0;

                    angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value1) {
                        if (!value1.isCross) {

                            if (value1.option1 == '' || value1.option1 == undefined) {
                                value1.option1 = 0;
                            }

                            if (value1.option2 == '' || value1.option2 == undefined) {
                                value1.option2 = 0;
                            }

                            if (value1.option3 == '' || value1.option3 == undefined) {
                                value1.option3 = 0;
                            }

                            if (vm.isOption1Checked) {
                                vm.estimateInvoiceInfo.price += parseFloat(value1.option1);
                            }
                            else if (vm.isOption2Checked) {
                                vm.estimateInvoiceInfo.price += parseFloat(value1.option2);
                            }
                            else if (vm.isOption3Checked) {
                                vm.estimateInvoiceInfo.price += parseFloat(value1.option3);
                            }
                        }
                        angular.forEach(value1.subItem, function (value) {
                            if (!value.isCross) {
                                if (vm.isOption1Checked) {
                                    vm.estimateInvoiceInfo.price += parseFloat(value.option1);
                                }
                                else if (vm.isOption2Checked) {
                                    vm.estimateInvoiceInfo.price += parseFloat(value.option2);
                                }
                                else if (vm.isOption3Checked) {
                                    vm.estimateInvoiceInfo.price += parseFloat(value.option3);
                                }
                            }
                        });
                        if (isNaN(vm.estimateInvoiceInfo.price)) {
                            vm.estimateInvoiceInfo.price = 0;
                        }

                    });
                }

                function max1(array) {
                    return Math.max(array[0], array[1], array[2]);
                }

                function updateMarketingClass(serviceList, index) {
                    vm.onceDone = false;
                    vm.serviceTypess = $filter('filter')(vm.serviceType, { value: serviceList.serviceTypeValue }, true)[0].display;
                    serviceList.serviceType = vm.serviceTypess;
                    serviceList.editMode = false;
                    $scope.editMode = false;
                    serviceList.subItem = [];
                    serviceList.description = "";
                    serviceList.option1 = 0;
                    serviceList.option2 = 0;
                    serviceList.option3 = 0;
                    serviceList.notes = '';
                    serviceList.priceNotes = '';
                    serviceList.serviceIds = [];
                    vm.stoneTypeForInvoice1 = [];
                    serviceList.sumTotalArea = 0;
                    if (serviceList.measurements != undefined && serviceList.measurements.length > 0 && serviceList.measurements != null) {
                        serviceList.measurements[0].area = 0;
                    }
                    if (serviceList.honingMeasurementList != undefined) {
                        serviceList.honingMeasurementList[0].area = 0;
                        serviceList.honingMeasurementList[0].totalArea = 0;
                    }
                    getMaterialType(serviceList);

                    //if (serviceList.serviceType == "COUNTERLIFE") {
                    //    vm.stoneTypeForInvoice1 = [{ display: "Marble", value: "Marble" }, { display: "Granite", value: "Granite" },
                    //    { display: "Ceramic", value: "Ceramic" }, { display: "Travertine", value: "Travertine" },
                    //    { display: "Porcelain", value: "Porcelain" }, { display: "Vinyl", value: "Vinyl" }, { display: "Concrete", value: "Concrete" },
                    //    { display: "Corian", value: "Corian" }, { display: "Enduracrete:Terrazzo", value: "Terrazzo" }, { display: "Engineered Stone", value: "Engineered Stone" },
                    //    { display: "Slate", value: "Slate" }, { display: "Wood", value: "Wood" }, { display: "Metal", value: "Metal" }, { display: "Carpet", value: "Carpet" }, { display: "Glass", value: "Glass" }, { display: "Limestone", value: "Limestone" }, { display: "Quartz", value: "Quartz" }];
                    //}
                    //else if (serviceList.serviceType == "COUNTERLIFE:MARBLE") {
                    //    vm.stoneTypeForInvoice1 = [{ display: "Marble", value: "Marble" }];
                    //}
                    //else if (serviceList.serviceType == "COUNTERLIFE:GRANITE") {
                    //    vm.stoneTypeForInvoice1 = [{ display: "Granite", value: "Granite" }];
                    //}
                    //else {
                    //    vm.stoneTypeForInvoice1 = [{ display: "Marble", value: "Marble" }, { display: "Granite", value: "Granite" },
                    //    { display: "Ceramic", value: "Ceramic" }, { display: "Travertine", value: "Travertine" },
                    //    { display: "Porcelain", value: "Porcelain" }, { display: "Vinyl", value: "Vinyl" }, { display: "Concrete", value: "Concrete" },
                    //    { display: "Corian", value: "Corian" }, { display: "Terrazzo", value: "Terrazzo" }, { display: "Slate", value: "Slate" },
                    //    { display: "Wood", value: "Wood" }, { display: "Metal", value: "Metal" }, { display: "Carpet", value: "Carpet" }, { display: "Glass", value: "Glass" }, { display: "Limestone", value: "Limestone" }, { display: "Quartz", value: "Quartz" }];
                    //}

                    //if (serviceList.serviceType == "COUNTERLIFE:MARBLE") {
                    //    serviceList.typeOfStoneType2 = "Marble";
                    //}
                    //else if (serviceList.serviceType == "COUNTERLIFE:GRANITE") {

                    //    serviceList.typeOfStoneType2 = "Granite";
                    //}


                    //if (serviceList.serviceType == "GROUTLIFE/TILELOK") {
                    //    serviceList.typeOfStoneType2 = "Marble";
                    //}
                    //if (serviceList.serviceType == "STONELIFE") {
                    //    serviceList.typeOfStoneType2 = "Marble";
                    //}
                    //if (serviceList.serviceType == "CONCRETE-COATINGS" || serviceList.serviceType == "CONCRETE-COUNTERTOPS" || serviceList.serviceType == "CONCRETE-OVERLAYMENTS"
                    //    || serviceList.serviceType == "CONCRETE-REPAIR\r") {
                    //    serviceList.typeOfStoneType2 = "Concrete";
                    //}
                    //if (serviceList.serviceType == "COUNTERLIFE") {
                    //    serviceList.typeOfStoneType2 = "Engineered Stone";
                    //}
                    //if (serviceList.serviceType == "MAINTENANCE:MONTHLY" || serviceList.serviceType == "MAINTAINCE:MONTHLY") {
                    //    vm.serviceTypeForInvoice = [];
                    //    vm.serviceTypeForInvoice = [{ label: "MAINTENANCE:Monthly", id: "MAINTENANCE:Monthly" }];
                    //    vm.serviceTypeForInvoiceList[index] = [];
                    //    vm.serviceTypeForInvoice = $filter('orderBy')(vm.serviceTypeForInvoice, 'label');
                    //    vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;

                    //}
                    //if (serviceList.serviceType == "MAINTENANCE:MONTHLY" || serviceList.serviceType == "MAINTAINCE:MONTHLY") {
                    //    vm.serviceTypeForInvoice = [];
                    //    vm.serviceTypeForInvoice = [{ label: "MAINTENANCE:Monthly", id: "MAINTENANCE:Monthly" }];

                    //    vm.serviceTypeForInvoiceList[index] = [];
                    //    vm.serviceTypeForInvoice = $filter('orderBy')(vm.serviceTypeForInvoice, 'label');
                    //    vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;

                    //}

                    //if (serviceList.serviceType == "MAINTENANCE:BI-MONTHLY" || serviceList.serviceType == "MAINTAINCE:BI-MONTHLY") {
                    //    vm.serviceTypeForInvoice = [];
                    //    vm.serviceTypeForInvoice = [{ label: "MAINTENANCE:Bi-Monthly", id: "MAINTENANCE:Bi-Monthly" }];

                    //    vm.serviceTypeForInvoiceList[index] = [];
                    //    vm.serviceTypeForInvoice = $filter('orderBy')(vm.serviceTypeForInvoice, 'label');
                    //    vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;

                    //}
                    //if (serviceList.serviceType == "MAINTENANCE:QUARTERLY" || serviceList.serviceType == "MAINTAINCE:QUARTERLY") {
                    //    vm.serviceTypeForInvoice = [];
                    //    vm.serviceTypeForInvoice = [{ label: "MAINTENANCE:Quarterly", id: "MAINTENANCE:Quarterly" }];

                    //    vm.serviceTypeForInvoiceList[index] = [];
                    //    vm.serviceTypeForInvoice = $filter('orderBy')(vm.serviceTypeForInvoice, 'label');
                    //    vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;

                    //}

                    //if (serviceList.serviceType == "MAINTENANCE:OTHER" || serviceList.serviceType == "MAINTAINCE:OTHER") {
                    //    vm.serviceTypeForInvoice = [];
                    //    vm.serviceTypeForInvoice = [{ label: "Maintenance:(Other)", id: "Maintenance:(Other)" }];

                    //    vm.serviceTypeForInvoiceList[index] = [];
                    //    vm.serviceTypeForInvoice = $filter('orderBy')(vm.serviceTypeForInvoice, 'label');
                    //    vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;

                    //}

                    serviceChange(serviceList, index);
                    changeService(index);
                    changeinInvoiceNumberForSerice(index);
                    serviceList.serviceTypeId = getServiceTypeId(serviceList);
                    getValueForLabelForServiceType(serviceList);
                    getSalesPersonNotes(serviceList, index);
                    fillingServiceModel(serviceList, index);
                }

                $scope.$watch('statusId', function (nv, ov) {
                    if (nv == ov) return;
                });

                function changeinInvoiceNumberForSerice(index) {
                    var concreteList = ['CONCRETE-COATINGS'];
                    var currentService = vm.estimateInvoiceInfo.serviceList[index];
                    var currentServiceType = currentService.serviceType;
                    var servicesHavingSameInvoiceIncludingCurrent = $filter('filter')(vm.estimateInvoiceInfo.serviceList, { invoiceNumber: currentService.invoiceNumber }, true);
                    var servicesHavingSameInvoice = servicesHavingSameInvoiceIncludingCurrent;

                    // deleting same element from the list
                    var index = servicesHavingSameInvoiceIncludingCurrent.indexOf(currentService);
                    servicesHavingSameInvoiceIncludingCurrent.splice(index, 1);
                    vm.isConcrete = $filter('filter')(concreteList, currentServiceType, true)[0];
                    var isDone = false;
                    angular.forEach(servicesHavingSameInvoiceIncludingCurrent, function (value1) {

                        if (!isDone) {
                            if ((value1.serviceType == "CONCRETE-COATINGS" || value1.serviceType == "CONCRETE-POLISHING(ENDURACRETE)")
                                && (currentService.serviceType != "CONCRETE-COATINGS" && currentService.serviceType != "CONCRETE-POLISHING(ENDURACRETE)")) {
                                vm.estimateInvoiceInfo.invoiceCount = parseInt(vm.estimateInvoiceInfo.invoiceCount) + 1;
                                changeInNumberOfInvoices();
                                currentService.invoiceNumber = (vm.invoiceNumberForInvoice.length).toString();
                                currentService.oldInvoiceNumber = (vm.invoiceNumberForInvoice.length).toString();
                                isDone = true;
                                toaster.show('Enduracrete & Concrete - Coatings Invoice are separated as they have different T&Cs.');
                            }
                            else if ((value1.serviceType != "CONCRETE-COATINGS" && value1.serviceType != "CONCRETE-POLISHING(ENDURACRETE)")
                                && (currentService.serviceType == "CONCRETE-COATINGS" || currentService.serviceType == "CONCRETE-POLISHING(ENDURACRETE)")) {
                                vm.estimateInvoiceInfo.invoiceCount = parseInt(vm.estimateInvoiceInfo.invoiceCount) + 1;
                                changeInNumberOfInvoices();
                                currentService.invoiceNumber = (vm.invoiceNumberForInvoice.length).toString();
                                currentService.oldInvoiceNumber = (vm.invoiceNumberForInvoice.length).toString();
                                isDone = true;
                                toaster.show('Enduracrete & Concrete - Coatings Invoice are separated as they have different T&Cs.');
                            }
                        }

                    })
                }

                function change(serviceList) {

                }

                function changeInNumberOfInvoices() {
                    if (vm.estimateInvoiceInfo.invoiceCount < 1 || vm.estimateInvoiceInfo.invoiceCount == '' || vm.estimateInvoiceInfo.invoiceCount == undefined) {
                        //toaster.error('Invoice Count Cannot be less than 1');
                        return;
                    }
                    vm.invoiceNumberForInvoice = [];
                    for (var i = 1; i <= vm.estimateInvoiceInfo.invoiceCount; i++) {
                        vm.invoiceNumberForInvoice.push({ display: i.toString(), value: i.toString() })
                    }
                    angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value1) {
                        if (value1.invoiceNumber == "" || value1.invoiceNumber == undefined) {
                            value1.invoiceNumber = "1";
                        }
                    });
                    var index = 1;
                    vm.currentInvoice = [];
                    angular.forEach(vm.invoiceNumberForInvoice, function (value1, index) {
                        var currentIndex = parseInt(value1.value);
                        if (vm.estimateInvoiceInfo.invoiceNotesList[index] != undefined) {
                            vm.estimateInvoiceInfo.invoiceNotesList[index].invoiceNumber = index + 1;
                            vm.currentInvoice.push(vm.estimateInvoiceInfo.invoiceNotesList[index]);
                        }
                        else {
                            vm.currentInvoice.push({ id: 0, notes: '', invoiceNumber: index + 1 });
                        }

                    });
                    vm.estimateInvoiceInfo.invoiceNotesList = vm.currentInvoice;
                }

                function deleteInvoice(index) {
                    vm.removeIndex = index;
                    if (vm.estimateInvoiceInfo.serviceList.length == 1) {
                        return;
                    }
                    openValidationInvoiceLineItemModel();
                    var indexCount = 1;
                    $rootScope.$on("IsInvoiceLineItemRemove", function (evt, data) {
                        vm.isInvoiceLineItemRemove = data;
                        if (vm.isInvoiceLineItemRemove == true && indexCount == 1) {
                            vm.isInvoiceLineItemRemove = false;
                            vm.estimateInvoiceInfo.serviceList.splice(vm.removeIndex, 1);
                            vm.removeIndex = null;
                            data = false;
                            indexCount = 0;
                            calculatingDataByInvoiceNumber();
                            return;
                        }
                        else {
                            indexCount = 0;
                            return;
                        }
                    });
                }

                function saveInvoice(isFromInvoice, isFromDownload) {
                    validation();
                    $window.scrollTo(0, 0);
                    document.getElementById("div-invoice").scrollTo(0, 0);
                    if (!vm.isDataValid) {
                        toaster.error('Please Complete Prices!!');
                        vm.isDataValid = true;
                        return;
                    }

                    if (vm.estimateInvoiceInfo.invoiceCount == 0 || vm.estimateInvoiceInfo.invoiceCount == '') {
                        toaster.error('Invoice Count Cannot be less than 1');
                        vm.isDataValid = true;
                        return;
                    }

                    if (vm.estimateInvoiceInfo.serviceList.length == 0) {
                        vm.estimateInvoiceInfo.serviceList.push({
                            id: 0,
                            serviceTypeId: 0,
                            serviceType: '',
                            serviceName: [],
                            locationName: [],
                            description: [],
                            location: [],
                            typeOfSurface: [],
                            stoneType: [],
                            typeOfStoneType: [],
                            typeOfStoneColor: [],
                            isNew: true,
                            invoiceNumber: 1,
                            price: 0,
                            editMode: true,
                            serviceIds: [],
                            option1: '0.00',
                            option2: '0.00',
                            option3: '0.00',
                            measurements: [],
                            sumTotalArea: 0,
                            marketingClass: '',
                            notes: '',
                            typeOfStoneType2: []
                        });
                    }
                    getMaterialType(vm.estimateInvoiceInfo.serviceList[0]);
                    angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value1) {
                        vm.serviceIds = [];
                        vm.locationName = [];
                        vm.typeOfStoneColor = [];
                        vm.typeOfSurface = [];
                        vm.typeOfStoneType = [];
                        vm.description = [];
                        vm.typeOfStoneType2 = [];
                        vm.measurements = [];
                        if (value1.serviceIds.length > 0) {
                            vm.serviceIds.push(value1.serviceIds);
                            value1.serviceIds1 = value1.serviceIds;
                        }
                        else {
                            value1.serviceIds1 = [];
                        }
                        if (value1.locationName.length > 0) {
                            vm.locationName.push(value1.locationName);
                            value1.locationName1 = vm.locationName;
                        }
                        else {
                            value1.locationName1 = [];
                        }
                        if (value1.typeOfStoneColor.length > 0) {
                            vm.typeOfStoneColor.push(value1.typeOfStoneColor);
                            value1.typeOfStoneColor1 = vm.typeOfStoneColor;
                        }
                        else {
                            value1.typeOfStoneColor1 = [];
                        }
                        if (value1.typeOfSurface.length > 0) {
                            vm.typeOfSurface.push(value1.typeOfSurface)
                            value1.typeOfSurface1 = (vm.typeOfSurface);
                        }
                        else {
                            value1.typeOfSurface1 = [];
                        }

                        if (value1.typeOfStoneType.length > 0) {
                            vm.typeOfStoneType.push(value1.typeOfStoneType);
                            value1.typeOfStoneType1 = vm.typeOfStoneType;
                        }
                        else {
                            value1.typeOfStoneType1 = [];
                        }
                        if (value1.typeOfStoneType2.length > 0) {
                            vm.typeOfStoneType2.push(value1.typeOfStoneType2);
                            value1.typeOfStoneType3 = (vm.typeOfStoneType2);
                        }
                        else {
                            value1.typeOfStoneType3 = [];
                        }
                    });
                    vm.estimateInvoiceInfo.franchiseeId = $scope.franchiseeId;
                    vm.estimateInvoiceInfo.estimateId = vm.estimateId;
                    vm.estimateInvoiceInfo.schedulerId = vm.rowId;
                    vm.estimateInvoiceInfo.numberOfInvoices = vm.estimateInvoiceInfo.invoiceCount;
                    vm.estimateInvoiceInfo.address = vm.estimateInfo.jobCustomer.address.addressLine1;
                    vm.estimateInvoiceInfo.city = vm.estimateInfo.jobCustomer.address.city + ', ' + vm.estimateInfo.jobCustomer.address.state
                        + ' ' + vm.estimateInfo.jobCustomer.address.zipCode;
                    vm.estimateInvoiceInfo.lessDepositPercentage = vm.estimateInfo.lessDeposit;
                    vm.estimateInvoiceInfo.phoneNumber1 = vm.estimateInfo.jobCustomer.phoneNumber;
                    vm.estimateInvoiceInfo.customerName = vm.estimateInfo.jobCustomer.customerName;
                    vm.estimateInvoiceInfo.email = vm.estimateInfo.jobCustomer.email;
                    calculatingDataByInvoiceNumber();
                    vm.estimateInvoiceInfo.isCustomerInvoice = false;
                    var count = 0;
                    angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value, index1) {
                        if (value.serviceIds.length == 0 || value.locationIds.length == 0) {
                            if (value.serviceIds.length == 0 && value.locationIds.length != 0) {
                                toaster.error('Please select Service from List Of Service!');
                            }
                            if (value.serviceIds.length != 0 && value.locationIds.length == 0) {
                                toaster.error('Please select Location!');
                            }
                            if (value.serviceIds.length == 0 && value.locationIds.length == 0) {
                                toaster.error('Please select Location!');
                                toaster.error('Please select Service from List Of Service!');
                            }
                            count = count + 1;
                            return;
                        }
                    });
                    if (count == 0) {
                        getEstimateInfo();
                        return schedulerService.saveInvoiceInfo(vm.estimateInvoiceInfo).then(function (result) {
                            if (result != null) {
                                vm.isDisableButton = false;
                                //toaster.show("Invoice Created/Updated Successfully!!");
                                calculatingDataByInvoiceNumber();
                                totalSumForOptions();
                                optionWiseTotal();
                                //vm.addInvoiceToEstimate();

                                if (!isFromInvoice && !isFromDownload) {
                                    if (result.data) {
                                        toaster.show("Invoice Created/Updated and Attached Succesfully to Estimate!!");
                                        getEstimateInfo();
                                        getInvoiceDetails();
                                    }
                                    else {
                                        toaster.error("Error in Attaching Invoice to Estimate!!");
                                    }
                                }
                                /* getEstimateInfo();*/
                            }
                            if (isFromInvoice) {
                                openSelectInvoicesModal("Send Email to Customer", "Send Mail", true);
                            }
                            else if (isFromDownload) {
                                openSelectInvoicesModal("Download Internal Invoice(s)", "Download Internal Invoice(s)", false);
                            }
                            $window.scrollTo(0, 0);
                            document.getElementById("div-invoice").scrollTo(0, 0);
                        });
                    }
                }


                //When Service is changed in invoice Line
                function fillingServiceModel(serviceList, index) {
                    if (serviceList.id < 1) {
                        serviceList.description = "";
                    }
                    
                    vm.serviceTypeForInvoice = [
                        { label: "No Service Available", id: "No Service Available" }
                    ];

                    vm.serviceTypeForInvoiceList[index] = [];
                    vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;

                    //For Carpet Material
                    if (serviceList.serviceType == "CARPETLIFE" && serviceList.typeOfStoneType2 == "Carpet") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Carpet Cleaning", id: "Carpet Cleaning" },
                            { label: "Carpet Guard", id: "Carpet Guard" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Ceramic (tile and grout) Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Ceramic (tile and grout)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Seal", id: "Seal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "GROUTLIFE/TILELOK" && serviceList.typeOfStoneType2 == "Ceramic (tile and grout)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean/Colorseal/ Interlok", id: "Bundle Clean/Colorseal/ Interlok" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Ceramic", id: "Ceramic" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Colorseal", id: "Colorseal" },
                            { label: "Colorseal-Hydroforce", id: "Colorseal-Hydroforce" },
                            { label: "Colorseal-Powerwash", id: "Colorseal-Powerwash" },
                            { label: "Colorseal-Powerscrub", id: "Colorseal-Powerscrub" },
                            { label: "Grout Repair", id: "Grout Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Powerwash Cleaning", id: "Powerwash Cleaning" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Rebond", id: "Tile Rebond" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Waxing", id: "Waxing" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Ceramic (tile and grout)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Ceramic (tile and grout)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Concrete Material
                    else if (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Cleanshield", id: "Cleanshield" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "CONCRETE-COATINGS" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            // Bundle items first
                            { label: "Bundle Clean & Reseal", id: "Bundle Clean & Reseal" },
                            { label: "Bundle Prep & Coat Epoxy Only", id: "Bundle Prep & Coat Epoxy Only" },
                            { label: "Bundle Prep & Coat Epoxy-Epoxy", id: "Bundle Prep & Coat Epoxy-Epoxy" },
                            { label: "Bundle Prep & Coat Epoxy-MVB Only", id: "Bundle Prep & Coat Epoxy-MVB Only" },
                            { label: "Bundle Prep & Coat Epoxy-Poly Spartic", id: "Bundle Prep & Coat Epoxy-Poly Spartic" },
                            { label: "Bundle Prep & Coat Poly Spartic Only", id: "Bundle Prep & Coat Poly Spartic Only" },
                            { label: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - ACS Chip - Epoxy", id: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - ACS Chip - Epoxy" },
                            { label: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - Quartz Chip - Epoxy", id: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - Quartz Chip - Epoxy" },
                            { label: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - Vinyl Chip - Epoxy", id: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - Vinyl Chip - Epoxy" },
                            { label: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - ACS Chip - Poly Spartic", id: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - ACS Chip - Poly Spartic" },
                            { label: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - Quartz Chip - Poly Spartic", id: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - Quartz Chip - Poly Spartic" },
                            { label: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - Vinyl Chip - Poly Spartic", id: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - Vinyl Chip - Poly Spartic" },
                            { label: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) EPOXY - Vinyl Chip - Poly Spartic", id: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) EPOXY - Vinyl Chip - Poly Spartic" },
                            { label: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) Epoxy - ACS Chip - Poly Spartic", id: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) Epoxy - ACS Chip - Poly Spartic" },
                            { label: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) Epoxy - Quartz Chip - Poly Spartic", id: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) Epoxy - Quartz Chip - Poly Spartic" },
                            { label: "Bundle Prep - Marblized Marblize", id: "Bundle Prep - Marblized Marblize" },
                            { label: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - ACS Chip - Poly Spartic", id: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - ACS Chip - Poly Spartic" },
                            { label: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - Quartz Chip - Poly Spartic", id: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - Quartz Chip - Poly Spartic" },
                            { label: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - Vinyl Chip - Poly Spartic", id: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - Vinyl Chip - Poly Spartic" },
                            { label: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - ACS Chip - Poly Spartic", id: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - ACS Chip - Poly Spartic" },
                            { label: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - Quartz Chip - Poly Spartic", id: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - Quartz Chip - Poly Spartic" },
                            { label: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - Vinyl Chip - Poly Spartic", id: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - Vinyl Chip - Poly Spartic" },
                            { label: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - ACS Chip - Poly Spartic", id: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - ACS Chip - Poly Spartic" },
                            { label: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - Quartz Chip - Poly Spartic", id: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - Quartz Chip - Poly Spartic" },
                            { label: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - Vinyl Chip - Poly Spartic", id: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - Vinyl Chip - Poly Spartic" },
                            { label: "Bundle Strip, Clean & Reseal", id: "Bundle Strip, Clean & Reseal" },

                            // Individual items in alphabetical order
                            { label: "ACS Chips", id: "ACS Chips" },
                            { label: "Anti-Spauling Driveway Sealing", id: "Anti-Spauling Driveway Sealing" },
                            { label: "Anti-Spauling Sideway Sealing", id: "Anti-Spauling Sideway Sealing" },
                            { label: "Base Coat (Epoxy)", id: "Base Coat (Epoxy)" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Concrete Floor Prep - Grind", id: "Concrete Floor Prep - Grind" },
                            { label: "Concrete Floor Prep - Repairs", id: "Concrete Floor Prep - Repairs" },
                            { label: "Endurachip - Durable", id: "Endurachip - Durable" },
                            { label: "Endurachip - Fast", id: "Endurachip - Fast" },
                            { label: "Endurachip - Light", id: "Endurachip - Light" },
                            { label: "Endurachip Durable (ACS Filler)", id: "Endurachip Durable (ACS Filler)" },
                            { label: "Endurachip Durable (Quartz Chip)", id: "Endurachip Durable (Quartz Chip)" },
                            { label: "Endurachip Durable (VinylChip)", id: "Endurachip Durable (VinylChip)" },
                            { label: "Endurachip Fast (ACS Filler)", id: "Endurachip Fast (ACS Filler)" },
                            { label: "Endurachip Fast (Quartz Chip)", id: "Endurachip Fast (Quartz Chip)" },
                            { label: "Endurachip Fast (VinylChip)", id: "Endurachip Fast (VinylChip)" },
                            { label: "Endurachip Slow (ACS Filler)", id: "Endurachip Slow (ACS Filler)" },
                            { label: "Endurachip Slow (Quartz Chip)", id: "Endurachip Slow (Quartz Chip)" },
                            { label: "Endurachip Slow (VinylChip)", id: "Endurachip Slow (VinylChip)" },
                            { label: "Epoxy Base", id: "Epoxy Base" },
                            { label: "Epoxy Top Coat", id: "Epoxy Top Coat" },
                            { label: "Hone Surface Prep", id: "Hone Surface Prep" },
                            { label: "Marblized Coating", id: "Marblized Coating" },
                            { label: "Moisture Vapor Barrier", id: "Moisture Vapor Barrier" },
                            { label: "MVB-Base Coat (SEMIRON)", id: "MVB-Base Coat (SEMIRON)" },
                            { label: "MVB-Base Coat (Semiron-Epoxy)", id: "MVB-Base Coat (Semiron-Epoxy)" },
                            { label: "Polyspartic Base", id: "Polyspartic Base" },
                            { label: "Polyspartic Top Coat", id: "Polyspartic Top Coat" },
                            { label: "Powerwash - Mold Stain Removal", id: "Powerwash - Mold Stain Removal" },
                            { label: "Quartz Chips", id: "Quartz Chips" },
                            { label: "Top Coat (Polyspartic)", id: "Top Coat (Polyspartic)" },
                            { label: "Vinyl Chips", id: "Vinyl Chips" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "CONCRETE-OVERLAYMENTS" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Hone", id: "Hone" },
                            { label: "Install", id: "Install" },
                            { label: "Polish", id: "Polish" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Seal", id: "Seal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "CONCRETE-STAIN" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle (Honing & Polishing)", id: "Bundle (Honing & Polishing)" },
                            { label: "Densification", id: "Densification" },
                            { label: "Stain Application", id: "Stain Application" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "CONCRETE-POLISHING(ENDURACRETE)" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle (Honing & Polishing)", id: "Bundle (Honing & Polishing)" },
                            { label: "Concrete Microtopping Overlayment", id: "Concrete Microtopping Overlayment" },
                            { label: "Concrete Spot Stain Removal", id: "Concrete Spot Stain Removal" },
                            { label: "Concrete Stain Application", id: "Concrete Stain Application" },
                            { label: "Densification", id: "Densification" },
                            { label: "Guard", id: "Guard" },
                            { label: "Honing", id: "Honing" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Enduraclean Concrete Cleaner CONCENTRATE 32oz", id: "Enduraclean Concrete Cleaner CONCENTRATE 32oz" },
                            { label: "Enduraclean Concrete Cleaner CONCENTRATE Gal", id: "Enduraclean Concrete Cleaner CONCENTRATE Gal" },
                            { label: "Enduraclean Concrete Cleaner for Driveways, Sidewalks and Patios 32oz", id: "Enduraclean Concrete Cleaner for Driveways, Sidewalks and Patios 32oz" },
                            { label: "Enduraclean Exterio Concree Stain Remover Cleaner 32oz", id: "Enduraclean Exterio Concree Stain Remover Cleaner 32oz" },
                            { label: "Enduraclean Garage & Indoor Concrete READY-TO-USE 32oz", id: "Enduraclean Garage & Indoor Concrete READY-TO-USE 32oz" },
                            { label: "Enduraclean Metallic & Marblized Coating Cleaner Gal", id: "Enduraclean Metallic & Marblized Coating Cleaner Gal" },
                            { label: "Enduraclean Polished Concrete Cleaner CONCENTRATE Gal", id: "Enduraclean Polished Concrete Cleaner CONCENTRATE Gal" },
                            { label: "Enduraclean Polished Concrete Cleaner READY-TO-USE 32oz", id: "Enduraclean Polished Concrete Cleaner READY-TO-USE 32oz" },
                            { label: "Enduraclean Terrazzo & Concrete Cleaner 32oz", id: "Enduraclean Terrazzo & Concrete Cleaner 32oz" },
                            { label: "Enduraseal Concrete Sealer 32oz", id: "Enduraseal Concrete Sealer 32oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "VINYLGUARD" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Cleaning and Pre-Coat Preparations", id: "Cleaning and Pre-Coat Preparations" },
                            { label: "Stripping Wax", id: "Stripping Wax" },
                            { label: "VinylGuard Installation", id: "VinylGuard Installation" },
                            { label: "Waxing", id: "Waxing" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Glass Material
                    else if (serviceList.serviceType == "CLEANAIR" && serviceList.typeOfStoneType2 == "Glass") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Clean Air Purification Treatments", id: "Clean Air Purification Treatments" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "METALLIFE" && serviceList.typeOfStoneType2 == "Glass") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Metal Cleaning", id: "Metal Cleaning" },
                            { label: "Metal Laquer, Sealing & Protection", id: "Metal Laquer, Sealing & Protection" },
                            { label: "Metal Scratch Removal", id: "Metal Scratch Removal" },
                            { label: "Metal Stripping", id: "Metal Stripping" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Glass") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Glass") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Hone", id: "Hone" },
                            { label: "Polish", id: "Polish" },
                            { label: "Chip Repair", id: "Chip Repair" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Slate Material
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Slate") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Slate") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Vinyl Material
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Vinyl") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Vinyl") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "VINYLGUARD" && serviceList.typeOfStoneType2 == "Vinyl") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Cleaning and Pre-Coat Preparations", id: "Cleaning and Pre-Coat Preparations" },
                            { label: "HONE", id: "HONE" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Stripping Wax", id: "Stripping Wax" },
                            { label: "VinylGuard Installation", id: "VinylGuard Installation" },
                            { label: "Waxing", id: "Waxing" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Terrazzo Material
                    else if (serviceList.serviceType == "CONCRETE-POLISHING(ENDURACRETE)" && serviceList.typeOfStoneType2 == "Terrazzo") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle (Honing & Polishing)", id: "Bundle (Honing & Polishing)" },
                            { label: "Concrete Microtopping Overlayment", id: "Concrete Microtopping Overlayment" },
                            { label: "Concrete Spot Stain Removal", id: "Concrete Spot Stain Removal" },
                            { label: "Concrete Stain Application", id: "Concrete Stain Application" },
                            { label: "Densification", id: "Densification" },
                            { label: "Guard", id: "Guard" },
                            { label: "Honing", id: "Honing" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Terrazzo") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Enduraclean Terrazzo & Concrete Cleaner 32oz", id: "Enduraclean Terrazzo & Concrete Cleaner 32oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Terrazzo") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Wood Material
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Wood") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Wood & Laminate Cleaner 32oz", id: "Wood & Laminate Cleaner 32oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "WOODLIFE" && serviceList.typeOfStoneType2 == "Wood") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Buffing", id: "Buffing" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Re-Coat", id: "Re-Coat" },
                            { label: "Scuffing", id: "Scuffing" },
                            { label: "Scratch & Wear Removal (Sanding)", id: "Scratch & Wear Removal (Sanding)" },
                            { label: "Staining", id: "Staining" },
                            { label: "Top Coat", id: "Top Coat" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Travertine Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Travertine") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Traverfil", id: "Traverfil" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Travertine") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble Cleaner 32 oz Spray", id: "Marble Cleaner 32 oz Spray" },
                            { label: "Marble Cleaner Conc. 32oz", id: "Marble Cleaner Conc. 32oz" },
                            { label: "Marble Cleaner Refill Gallon", id: "Marble Cleaner Refill Gallon" },
                            { label: "Marble Gloss Conditioner 16oz", id: "Marble Gloss Conditioner 16oz" },
                            { label: "Marble Polish 16 oz", id: "Marble Polish 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Travertine") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Gloss-1 (Polish-Harden-Seal)", id: "Bundle Gloss-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)", id: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Bundle Satin-1 (Polish-Harden-Seal)", id: "Bundle Satin-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Satin-2 (Hone-Polish-Harden-Seal)", id: "Bundle Satin-2 (Hone-Polish-Harden-Seal)" },

                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "GRIND", id: "GRIND" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Traverfil", id: "Traverfil" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Travertine") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Granite Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Granite") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Cleaning - Address Mold Stains", id: "Cleaning - Address Mold Stains" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Seam Repair", id: "Seam Repair" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Traverfil", id: "Traverfil" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Granite") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Granite Cleaner 32 oz Spray", id: "Granite Cleaner 32 oz Spray" },
                            { label: "Granite Cleaner Refill Gallon", id: "Granite Cleaner Refill Gallon" },
                            { label: "Granite Gloss conditioner 8oz", id: "Granite Gloss conditioner 8oz" },
                            { label: "Granite Sealer 4 oz Spray", id: "Granite Sealer 4 oz Spray" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble Gloss conditioner 16oz", id: "Marble Gloss conditioner 16oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Granite") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Gloss-1 (Polish-Harden-Seal)", id: "Bundle Gloss-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)", id: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Bundle Satin-1 (Polish-Harden-Seal)", id: "Bundle Satin-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Satin-2 (Hone-Polish-Harden-Seal)", id: "Bundle Satin-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Cleaning - Address Mold Stains", id: "Cleaning - Address Mold Stains" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Granite") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Marble Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Marble") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Marble") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble Cleaner 32 oz Spray", id: "Marble Cleaner 32 oz Spray" },
                            { label: "Marble cleaner Conc. 32oz", id: "Marble cleaner Conc. 32oz" },
                            { label: "Marble cleaner Refill Gallon", id: "Marble cleaner Refill Gallon" },
                            { label: "Marble Gloss conditioner 16oz", id: "Marble Gloss conditioner 16oz" },
                            { label: "Marble Polish 16 oz", id: "Marble Polish 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Marble") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Gloss-1 (Polish-Harden-Seal)", id: "Bundle Gloss-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)", id: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Bundle Satin-1 (Polish-Harden-Seal)", id: "Bundle Satin-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Satin-2 (Hone-Polish-Harden-Seal)", id: "Bundle Satin-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "GRIND", id: "GRIND" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Marble") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Limestone Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Limestone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Limestone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble cleaner Conc. 32oz", id: "Marble cleaner Conc. 32oz" },
                            { label: "Marble cleaner Refill Gallon", id: "Marble cleaner Refill Gallon" },
                            { label: "Marble Cleaner 32 oz Spray", id: "Marble Cleaner 32 oz Spray" },
                            { label: "Marble Gloss conditioner 16oz", id: "Marble Gloss conditioner 16oz" },
                            { label: "Marble Polish 16 oz", id: "Marble Polish 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Limestone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Gloss-1 (Polish-Harden-Seal)", id: "Bundle Gloss-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)", id: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Bundle Satin-1 (Polish-Harden-Seal)", id: "Bundle Satin-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Satin-2 (Hone-Polish-Harden-Seal)", id: "Bundle Satin-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "GRIND", id: "GRIND" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Limestone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Metal Material
                    else if (serviceList.serviceType == "METALLIFE" && serviceList.typeOfStoneType2 == "Metal") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Metal Cleaning", id: "Metal Cleaning" },
                            { label: "Metal Laquer, Sealing & Protection", id: "Metal Laquer, Sealing & Protection" },
                            { label: "Metal Scratch Removal", id: "Metal Scratch Removal" },
                            { label: "Metal Stripping", id: "Metal Stripping" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Metal") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Gloss conditioner 16oz", id: "Gloss conditioner 16oz" },
                            { label: "Granite Cleaner 32 oz Spray", id: "Granite Cleaner 32 oz Spray" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Porcelain Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Porcelain") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Porcelain") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Porcelain") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Quartz Material
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Quartz") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Gloss conditioner 16oz", id: "Gloss conditioner 16oz" },
                            { label: "Granite Cleaner 32 oz Spray", id: "Granite Cleaner 32 oz Spray" },
                            { label: "Granite Cleaner Refill Gallon", id: "Granite Cleaner Refill Gallon" },
                            { label: "Granite Gloss conditioner 8oz", id: "Granite Gloss conditioner 8oz" },
                            { label: "Granite Sealer 4 oz Spray", id: "Granite Sealer 4 oz Spray" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Quartz") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Brick Material
                    else if (serviceList.serviceType == "COLORSEAL" && serviceList.typeOfStoneType2 == "Brick") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "No Service Available", id: "No Service Available" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if ((serviceList.serviceType == "CONCRETE-COATINGS" || serviceList.serviceType == "CONCRETE-COUNTERTOPS") && serviceList.typeOfStoneType2 == "Brick") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Hone", id: "Hone" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Seal", id: "Seal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Brick") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Brick") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Brick") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grind", id: "Grind" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Engineered Stone:Cesar, Engineered Stone:Corian, Engineered Stone:Other, Engineered Stone:Zodiaq Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && ((serviceList.typeOfStoneType2 == "Engineered Stone:Cesar") || (serviceList.typeOfStoneType2 == "Engineered Stone:Corian") || (serviceList.typeOfStoneType2 == "Engineered Stone:Other") || (serviceList.typeOfStoneType2 == "Engineered Stone:Zodiaq"))) {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && ((serviceList.typeOfStoneType2 == "Engineered Stone:Cesar") || (serviceList.typeOfStoneType2 == "Engineered Stone:Corian") || (serviceList.typeOfStoneType2 == "Engineered Stone:Other") || (serviceList.typeOfStoneType2 == "Engineered Stone:Zodiaq"))) {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Granite Cleaner 32 oz Spray", id: "Granite Cleaner 32 oz Spray" },
                            { label: "Granite Cleaner Refill Gallon", id: "Granite Cleaner Refill Gallon" },
                            { label: "Granite Gloss conditioner 8oz", id: "Granite Gloss conditioner 8oz" },
                            { label: "Granite Sealer 4 oz Spray", id: "Granite Sealer 4 oz Spray" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Flagstone Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Flagstone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "GROUTLIFE/TILELOK" && serviceList.typeOfStoneType2 == "Flagstone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean/Colorseal/ Interlok", id: "Bundle Clean/Colorseal/ Interlok" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Colorseal", id: "Colorseal" },
                            { label: "Colorseal-Hydroforce", id: "Colorseal-Hydroforce" },
                            { label: "Colorseal-Powerscrub", id: "Colorseal-Powerscrub" },
                            { label: "Colorseal-Powerwash", id: "Colorseal-Powerwash" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Flagstone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble Cleaner 32 oz Spray", id: "Marble Cleaner 32 oz Spray" },
                            { label: "Marble cleaner Conc. 32oz", id: "Marble cleaner Conc. 32oz" },
                            { label: "Marble cleaner Refill Gallon", id: "Marble cleaner Refill Gallon" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Flagstone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "GRIND", id: "GRIND" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Other", id: "Other" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Marble (Tumbled) Material
                    else if (serviceList.serviceType == "COLORSEAL" && serviceList.typeOfStoneType2 == "Marble (Tumbled)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "No Service Available", id: "No Service Available" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Marble (Tumbled)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "GROUTLIFE/TILELOK" && serviceList.typeOfStoneType2 == "Marble (Tumbled)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean/Colorseal/ Interlok", id: "Bundle Clean/Colorseal/ Interlok" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Colorseal", id: "Colorseal" },
                            { label: "Colorseal-Hydroforce", id: "Colorseal-Hydroforce" },
                            { label: "Colorseal-Powerscrub", id: "Colorseal-Powerscrub" },
                            { label: "Colorseal-Powerwash", id: "Colorseal-Powerwash" },
                            { label: "Grout Repair", id: "Grout Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Powerwash Cleaning", id: "Powerwash Cleaning" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Rebond", id: "Tile Rebond" },
                            { label: "Tile Replacement", id: "Tile Replacement" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Marble (Tumbled)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble Cleaner 32 oz Spray", id: "Marble Cleaner 32 oz Spray" },
                            { label: "Marble cleaner Conc. 32oz", id: "Marble cleaner Conc. 32oz" },
                            { label: "Marble cleaner Refill Gallon", id: "Marble cleaner Refill Gallon" },
                            { label: "Marble Gloss conditioner 16oz", id: "Marble Gloss conditioner 16oz" },
                            { label: "Marble Polish 16 oz", id: "Marble Polish 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Marble (Tumbled)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Gloss-1 (Polish-Harden-Seal)", id: "Bundle Gloss-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)", id: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Bundle Satin-1 (Polish-Harden-Seal)", id: "Bundle Satin-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Satin-2 (Hone-Polish-Harden-Seal)", id: "Bundle Satin-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grind", id: "Grind" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Mexican Tile Material
                    else if (serviceList.serviceType == "COLORSEAL" && serviceList.typeOfStoneType2 == "Mexican Tile") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "No Service Available", id: "No Service Available" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Mexican Tile") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "GROUTLIFE/TILELOK" && serviceList.typeOfStoneType2 == "Mexican Tile") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean/Colorseal/ Interlok", id: "Bundle Clean/Colorseal/ Interlok" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Colorseal", id: "Colorseal" },
                            { label: "Colorseal-Hydroforce", id: "Colorseal-Hydroforce" },
                            { label: "Colorseal-Powerscrub", id: "Colorseal-Powerscrub" },
                            { label: "Colorseal-Powerwash", id: "Colorseal-Powerwash" },
                            { label: "Grout Repair", id: "Grout Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Powerwash Cleaning", id: "Powerwash Cleaning" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Rebond", id: "Tile Rebond" },
                            { label: "Tile Replacement", id: "Tile Replacement" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Mexican Tile") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Mexican Tile") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Other", id: "Other" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }


                    //For Common List of Services
                    // For List of Services- Hone, Polish, Chip Repair, Crack Repair, Seal
                    else if (
                        (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Slate") ||
                        (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Concrete") ||
                        (serviceList.serviceType == "CONCRETE-REPAIR" && serviceList.typeOfStoneType2 == "Concrete") ||
                        (serviceList.serviceType == "CONCRETE-COUNTERTOPS" && serviceList.typeOfStoneType2 == "Concrete") ||
                        (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Slate") ||
                        (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Vinyl") ||
                        (serviceList.serviceType == "CONCRETE-REPAIR" && serviceList.typeOfStoneType2 == "Terrazzo") ||
                        (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Terrazzo") ||
                        (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Quartz") ||
                        (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Quartz") ||
                        (serviceList.serviceType == "CONCRETE-OVERLAYMENTS" && serviceList.typeOfStoneType2 == "Brick")
                    ) {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Hone", id: "Hone" },
                            { label: "Polish", id: "Polish" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Seal", id: "Seal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For CLEANSHIELD
                    else if (
                        (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Granite") ||
                        (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Travertine") ||
                        (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Marble") ||
                        (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Limestone") ||
                        (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Quartz")
                    ) {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Cleanshield", id: "Cleanshield" },
                            { label: "Hone", id: "Hone" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For GROUTLIFE/TILELOK
                    else if (serviceList.serviceType == "GROUTLIFE/TILELOK" && ((serviceList.typeOfStoneType2 == "Travertine") || (serviceList.typeOfStoneType2 == "Terrazzo") || (serviceList.typeOfStoneType2 == "Vinyl") || (serviceList.typeOfStoneType2 == "Slate") || (serviceList.typeOfStoneType2 == "Granite") || (serviceList.typeOfStoneType2 == "Marble") || (serviceList.typeOfStoneType2 == "Limestone") || (serviceList.typeOfStoneType2 == "Porcelain") || (serviceList.typeOfStoneType2 == "Quartz") || (serviceList.typeOfStoneType2 == "Brick"))) {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean/Colorseal/ Interlok", id: "Bundle Clean/Colorseal/ Interlok" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Ceramic", id: "Ceramic" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Colorseal", id: "Colorseal" },
                            { label: "Colorseal-Hydroforce", id: "Colorseal-Hydroforce" },
                            { label: "Colorseal-Powerwash", id: "Colorseal-Powerwash" },
                            { label: "Colorseal-Powerscrub", id: "Colorseal-Powerscrub" },
                            { label: "Grout Repair", id: "Grout Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Powerwash Cleaning", id: "Powerwash Cleaning" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Rebond", id: "Tile Rebond" },
                            { label: "Tile Replacement", id: "Tile Replacement" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For SALESTAX
                    else if (serviceList.serviceType == "SALESTAX") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Products", id: "Products" },
                            { label: "Service", id: "Service" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For MAINTENANCE
                    else if (serviceList.serviceType == "MAINTENANCE:BI-MONTHLY") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "MAINTENANCE:Bi-Monthly", id: "MAINTENANCE:Bi-Monthly" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "MAINTENANCE:MONTHLY") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "MAINTENANCE:Monthly", id: "MAINTENANCE:Monthly" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "MAINTENANCE:OTHER") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Maintenance:(Other)", id: "Maintenance:(Other)" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "MAINTENANCE:QUARTERLY") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "MAINTENANCE:Quarterly", id: "MAINTENANCE:Quarterly" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "No Service Available", id: "No Service Available" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                }

                function getInvoiceDetails() {
                    var beforeCompletetionValue = 289;
                    vm.estimateModel = {};
                    vm.estimateModel.id = vm.estimateInvoiceId;
                    vm.estimateModel.typeId = beforeCompletetionValue;
                    vm.estimateModel.schedulerId = vm.rowId;
                    return schedulerService.getInvoiceInfo(vm.estimateModel).then(function (result) {
                        if (result != null && result.data != null && result.data.id != 0) {
                            vm.estimateInvoiceInfo = result.data;
                            if (vm.estimateInvoiceInfo.invoiceNotesList.length == 0) {
                                vm.estimateInvoiceInfo.invoiceNotesList.push({ id: 0, notes: '', invoiceNumber: 1 });
                            }
                            if (vm.estimateInvoiceInfo.serviceList.length > 0) {
                                vm.isDisableButton = false;
                            }
                            else {
                                vm.isDisableButton = true;
                            }
                            vm.estimateInvoiceInfo.address = vm.estimateInfo.jobCustomer.address.addressLine1;
                            vm.estimateInvoiceInfo.city = vm.estimateInfo.jobCustomer.address.city + ', ' + vm.estimateInfo.jobCustomer.address.state
                                + '  ' + vm.estimateInfo.jobCustomer.address.zipCode;
                            vm.estimateInvoiceInfo.lessDepositPercentage = vm.estimateInfo.lessDeposit;
                            vm.estimateInvoiceInfo.phoneNumber1 = vm.estimateInfo.jobCustomer.phoneNumber;
                            vm.estimateInvoiceInfo.customerName = vm.estimateInfo.jobCustomer.customerName;
                            vm.estimateInvoiceInfo.email = vm.estimateInfo.jobCustomer.email;
                            calculatingDataByInvoiceNumber();
                            checkBoxClicked(vm.estimateInvoiceInfo.option);
                            totalSumForOptions();
                            optionWiseTotal();
                            angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value, index) {
                                fillingServiceModel(value, index);
                                angular.forEach(value.subItem, function (sub) {
                                    if (!sub.isMainBundle) {
                                        sub.salesPersonNote = getBundleSalesPersonNotes(value.serviceType, value.typeOfStoneType2, sub.serviceIds.id)[0];
                                        sub.informationNote = getBundleSalesPersonNotes(value.serviceType, value.typeOfStoneType2, sub.serviceIds.id)[1];
                                        sub.class = "";
                                    }
                                });
                                getSalesPersonNotes(value, index);
                                calculateSumTotalAreaForSubItem(value, index);
                                calculateSumTotalArea(value, index);
                                value.class = "";
                                getValueForLabelForServiceType(value);
                                vm.estimateInvoiceInfo.serviceList = $filter('orderBy')(vm.estimateInvoiceInfo.serviceList, 'invoiceNumber');
                                getMaterialType(value);
                                UpdateServiceTypeList(value, index);
                            });
                        }
                        else {
                            vm.estimateInvoiceInfo.mailBody = result.data.mailBody;
                            vm.estimateInvoiceInfo.ccEmail = result.data.ccEmail;
                            vm.estimateInvoiceInfo.invoiceNotesList = [];
                            vm.estimateInvoiceInfo.invoiceNotesList.push({ id: 0, notes: '', invoiceNumber: 1 });
                            vm.isDisableButton = true;
                            totalSumForOptions();
                            checkBoxClicked('option1');
                            optionWiseTotal();
                        }
                        vm.copyOfServices = angular.copy(vm.estimateInvoiceInfo.serviceList);
                    });
                }

                function getMaterialType(serviceList) {

                    serviceList.stoneTypeForInvoice1 = [
                        { display: "Brick", value: "Brick" },
                        { display: "Carpet", value: "Carpet" },
                        { display: "Ceramic (tile and grout)", value: "Ceramic (tile and grout)" },
                        { display: "Concrete", value: "Concrete" },
                        { display: "Engineered Stone:Cesar", value: "Engineered Stone:Cesar" },
                        { display: "Engineered Stone:Corian", value: "Engineered Stone:Corian" },
                        { display: "Engineered Stone:Other", value: "Engineered Stone:Other" },
                        { display: "Engineered Stone:Zodiaq", value: "Engineered Stone:Zodiaq" },
                        { display: "Flagstone", value: "Flagstone" },
                        { display: "Glass", value: "Glass" },
                        { display: "Granite", value: "Granite" },
                        { display: "Limestone", value: "Limestone" },
                        { display: "Marble", value: "Marble" },
                        { display: "Marble (Tumbled)", value: "Marble (Tumbled)" },
                        { display: "Metal", value: "Metal" },
                        { display: "Mexican Tile", value: "Mexican Tile" },
                        { display: "Porcelain", value: "Porcelain" },
                        { display: "Quartz", value: "Quartz" },
                        { display: "Slate", value: "Slate" },
                        { display: "Terrazzo", value: "Terrazzo" },
                        { display: "Travertine", value: "Travertine" },
                        { display: "Vinyl", value: "Vinyl" },
                        { display: "Wood", value: "Wood" },
                        { display: "Other", value: "Other" }
                    ]
                }

                function validation() {
                    var emptedIndex = [];
                    angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value1, index) {
                        if (vm.isDataValid) {
                            if (value1.locationName.length == 0 && value1.serviceIds.length == 0 && value1.typeOfStoneColor.length == 0
                                && value1.typeOfStoneType.length == 0 && value1.typeOfSurface.length == 0) {
                                emptedIndex.push(index);
                            }
                            else {
                                if (value1.option1 == 0) {
                                    angular.element('#option1_' + index).trigger('focus');
                                    vm.isDataValid = true;
                                }
                                else if (value1.option2 == 0) {
                                    angular.element('#option2_' + index).trigger('focus');
                                    vm.isDataValid = true;
                                }
                                else if (value1.option3 == 0) {
                                    angular.element('#option3_' + index).trigger('focus');
                                    vm.isDataValid = true;
                                }
                                if (value1.option1 == undefined || value1.option1 == '') {
                                    value1.option1 = 0;
                                }
                                if (value1.option2 == undefined || value1.option2 == '') {
                                    value1.option2 = 0;
                                }
                                if (value1.option3 == undefined || value1.option3 == '') {
                                    value1.option3 = 0;
                                }
                            }
                        }
                    });
                    if (emptedIndex.length > 0) {
                        angular.forEach(emptedIndex, function (value, index) {
                            vm.estimateInvoiceInfo.serviceList.splice(value, 1);
                        });
                    }
                }

                $scope.$watch('vm.estimateInvoiceInfo.invoiceCount', function (nv, ov) {
                    if (nv < 1 || nv == '' || nv == undefined) {
                        return;
                    }
                    vm.invoiceNumberForInvoice = [];
                    for (var i = 1; i <= vm.estimateInvoiceInfo.invoiceCount; i++) {
                        vm.invoiceNumberForInvoice.push({ display: i.toString(), value: i.toString() })
                    }
                    angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value1) {
                        if (value1.invoiceNumber == "" || value1.invoiceNumber == undefined) {
                            value1.invoiceNumber = "1";
                        }
                    });
                    optionWiseTotal();
                });

                function changeService(index) {
                    var anyMatch = false;
                    var services = vm.estimateInvoiceInfo.serviceList[index];
                    var isPresent = $filter('filter')(services.serviceIds, { id: 'Chip Repair' }, true);
                    var index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Chip Repair' }, true)[0]);
                    index = 0;
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Chip Repair to blend and level with existing stone surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Crack Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Crack Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Crack Repair to blend and level with existing stone surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hone' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Hone' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Hone to remove scratches.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polish' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Polish' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Polish to restore gloss.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Seal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Seal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Seal to resist staining.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping Carpet Adhesive' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping Carpet Adhesive' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Strip carpet adhesive to access the underlaying floor.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Silicone' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Silicone' }, true)[0]);

                    if ((isPresent != undefined && isPresent.length > 0)) {
                        services.description = ('Stripping Coating to access the underlaying floor.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Urethane' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Urethane' }, true)[0]);

                    if ((isPresent != undefined && isPresent.length > 0)) {
                        services.description = ('Stripping Coating to access the underlaying floor.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Wax' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Wax' }, true)[0]);

                    if ((isPresent != undefined && isPresent.length > 0)) {
                        services.description = ('Stripping Coating to access the underlaying floor.');
                        anyMatch = true;
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Unknown' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Unknown' }, true)[0]);

                    if ((isPresent != undefined && isPresent.length > 0)) {
                        services.description = ('Stripping Coating to access the underlaying floor.');
                        anyMatch = true;
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cleaning' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Cleaning' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Chemically Clean Stone to Remove Debris and Neutralize Surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Powerwash Cleaning' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Powerwash Cleaning' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Powerwash surface to clear pits and crevaces of hard to reach dirt, dust, debris and residual spills and oil material. ');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Penetrating Seal (Versus Impregnating Sealer)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Penetrating Seal (Versus Impregnating Sealer)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('SEAL TO ENHANCE STAIN RESISTANCE.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Caulking' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Caulking' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'GROUTLIFE/TILELOK') {
                        services.description = ('Seal corners and edges as identified to prevent water intrusion.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Grout Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Repair grout to create a consistent seal ready surface and finish.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'GROUTLIFE/TILELOK') {
                        services.description = ('Replace missing and broken grout to restore a consistent seal ready surface and finish.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Colorseal-Hydroforce' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Colorseal-Hydroforce' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.isList = true;
                        services.description = ('<ul style="margin-left: -29px;"><li>Mask to Protect Surrounding Area</li><li>Pre-Spray Tile and Grout</li> <li>Agitate</li><li>Extract w/Hydro-Force 900psi 230 Degree</li><li>ColorSeal Grout to Uniform Appearance.</li><li>RESULT:  MARBLELIFEs Proprietary ColorSeal system provides better-than-new grout stain resistance while restoring a uniform color, easy to maintain grout surface.</li></ul>');
                        //services.description = ("Apply MARBLELIFEs Proprietary Acid Resistant, Colorizable Grout Seal to restore a better-than-new, stain resistant, uniform color, easy-to-maintain grout surface.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Colorseal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Colorseal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.isList = true;
                        services.description = ('<ul style="margin-left: -29px;"><li>ColorSeal Grout to Uniform Appearance.</li><li>RESULT:  MARBLELIFEs Proprietary ColorSeal system provides better-than-new grout stain resistance while restoring a uniform color, easy to maintain grout surface.</li></ul>');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hydroforce Cleaning' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Hydroforce Cleaning' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.isList = true;
                        services.description = ('<ul style="margin-left: -29px;"><li>Mask to Protect Surrounding Area</li><li>Pre-Spray Tile and Grout</li> <li>Agitate</li><li>Extract w/Hydro-Force 900psi 230 Degree</li></ul>');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Colorseal-Powerwash' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Colorseal-Powerwash' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.isList = true;
                        services.description = ('<ul style="margin-left: -29px;"><li>Mask to Protect Surrounding Area</li><li>Pre-Spray Tile and Grout</li> <li>Power-scrub & Extract</li><li>ColorSeal Grout to Uniform Appearance.</li><li>RESULT:  MARBLELIFEs Proprietary ColorSeal system provides better-than-new grout stain resistance while restoring a uniform color, easy to maintain grout surface</li></ul>');
                        anyMatch = true;
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Colorseal-Powerscrub' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Colorseal-Powerscrub' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Colorseal-Powerscrub');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Chip Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Chip Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Chip Repair and blend with surrounding surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Crack Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Crack Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Crack Repair, blending as marble vein or with background based on location.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Replacement' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Tile Replacement' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Replace loose or damaged tile.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Replace loose or damaged grout restoring a consistent grout line.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hard Water Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Hard Water Removal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Remove hard water stain deposits to.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Mold Stain Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Mold Stain Removal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Remove mold stains and restore a consistent stain-free appearance.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Traverfil' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Traverfil' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Fill in major pits with a tan colored traverfil designed to blend with rest of tile fils.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Honing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Honing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Hone to remove scratches, rings, etches and wear marks');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polishing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Polishing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Polish to restore intended finish.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Sealing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Sealing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Seal to resist staining.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stain Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stain Removal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Poultice to draw out stain.  (NOTE:  There are no guarantees that a stain can be removed.  Each application is pay-as-we-go.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Caulking' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Caulking' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Caulk to seal edges.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Coating' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Coating' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Apply Coating (add notes).');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Other' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Other' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('(OPEN)');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cleaning - Address Mold Stains' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Cleaning - Address Mold Stains' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Remove mold stains and restore a consistent stain-free appearance.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Chip Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Chip Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Chip Repair and blend with surrounding surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Crack Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Crack Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Crack Repair, blending as marble vein or with background based on location.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hard Water Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Hard Water Removal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Remove hard water stain deposits to.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Replacement' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Tile Replacement' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Replace lose or damaged tile.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Replace loose or damaged grout restoring a consistent grout line.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stain Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stain Removal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Poultice to draw out stain.  (NOTE:  There are no guarantees that a stain can be removed.  Each application is pay-as-we-go.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Replace loose or damaged grout restoring a consistent grout line.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian - Scratch Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Corian - Scratch Removal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Hone to remove scratches and wear damage.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian-Polish' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Corian-Polish' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Polish to restore surface finish.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian-Chip Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Corian-Chip Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Corian-Chip Repair');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian-Scratch Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Corian-Scratch Removal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Corian-Scratch Removal');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian-Crack Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Corian-Crack Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Corian Crack Repair');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Engineered Stone - Scratch Removal' }, true);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Hone to remove scratches and wear damage.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Engineered Stone - Polish' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Engineered Stone - Polish' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Polish to restore original surface finish - complete with texturing.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Powerwash - Mold Stain Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Powerwash - Mold Stain Removal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Powerwash to remove mold stain and restore a clean mold stain free surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hone Surface Prep' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Hone Surface Prep' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Hone to open concrete surface and create more mechanical bond sites for enhanced coating adhesion and durability.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Moisture Vapor Barrier' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Moisture Vapor Barrier' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Install a moisture vapor barrier to manager ground based moisture vapor pressure which can deliminate coatings from below.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Epoxy Base' }, true);
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Epoxy Base' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Epoxy Base' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Concrete BASE Coat provide the background color and base to whch chips will initiall be adhered.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polyspartic Base' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Polyspartic Base' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Concrete BASE Coat provide the background color and base to whch chips will initiall be adhered.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Vinyl Chips' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Vinyl Chips' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Chip mix provides the floor color and texture.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Epoxy Top Coat' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Epoxy Top Coat' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Concrete TOP Coat seals in chips with exceptional durability.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polyspartic Top Coat' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Polyspartic Top Coat' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Concrete TOP Coat seals in chips with exceptional UV resistance.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip - Light' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip - Light' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Opaque coating with light chips to provide a decorative accent to the floor. (SPECIFY COLORS).');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip - Fast' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip - Fast' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('ENDURACHIP Coating with (SPECIFY BASE COLOR), (SPECIFY CHIP COLOR) offering exceptional UV Resistance and rapid intall.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip - Durable' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip - Durable' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('ENDURACHIP Coating with (SPECIFY BASE COLOR), (SPECIFY CHIP COLOR) offering exceptional Durability & UV Resistance and rapid intall.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MARBLIZED COATING' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'MARBLIZED COATING' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('ENDURACRETE MARBILIZED Coating with (PRIMARY COLOR, SECONDARY COLOR) offering deep rich beautiful color surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Anti-Spauling Driveway Sealing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Anti-Spauling Driveway Sealing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Concrete driveway sealer application designed to dramatically reduce water penetration and the associated winter temperature spauling damage.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'ACS Chips' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'ACS Chips' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Endurachip with smooth surface for ease cleaning and enhanced scorch resistance.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MVB-Base Coat (Semiron-Epoxy)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'MVB-Base Coat (Semiron-Epoxy)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Base Coat (Epoxy)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Base Coat (Epoxy)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Base coat provides base color and bonds chips to floor.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Top Coat (Polyspartic)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Top Coat (Polyspartic)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MVB-Base Coat (SEMIRON)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'MVB-Base Coat (SEMIRON)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Floor Prep' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Floor Prep' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Quartz Chips' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Quartz Chips' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Endurachip with enhanced traction surface - gritty surface');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Anti-Spauling Sideway Sealing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Anti-Spauling Sideway Sealing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Concrete sidewalk sealer application designed to dramatically reduce water penetration and the associated winter temperature spauling damage.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Overlayment Installation' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Overlayment Installation' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Scuff surface and install concrete microtopping overlay over existing counter top.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marblized Top Coat Installation' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Marblized Top Coat Installation' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Install ENDURACRETE MARBILIZED coating (SPECIFY COLORS AND DESIGN) to the surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Preparations' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Preparations' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Hone to create an anchor patter that enhances mechanical bonding and increases surface area to enhance bond strength.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cooldeck Overlayment' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Cooldeck Overlayment' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Apply overlayment to the areas being enhanced with reduced temperate CoolDeck treatments.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Clean Air Purification Treatments' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Clean Air Purification Treatments' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Clean Air treatment naturally breaks down organic material on contact in the presence of natural light and UV.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Metal Stripping' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Metal Stripping' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Remove metal lacquer to allows access to the metal surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Metal Cleaning' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Metal Cleaning' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Clean surface to remove oils.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Metal Scratch Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Metal Scratch Removal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Polish metal to remove scratches and damage.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Metal Laquer, Sealing & Protection' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Metal Laquer, Sealing & Protection' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Re-apply protective lacquer.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Tile Removal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Remove tile, grout and mortar in preparation for new tile installation.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Installation' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Tile Installation' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Set tiles with mortar and spacers.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grouting' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Grouting' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Install grout between tile (Select grout type - sanded, non-sanded, epoxy,other and Select color).');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Haze Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Grout Haze Removal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Remove grout haze from surface tile (following day).');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Sealing - Clear' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Grout Sealing - Clear' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Seal grout lines to resist staining.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout & Tile Sealing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Grout & Tile Sealing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Seal grout and tile surface to resist staining.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping Wax' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping Wax' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Stripping Coating to access the underlaying vinyl surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Waxing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Waxing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Re-apply Wax.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cleaning and Pre-Coat Preparations' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Cleaning and Pre-Coat Preparations' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Clean surface to remove oils, dust and debris prior to coating the floor.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'VinylGuard Installation' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'VinylGuard Installation' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Apply Vinylguard protective durable coating to vinyl floor.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Scuffing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Scuffing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Scuff the wood surface to enhance bonding of re-coat application.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Re-Coat' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Re-Coat' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Re-Coat the floor to restore wear area finish.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Buffing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Buffing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Buff the floor to enhance finish.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Scratch & Wear Removal (Sanding)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Scratch & Wear Removal (Sanding)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Sand surface to remove scratches feathering into rest of floor before re-staining and re-finsihing.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Staining' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Staining' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Stain the floor with client selected color stain.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Staining' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Staining' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Apply top coat finish (select finish).');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Granite Cleaner 32 oz Spray' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Granite Cleaner 32 oz Spray' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Granite Cleaner 32 oz Spray - This Ready-to-Use granite safe cleaner contains no waxes, or seal damaging acids, this cleaner has been MARBLELIFE optimized based on over 30 years service history fixing granite surface problems caused by inappropriate cleaners.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Granite Cleaner Refill Gallon' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Granite Cleaner Refill Gallon' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Granite Cleaner Refill Gallon - This Ready-to-Use Refill provides 4 refills at a volume price.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Granite Gloss conditioner 8oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Granite Gloss conditioner 8oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Granite Gloss Conditioner  8oz   - When you need a shine before guests arrive but do not have time for a service, Granite Gloss Conditioner provides a temporary shine.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Granite Sealer 4 oz Spray' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Granite Sealer 4 oz Spray' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Granite Sealer 4 oz Spray - This Do-It-Yourself spray covers 50 sqft with an easy to apply wipe-on-wait-2-minutes and wipe off formula designed to enhance your granite counters stain resistance.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Granite Sealer 4 oz Spray' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Granite Sealer 4 oz Spray' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Granite Sealer 4 oz Spray  - This Do-It-Yourself spray covers 50 sqft with an easy to apply wipe-on-wait-2-minutes and wipe off formula designed to enhance your granite counters stain resistance.');
                        anyMatch = true;
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marble Cleaner 32 oz Spray' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Marble Cleaner 32 oz Spray' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Marble Cleaner 32 oz Spray - This Ready-to-Use Marble safe cleaner contains no waxes, or seal damaging acids, this cleaner has been MARBLELIFE optimized based on over 30 years service history fixing Marble surface problems caused by inappropriate cleaners.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marble cleaner Refill Gallon' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Marble cleaner Refill Gallon' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Marble Cleaner Refill Gallon - This Ready-to-Use Refill provides 4 refills at a volume price.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marble cleaner Conc. 32oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Marble cleaner Conc. 32oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Marble Cleaner Conc. 32oz - 1/2 oz of concentrate makes a quart of cleaner allowing this cost effective refill to make 64 quarts of ready-to-use cleaner.  Use 2 oz per gallon of water when mopping your floors.  Cleaner not only traps dirt but will drop it out of solution for cleaner mop water and fewer water changes.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marble Polish 16 oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Marble Polish 16 oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Marble Polish 16 oz - This polish is suitable to tremove spots, rings, white spots and other etches from marble surface.This is a professional product, which requires close attention to directions and a final rinse with marble cleaner to neutralize on completion.Suitable for marble surfaces which see drinks and other source of acids frequently.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marble Gloss conditioner 16oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Marble Gloss conditioner 16oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Marble Gloss Conditioner  16oz - When you need a shine before guests arrive but do not have time for a service, Marble Gloss Conditioner provides a temporary shine.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stone Sealer 16 oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stone Sealer 16 oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Stone Sealer 16 oz - This Do-It-Yourself wipe-on-wait-2-minutes-and-wipe-off product enhances the stain resistance of your marble and other stone surfaes.  Formulated to be easy-to-use and stone safe.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Cleaner 32oz Spray' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Tile Cleaner 32oz Spray' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Tile Cleaner 32 oz Spray - This Ready-to-Use Tile safe cleaner contains no waxes, or seal damaging acids, this cleaner has been MARBLELLIFE optimized based on over 30 years service history fixing Tile surface problems caused by inappropriate cleaners.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Cleaner Refill Gallon' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Tile Cleaner Refill Gallon' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Tile Cleaner Refill Gallon - This Ready-to-Use Refill provides 4 refills at a volume price.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Cleaner Refill Gallon' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Tile Cleaner Refill Gallon' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Tile Cleaner Conc. 32oz - 1/2 oz of concentrate makes a quart of cleaner allowing this cost effective refill to make 64 quarts of ready-to-use cleaner.  Use 2 oz per gallon of water when mopping your floors.  Cleaner not only traps dirt but will drop it out of solution for cleaner mop water and fewer water changes.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Cleaner Refill Gallon' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Tile Cleaner Refill Gallon' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("MaxOut Grout Cleaner 32 oz  - When dealing with stained grout the first time, this is your heavy lifting grout cleaner.  This Ready-To-Use product will solubilize, emulsify and lift grease, oil and other dirts from the surface and pores, just add it to your groutline and agitate.  See our online video where you can see the sand crystals in sanded grout gleaming back after treatment.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MaxOut Concentrate Gallon' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'MaxOut Concentrate Gallon' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("MaxOut Concentrate Gallon - For larger jobs Maxout concentrate comes in larger volume and concentrate form.  Dilute 50% with water before use.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Sealer 16 oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Grout Sealer 16 oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Grout Sealer 16 oz - This product is designed to seal sanded and non-sanded grout without altering its color or finish.  Once sealed this product enhances stain resistance and ease-of-cleaning by keeping foreign on the surface where it is easier to clean.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Floor Cleaner Concentrate Gallon' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Floor Cleaner Concentrate Gallon' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Floor Cleaner Concentrate Gallon - Use 1 oz / Gal of mop water.  This cleaner is designed to not just emulsify and lift oil and dirt from the floor, but to then drop them out of solution in your mop bucket to keep your mop water cleaner longer and reduce the frequency of water changes when cleaning.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Mold & Mildew Stain Remover 32oz Spray' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Mold & Mildew Stain Remover 32oz Spray' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Mold & Mildew Stain Remover 32oz Spray - This exceptional product was formulated to enable MARBLELIFE craftsman to QUICKLY cut through mold stains to get back to the stone or tile surfae they are working on.  So effective it will cut through years of mold stain building up on driveways and curbs just as easily as it works on your shower groutlines.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Mold & Mildew Stain Remover Gallon' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Mold & Mildew Stain Remover Gallon' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Mold & Mildew Stain RemoverGallon - This exceptional product was formulated to enable MARBLELIFE craftsman to QUICKLY cut through mold stains to get back to the concrete, stone or tile surface they are working on.  So effective it will cut through years of mold stain building up on driveways and curbs just as easily as it works on your shower groutlines.  Suitable for use on patios, sidewalks, driveways and showers.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Soap Scum Remover 16oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Soap Scum Remover 16oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Soap Scum Remover 16oz - This brilliant product removes soap scum build-up with ease.  Engineered with an abrasive that is harder than soap but softer than the stone or tile beneath it, it cuts through soap with ease and disinigrates on contact with tile or stone.  No wasted time as you can hear it work, and feel once it has broken through the soap to a now clean surface.  Works in minutes.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Guard' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Guard' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Guard is applied and buffed to the desired finish.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Stain Application' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Stain Application' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Concrete will be stained to the desired color.  PLEASE NOTE, that a stain will accentuate the concrete history and local porosity.  To achieve a uniform acceptance of the stain one should consider having a microtopping applied to older more seasoned floors.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Microtopping Overlayment' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Microtopping Overlayment' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("A concrete microtopping overlayment will be installed to provide a consistently stainable and polishable surface.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Sealing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Sealing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Seal to enhance stain resistance.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Carpet Cleaning' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Carpet Cleaning' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Clean carpet.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Carpet Guard' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Carpet Guard' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Carpet guard to enhance stain resistance.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Carpet Guard' }, true);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Carpet guard to enhance stain resistance.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Crack Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Crack Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("Cracks are filled and sealed.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Large Concrete Area Repairs' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Large Concrete Area Repairs' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ("New Concrete will be installed in the cleaned up broken area to restore a consistent floor flat floor surface.");
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Chip Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Terrazzo Chip Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ("Terrazzo chip repair will be colorized to match an existing chip so that it blends with the floor.");
                            anyMatch = true;
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Chip Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Terrazzo Chip Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ("Terrazzo crack repair will be broken up.");
                            anyMatch = true;
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Large Area Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Terrazzo Large Area Repair' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ("A concrete fill with a terrazzo top will be installed.  Effort will be made to match the background base, chip colors, chip sizes and chip ratios in order to blend the repair..");
                            anyMatch = true;
                        }
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Repairs' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Expansion Joint Repairs' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ("Broken or incomplete expansion joint filler will be restored.");
                            anyMatch = true;
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Sealing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Expansion Joint Sealing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ("Expansion joint seal material will be installed in the pre-cut expansion joints.");
                            anyMatch = true;
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Sealing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Expansion Joint Sealing' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ("Expansion joint seal material will be installed in the pre-cut expansion joints.");
                            anyMatch = true;
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Silicone' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Silicone' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ("Stripping Coating to access the underlaying floor.");
                            anyMatch = true;
                        }

                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Urethane' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Urethane' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ("Stripping Coating to access the underlaying floor.");
                            anyMatch = true;
                        }
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Wax' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Wax' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ("Stripping Coating to access the underlaying floor.");
                            anyMatch = true;
                        }
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Unknown' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Unknown' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ("Stripping Coating to access the underlaying floor.");
                            anyMatch = true;
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Honing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Honing' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        /*services.description = ('Conrete will be honed flat and prepared for densification.')*/
                        services.description = ('Hone to remove scratches, rings, etches and wear marks.');
                        anyMatch = true;

                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Densification' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Densification' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services.description = ('Concrete will be densified to reduce dusting, salt intrusion and to facilitate polishing .');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polishing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Polishing' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services.description = ('Concrete will be polished to the desired finish (Gloss, Satin/Semi-Gloss, Matte).');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Guard' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Guard' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services.description = ('Guard is applied and buffed to the desired finish.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Stain Application' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Stain Application' }, true)[0]);

                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services.description = ('Concrete will be stained to the desired color.  PLEASE NOTE, that a stain will accentuate the concrete history and local porosity.  To achieve a uniform acceptance of the stain one should consider having a microtopping applied to older more seasoned floors.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Spot Stain Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Spot Stain Removal' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services.description = ('');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Microtopping Overlayment' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Microtopping Overlayment' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services.description = ('A concrete microtopping overlayment will be installed to provide a consistently stainable and polishable surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Sealing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Sealing' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services.description = ('Seal to enhance stain resistance.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Other' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Other' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services.description = ('');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Chip Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Chip Repair' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Chips and Pits are refilled.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Crack Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Crack Repair' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Cracks are filled and sealed.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Crack Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Crack Repair' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Large Concrete Area Repairs.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Chip Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Terrazzo Chip Repair' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Terrazzo chip repair will be colorized to match an existing chip so that it blends with the floor.');
                        anyMatch = true;
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Chip Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Terrazzo Chip Repair' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Terrazzo crack repair will be broken up.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Large Area Repair' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Terrazzo Large Area Repair' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('A concrete fill with a terrazzo top will be installed.  Effort will be made to match the background base, chip colors, chip sizes and chip ratios in order to blend the repair.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Repairs' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Expansion Joint Repairs' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Broken or incomplete expansion joint filler will be restored.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Sealing' }, true);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Expansion joint seal material will be installed in the pre-cut expansion joints.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping Carpet Adhesive' }, true);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Strip carpet adhesive to access the underlaying floor.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Silicone' }, true);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Stripping Coating to access the underlaying floor.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Urethane' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Urethane' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Stripping Coating to access the underlaying floor.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Wax' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Wax' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Stripping Coating to access the underlaying floor.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Unknown' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Unknown' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services.description = ('Stripping Coating to access the underlaying floor.');
                        anyMatch = true;
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Unknown' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Stripping-Unknown' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Clean surface to remove residual surface oils, tape adhesives, dirt and debris.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Powerwash - Mold Stain Removal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Powerwash - Mold Stain Removal' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Powerwash to remoe mold stain and restore a clean mold stain free surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hone Surface Prep' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Hone Surface Prep' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Hone to open concrete surface and create more mechanical bond sites for enhanced coating adhesion and durability.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Moisture Vapor Barrier' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Moisture Vapor Barrier' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Install a moisture vapor barrier to manager ground based moisture vapor pressure which can deliminate coatings from below.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Epoxy Base' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Epoxy Base' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Concrete BASE Coat provide the background color and base to whch chips will initiall be adhered.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polyspartic Base' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Polyspartic Base' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Concrete BASE Coat provide the background color and base to whch chips will initiall be adhered.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polyspartic Base' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Polyspartic Base' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Chip mix provides the floor color and texture..');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Sealing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Expansion Joint Sealing' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Expansion joint seal material will be installed in the pre-cut expansion joints.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Epoxy Top Coat' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Epoxy Top Coat' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Concrete TOP Coat seals in chips with exceptional durability.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polyspartic Top Coat' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Polyspartic Top Coat' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Concrete TOP Coat seals in chips with exceptional UV resistance.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip-Light' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip-Light' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Opaque coating with light chips to provide a decorative accent to the floor. (SPECIFY COLORS).');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip-Fast' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip-Fast' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('ENDURACHIP Coating with (SPECIFY BASE COLOR), (SPECIFY CHIP COLOR) offering exceptional UV Resistance and rapid intall.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip - Durable' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip - Durable' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('ENDURACHIP Coating with (SPECIFY BASE COLOR), (SPECIFY CHIP COLOR) offering exceptional Durability & UV Resistance and rapid intall.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MARBLIZED COATING' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'MARBLIZED COATING' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('ENDURACRETE MARBILIZED Coating with (PRIMARY COLOR, SECONDARY COLOR) offering deep rich beautiful color surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MARBLIZED COATING' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'MARBLIZED COATING' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Concrete driveway sealer application designed to dramatically reduce water penetration and the associated winter temperature spauling damage.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Anti-Spauling Sideway Sealing' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Anti-Spauling Sideway Sealing' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services.description = ('Concrete sidewalk sealer application designed to dramatically reduce water penetration and the associated winter temperature spauling damage.');
                        anyMatch = true;
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cleaning' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Cleaning' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COUNTERTOPS\r') {
                        services.description = ('Clean to remove residual grease, fats, oils, dust and other impurities laying on the surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Overlayment Installation' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Overlayment Installation' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COUNTERTOPS\r') {
                        services.description = ('Scuff surface and install concrete microtopping overlay over existing counter top.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marblized Top Coat Installation' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Marblized Top Coat Installation' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COUNTERTOPS\r') {
                        services.description = ('Install ENDURACRETE MARBILIZED coating (SPECIFY COLORS AND DESIGN) to the surface.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Preparations' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Preparations' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-OVERLAYMENTS\r') {
                        services.description = ('Hone to create an anchor patter that enhances mechanical bonding and increases surface area to enhance bond strength..');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cooldeck Overlayment' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Cooldeck Overlayment' }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-OVERLAYMENTS\r') {
                        services.description = ('Apply overlayment to the areas being enhanced with reduced temperate CoolDeck treatments..');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Service' }, true)
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Service' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ('Service Sales Tax.');
                            anyMatch = true;
                        }
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Products' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Products' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ('Product Sales Tax.');
                            anyMatch = true;
                        }
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tilelok' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Tilelok' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services.description = ('Reglaze Tile with MARBLELIFE TILELOK to impart new, mold resistance, anti-graffiti resistance, and slip resist finish GLOSS finish.');
                            anyMatch = true;
                        }
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grind' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Grind' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Grind to remove rough areas');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hardening' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Hardening' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Harden surface to Enhance Wear Resistance and Pro-long Life of Finish');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Guard' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Guard' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('CONCRETE GUARD to enhance concrete gloss');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hone' }, true);
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hone' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Hone' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Hone to remove scratches.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cleanshield' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Cleanshield' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.isList = true;
                        services.description = ('<ul style="margin-left: -29px;"><li>Mask to protect surrounding area</li><li>Hone to create anchor pattern</li> <li>Apply clean shield treatment</li><li>Snap cure treatment and finalize finish (Matte or Gloss)</li></ul>');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Floor Prep - Repairs' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Floor Prep - Repairs' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Repair floor chips and cracks.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Slow (VinylChip)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip Slow (VinylChip)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Endurachip Slow (VinylChip).');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Slow (Quartz Chip)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip Slow (Quartz Chip)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Endurachip Slow (Quartz Chip).');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Slow (ACS Filler)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip Slow (ACS Filler)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Endurachip Slow (ACS Filler)');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Durable (VinylChip)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip Durable (VinylChip)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Endurachip Durable (VinylChip)');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Durable (Quartz Chip)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip Durable (Quartz Chip)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Endurachip Durable (Quartz Chip)');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Durable (ACS Filler)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip Durable (ACS Filler)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Endurachip Durable (ACS Filler)');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Fast (VinylChip)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip Fast (VinylChip)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Endurachip Fast (VinylChip)');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Fast (Quartz Chip)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip Fast (Quartz Chip)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Endurachip Fast (Quartz Chip)');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Fast (ACS Filler)' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Endurachip Fast (ACS Filler)' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Endurachip Fast (ACS Filler)');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Floor Prep - Grind' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Concrete Floor Prep - Grind' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Grind floor to better accept stain or coating being applied.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Rebond' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Tile Rebond' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Remove loose grout from tile parameter, inject re-bonding agent under tile and regrout.');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Concrete Cleaner CONCENTRATE 32oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Enduraclean Concrete Cleaner CONCENTRATE 32oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Enduraclean Concrete Cleaner CONCENTRATE 32oz');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Concrete Cleaner CONCENTRATE Gal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Enduraclean Concrete Cleaner CONCENTRATE Gal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Enduraclean Concrete Cleaner CONCENTRATE Gal');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Concrete Cleaner for Driveways' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Enduraclean Concrete Cleaner for Driveways' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Enduraclean Concrete Cleaner for Driveways');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Exterio Concree Stain Remover Cleaner 32oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Enduraclean Exterio Concree Stain Remover Cleaner 32oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Enduraclean Exterio Concree Stain Remover Cleaner 32oz');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Garage & Indoor Concrete READY-TO-USE 32oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Enduraclean Garage & Indoor Concrete READY-TO-USE 32oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Enduraclean Garage & Indoor Concrete READY-TO-USE 32oz');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Metallic & Marblized Coating Cleaner Gal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Enduraclean Metallic & Marblized Coating Cleaner Gal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Enduraclean Metallic & Marblized Coating Cleaner Gal');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Polished Concrete Cleaner CONCENTRATE Gal' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Enduraclean Polished Concrete Cleaner CONCENTRATE Gal' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Enduraclean Polished Concrete Cleaner CONCENTRATE Gal');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Polished Concrete Cleaner READY-TO-USE 32oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Enduraclean Polished Concrete Cleaner READY-TO-USE 32oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Enduraclean Polished Concrete Cleaner READY-TO-USE 32oz');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Terrazzo & Concrete Cleaner 32oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Enduraclean Terrazzo & Concrete Cleaner 32oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Enduraclean Terrazzo & Concrete Cleaner 32oz');
                        anyMatch = true;
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraseal Concrete Sealer 32oz' }, true);
                    index = services.serviceIds.indexOf($filter('filter')(services.serviceIds, { id: 'Enduraseal Concrete Sealer 32oz' }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services.description = ('Enduraseal Concrete Sealer 32oz');
                        anyMatch = true;
                    }

                    if (!anyMatch && services.serviceName != undefined && services.serviceName != null) {
                        services.description = services.serviceName;
                    }
                }

                function changeServiceForSubItem(index) {
                    var services = vm.estimateInvoiceInfo.serviceList[index].subItem;
                    services = $filter('filter')(services, { isBundle: false }, true);

                    var isPresent = $filter('filter')(services, { serviceIds: { id: 'Chip Repair' } }, true);
                    var index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Chip Repair' } }, true)[0]);
                    index = 0;
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Chip Repair to blend and level with existing stone surface.');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Crack Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Crack Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Crack Repair to blend and level with existing stone surface.');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Tile Rebond' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Tile Rebond' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Remove loose grout from tile parameter, inject re-bonding agent under tile and regrout.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hone' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Hone' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Hone' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Hone to remove scratches.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polish' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Polish' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Polish' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Polish to restore gloss.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Seal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Seal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Seal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Seal to resist staining.');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping Carpet Adhesive' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping Carpet Adhesive' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Strip carpet adhesive to access the underlaying floor.');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Silicone' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Silicone' } }, true)[0]);

                    if ((isPresent != undefined && isPresent.length > 0)) {
                        services[index].description = ('Stripping Coating to access the underlaying floor.');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Urethane' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Urethane' } }, true)[0]);

                    if ((isPresent != undefined && isPresent.length > 0)) {
                        services[index].description = ('Stripping Coating to access the underlaying floor.');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Wax' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Wax' } }, true)[0]);

                    if ((isPresent != undefined && isPresent.length > 0)) {
                        services[index].description = ('Stripping Coating to access the underlaying floor.');
                    }


                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Unknown' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Unknown' } }, true)[0]);

                    if ((isPresent != undefined && isPresent.length > 0)) {
                        services[index].description = ('Stripping Coating to access the underlaying floor.');
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cleaning' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Cleaning' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Cleaning' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Chemically Clean Stone to Remove Debris and Neutralize Surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Powerwash Cleaning' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Powerwash Cleaning' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Powerwash Cleaning' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Powerwash surface to clear pits and crevaces of hard to reach dirt, dust, debris and residual spills and oil material. ');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Penetrating Seal (Versus Impregnating Sealer)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Penetrating Seal (Versus Impregnating Sealer)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Penetrating Seal (Versus Impregnating Sealer)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('SEAL TO ENHANCE STAIN RESISTANCE. ');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Caulking' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Caulking' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Caulking' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'GROUTLIFE/TILELOK') {
                        services[index].description = ('Seal corners and edges as identified to prevent water intrusion.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Grout Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Grout Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Repair grout to create a consistent seal ready surface and finish.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Grout Replacement' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Grout Replacement' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'GROUTLIFE/TILELOK') {
                        services[index].description = ('Replace missing and broken grout to restore a consistent seal ready surface and finish.');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Colorseal-Hydroforce' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Colorseal-Hydroforce' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].isList = true;
                        services[index].description = ('<ul style="margin-left: -29px;"><li>Mask to Protect Surrounding Area</li><li>Pre-Spray Tile and Grout</li> <li>Agitate</li><li>Extract w/Hydro-Force 900psi 230 Degree</li><li>ColorSeal Grout to Uniform Appearance.</li><li>RESULT:  MARBLELIFEs Proprietary ColorSeal system provides better-than-new grout stain resistance while restoring a uniform color, easy to maintain grout surface.</li></ul>');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Colorseal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Colorseal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].isList = true;
                        services[index].description = ('<ul style="margin-left: -29px;"><li>ColorSeal Grout to Uniform Appearance.</li><li>RESULT:  MARBLELIFEs Proprietary ColorSeal system provides better-than-new grout stain resistance while restoring a uniform color, easy to maintain grout surface.</li></ul>');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Colorseal-Powerwash' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Colorseal-Powerwash' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].isList = true;
                        services[index].description = ('<ul style="margin-left: -29px;"><li>Mask to Protect Surrounding Area</li><li>Pre-Spray Tile and Grout</li> <li>Power-scrub & Extract</li><li>ColorSeal Grout to Uniform Appearance.</li><li>RESULT:  MARBLELIFEs Proprietary ColorSeal system provides better-than-new grout stain resistance while restoring a uniform color, easy to maintain grout surface</li></ul>');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Colorseal-Powerscrub' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Colorseal-Powerscrub' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Colorseal-Powerscrub' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Colorseal-Powerscrub');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Chip Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Chip Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Chip Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Chip Repair and blend with surrounding surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Chip Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Chip Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Chip Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Chip Repair and blend with surrounding surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Crack Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Chip Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Chip Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Crack Repair, blending as marble vein or with background based on location.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Replacement' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Tile Replacement' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Tile Replacement' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Replace loose or damaged tile.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Grout Replacement' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Grout Replacement' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Replace loose or damaged grout restoring a consistent grout line.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hard Water Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Hard Water Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Hard Water Removal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Remove hard water stain deposits to.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Mold Stain Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Mold Stain Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Mold Stain Removal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Remove mold stains and restore a consistent stain-free appearance.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Traverfil' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Traverfil' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Traverfil' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Fill in major pits with a tan colored traverfil designed to blend with rest of tile fils.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Honing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Honing' } }, true);
                    //isPresent = $filter('filter')(services, { serviceIds: { id: 'Honing', isBundle: false } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Honing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Hone to remove scratches, rings, etches and wear marks');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polishing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Polishing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Polishing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Polish to restore intended finish.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Sealing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Sealing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Sealing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Seal to resist staining.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stain Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stain Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stain Removal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Poultice to draw out stain.  (NOTE:  There are no guarantees that a stain can be removed.  Each application is pay-as-we-go.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Caulking' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Caulking' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Caulking' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Caulk to seal edges.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Coating' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Coating' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Coating' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Apply Coating (add notes).');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Other' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Other' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Other' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('(OPEN)');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cleaning - Address Mold Stains' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Cleaning - Address Mold Stains' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Cleaning - Address Mold Stains' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Remove mold stains and restore a consistent stain-free appearance.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Chip Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Chip Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Chip Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Chip Repair and blend with surrounding surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Crack Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Crack Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Crack Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Crack Repair, blending as marble vein or with background based on location.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hard Water Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Hard Water Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Hard Water Removal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Remove hard water stain deposits to.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Replacement' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Tile Replacement' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Tile Replacement' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Replace lose or damaged tile.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Grout Replacement' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Grout Replacement' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Replace loose or damaged grout restoring a consistent grout line.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stain Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stain Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stain Removal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Poultice to draw out stain.  (NOTE:  There are no guarantees that a stain can be removed.  Each application is pay-as-we-go.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Replacement' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Grout Replacement' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Grout Replacement' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Replace loose or damaged grout restoring a consistent grout line.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian - Scratch Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Corian - Scratch Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Corian - Scratch Removal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Hone to remove scratches and wear damage.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian-Polish' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Corian-Polish' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Corian-Polish' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Polish to restore surface finish.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian - Chip Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Corian - Chip Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Corian - Chip Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian-Crack Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Corian-Crack Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Corian-Crack Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Corian Crack Repair');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Engineered Stone - Scratch Removal' } }, true);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Hone to remove scratches and wear damage.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Engineered Stone - Polish' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Engineered Stone - Polish' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Engineered Stone - Polish' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Polish to restore original surface finish - complete with texturing.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Powerwash - Mold Stain Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Powerwash - Mold Stain Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Powerwash - Mold Stain Removal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Powerwash to remoe mold stain and restore a clean mold stain free surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hone Surface Prep' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Hone Surface Prep' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Hone Surface Prep' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Hone to open concrete surface and create more mechanical bond sites for enhanced coating adhesion and durability.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Moisture Vapor Barrier' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Moisture Vapor Barrier' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Moisture Vapor Barrier' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Install a moisture vapor barrier to manager ground based moisture vapor pressure which can deliminate coatings from below.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Epoxy Base' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Epoxy Base' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Epoxy Base' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Concrete BASE Coat provide the background color and base to whch chips will initiall be adhered.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polyspartic Base' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Polyspartic Base' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Polyspartic Base' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Concrete BASE Coat provide the background color and base to whch chips will initiall be adhered.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Vinyl Chips' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Vinyl Chips' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Vinyl Chips' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Chip mix provides the floor color and texture.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Epoxy Top Coat' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Epoxy Top Coat' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Epoxy Top Coat' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Concrete TOP Coat seals in chips with exceptional durability.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polyspartic Top Coat' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Polyspartic Top Coat' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Polyspartic Top Coat' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Concrete TOP Coat seals in chips with exceptional UV resistance.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip - Light' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip - Light' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip - Light' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Opaque coating with light chips to provide a decorative accent to the floor. (SPECIFY COLORS).');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip - Fast' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip - Fast' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip - Fast' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('ENDURACHIP Coating with (SPECIFY BASE COLOR), (SPECIFY CHIP COLOR) offering exceptional UV Resistance and rapid intall.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip - Durable' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip - Durable' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip - Durable' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('ENDURACHIP Coating with (SPECIFY BASE COLOR), (SPECIFY CHIP COLOR) offering exceptional Durability & UV Resistance and rapid intall.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MARBLIZED COATING' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'MARBLIZED COATING' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'MARBLIZED COATING' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('ENDURACRETE MARBILIZED Coating with (PRIMARY COLOR, SECONDARY COLOR) offering deep rich beautiful color surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Anti-Spauling Driveway Sealing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Anti-Spauling Driveway Sealing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Anti-Spauling Driveway Sealing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Concrete driveway sealer application designed to dramatically reduce water penetration and the associated winter temperature spauling damage.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'ACS Chips' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'ACS Chips' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'ACS Chips' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Endurachip with smooth surface for ease cleaning and enhanced scorch resistance.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MVB-Base Coat (Semiron-Epoxy)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'MVB-Base Coat (Semiron-Epoxy)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'MVB-Base Coat (Semiron-Epoxy)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Base Coat (Epoxy)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Base Coat (Epoxy)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Base Coat (Epoxy)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Base coat provides base color and bonds chips to floor.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Top Coat (Polyspartic)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Top Coat (Polyspartic)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Top Coat (Polyspartic)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MVB-Base Coat (SEMIRON)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'MVB-Base Coat (SEMIRON)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'MVB-Base Coat (SEMIRON)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Quartz Chips' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Quartz Chips' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Quartz Chips' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Endurachip with enhanced traction surface - gritty surface');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Anti-Spauling Sideway Sealing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Anti-Spauling Sideway Sealing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Anti-Spauling Sideway Sealing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Concrete sidewalk sealer application designed to dramatically reduce water penetration and the associated winter temperature spauling damage.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Overlayment Installation' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Overlayment Installation' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Overlayment Installation' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Scuff surface and install concrete microtopping overlay over existing counter top.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marblized Top Coat Installation' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Marblized Top Coat Installation' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Marblized Top Coat Installation' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Install ENDURACRETE MARBILIZED coating (SPECIFY COLORS AND DESIGN) to the surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Preparations' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Preparations' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Preparations' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Hone to create an anchor patter that enhances mechanical bonding and increases surface area to enhance bond strength.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cooldeck Overlayment' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Cooldeck Overlayment' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Cooldeck Overlayment' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Apply overlayment to the areas being enhanced with reduced temperate CoolDeck treatments.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Clean Air Purification Treatments' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Clean Air Purification Treatments' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Clean Air Purification Treatments' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Clean Air treatment naturally breaks down organic material on contact in the presence of natural light and UV.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Metal Stripping' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Metal Stripping' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Metal Stripping' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Remove metal lacquer to allows access to the metal surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Metal Cleaning' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Metal Cleaning' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Metal Cleaning' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Clean surface to remove oils.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Metal Scratch Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Metal Scratch Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Metal Scratch Removal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Polish metal to remove scratches and damage.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Metal Laquer, Sealing & Protection' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Metal Laquer, Sealing & Protection' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Metal Laquer, Sealing & Protection' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Re-apply protective lacquer.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Tile Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Tile Removal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Remove tile, grout and mortar in preparation for new tile installation.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Installation' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Tile Installation' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Tile Installation' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Set tiles with mortar and spacers.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grouting' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Grouting' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Grouting' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Install grout between tile (Select grout type - sanded, non-sanded, epoxy,other and Select color).');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Haze Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Grout Haze Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Grout Haze Removal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Remove grout haze from surface tile (following day).');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Sealing - Clear' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Grout Sealing - Clear' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Grout Sealing - Clear' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Seal grout lines to resist staining.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout & Tile Sealing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Grout & Tile Sealing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Grout & Tile Sealing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Seal grout and tile surface to resist staining.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping Wax' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping Wax' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping Wax' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Stripping Coating to access the underlaying vinyl surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Waxing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Waxing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Waxing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Re-apply Wax.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cleaning and Pre-Coat Preparations' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Cleaning and Pre-Coat Preparations' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Cleaning and Pre-Coat Preparations' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Clean surface to remove oils, dust and debris prior to coating the floor.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'VinylGuard Installation' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'VinylGuard Installation' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'VinylGuard Installation' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Apply Vinylguard protective durable coating to vinyl floor.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Scuffing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Scuffing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Scuffing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Scuff the wood surface to enhance bonding of re-coat application.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Re-Coat' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Re-Coat' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Re-Coat' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Re-Coat the floor to restore wear area finish.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Buffing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Buffing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Buffing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Buff the floor to enhance finish.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Scratch & Wear Removal (Sanding)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Scratch & Wear Removal (Sanding)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Scratch & Wear Removal (Sanding)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Sand surface to remove scratches feathering into rest of floor before re-staining and re-finsihing.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Staining' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Staining' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Staining' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Stain the floor with client selected color stain.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Staining' }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Staining' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Apply top coat finish (select finish).');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Granite Cleaner 32 oz Spray' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Granite Cleaner 32 oz Spray' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Granite Cleaner 32 oz Spray' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Granite Cleaner 32 oz Spray - This Ready-to-Use granite safe cleaner contains no waxes, or seal damaging acids, this cleaner has been MARBLELIFE optimized based on over 30 years service history fixing granite surface problems caused by inappropriate cleaners.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Granite Cleaner Refill Gallon' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Granite Cleaner Refill Gallon' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Granite Cleaner Refill Gallon' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Granite Cleaner Refill Gallon - This Ready-to-Use Refill provides 4 refills at a volume price.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Granite Gloss conditioner 8oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Granite Gloss conditioner 8oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Granite Gloss conditioner 8oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Granite Gloss Conditioner  8oz   - When you need a shine before guests arrive but do not have time for a service, Granite Gloss Conditioner provides a temporary shine.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Granite Sealer 4 oz Spray' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Granite Sealer 4 oz Spray' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Granite Sealer 4 oz Spray' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Granite Sealer 4 oz Spray - This Do-It-Yourself spray covers 50 sqft with an easy to apply wipe-on-wait-2-minutes and wipe off formula designed to enhance your granite counters stain resistance.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Granite Sealer 4 oz Spray' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Granite Sealer 4 oz Spray' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Granite Sealer 4 oz Spray' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Granite Sealer 4 oz Spray  - This Do-It-Yourself spray covers 50 sqft with an easy to apply wipe-on-wait-2-minutes and wipe off formula designed to enhance your granite counters stain resistance.');
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marble Cleaner 32 oz Spray' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Marble Cleaner 32 oz Spray' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Marble Cleaner 32 oz Spray' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Marble Cleaner 32 oz Spray - This Ready-to-Use Marble safe cleaner contains no waxes, or seal damaging acids, this cleaner has been MARBLELIFE optimized based on over 30 years service history fixing Marble surface problems caused by inappropriate cleaners.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marble cleaner Refill Gallon' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Marble cleaner Refill Gallon' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Marble cleaner Refill Gallon' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Marble Cleaner Refill Gallon - This Ready-to-Use Refill provides 4 refills at a volume price.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marble cleaner Conc. 32oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Marble cleaner Conc. 32oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Marble cleaner Conc. 32oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Marble Cleaner Conc. 32oz - 1/2 oz of concentrate makes a quart of cleaner allowing this cost effective refill to make 64 quarts of ready-to-use cleaner.  Use 2 oz per gallon of water when mopping your floors.  Cleaner not only traps dirt but will drop it out of solution for cleaner mop water and fewer water changes.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marble Polish 16 oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Marble Polish 16 oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Marble Polish 16 oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Marble Polish 16 oz - This polish is suitable to tremove spots, rings, white spots and other etches from marble surface.This is a professional product, which requires close attention to directions and a final rinse with marble cleaner to neutralize on completion.Suitable for marble surfaces which see drinks and other source of acids frequently.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marble Gloss conditioner 16oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Marble Gloss conditioner 16oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Marble Gloss conditioner 16oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Marble Gloss Conditioner  16oz - When you need a shine before guests arrive but do not have time for a service, Marble Gloss Conditioner provides a temporary shine.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stone Sealer 16 oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stone Sealer 16 oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stone Sealer 16 oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Stone Sealer 16 oz - This Do-It-Yourself wipe-on-wait-2-minutes-and-wipe-off product enhances the stain resistance of your marble and other stone surfaes.  Formulated to be easy-to-use and stone safe.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Cleaner 32oz Spray' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Tile Cleaner 32oz Spray' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Tile Cleaner 32oz Spray' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Tile Cleaner 32 oz Spray - This Ready-to-Use Tile safe cleaner contains no waxes, or seal damaging acids, this cleaner has been MARBLELLIFE optimized based on over 30 years service history fixing Tile surface problems caused by inappropriate cleaners.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Cleaner Refill Gallon' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Tile Cleaner Refill Gallon' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Tile Cleaner Refill Gallon' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Tile Cleaner Refill Gallon - This Ready-to-Use Refill provides 4 refills at a volume price.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Cleaner Refill Gallon' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Tile Cleaner Refill Gallon' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Tile Cleaner Refill Gallon' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Tile Cleaner Conc. 32oz - 1/2 oz of concentrate makes a quart of cleaner allowing this cost effective refill to make 64 quarts of ready-to-use cleaner.  Use 2 oz per gallon of water when mopping your floors.  Cleaner not only traps dirt but will drop it out of solution for cleaner mop water and fewer water changes.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tile Cleaner Refill Gallon' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Tile Cleaner Refill Gallon' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Tile Cleaner Refill Gallon' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("MaxOut Grout Cleaner 32 oz  - When dealing with stained grout the first time, this is your heavy lifting grout cleaner.  This Ready-To-Use product will solubilize, emulsify and lift grease, oil and other dirts from the surface and pores, just add it to your groutline and agitate.  See our online video where you can see the sand crystals in sanded grout gleaming back after treatment.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MaxOut Concentrate Gallon' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'MaxOut Concentrate Gallon' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'MaxOut Concentrate Gallon' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("MaxOut Concentrate Gallon - For larger jobs Maxout concentrate comes in larger volume and concentrate form.  Dilute 50% with water before use.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Grout Sealer 16 oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Grout Sealer 16 oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Grout Sealer 16 oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Grout Sealer 16 oz - This product is designed to seal sanded and non-sanded grout without altering its color or finish.  Once sealed this product enhances stain resistance and ease-of-cleaning by keeping foreign on the surface where it is easier to clean.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Floor Cleaner Concentrate Gallon' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Floor Cleaner Concentrate Gallon' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Floor Cleaner Concentrate Gallon' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Floor Cleaner Concentrate Gallon - Use 1 oz / Gal of mop water.  This cleaner is designed to not just emulsify and lift oil and dirt from the floor, but to then drop them out of solution in your mop bucket to keep your mop water cleaner longer and reduce the frequency of water changes when cleaning.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Mold & Mildew Stain Remover 32oz Spray' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Mold & Mildew Stain Remover 32oz Spray' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Mold & Mildew Stain Remover 32oz Spray' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Mold & Mildew Stain Remover 32oz Spray - This exceptional product was formulated to enable MARBLELIFE craftsman to QUICKLY cut through mold stains to get back to the stone or tile surfae they are working on.  So effective it will cut through years of mold stain building up on driveways and curbs just as easily as it works on your shower groutlines.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Mold & Mildew Stain Remover Gallon' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Mold & Mildew Stain Remover Gallon' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Mold & Mildew Stain Remover Gallon' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Mold & Mildew Stain RemoverGallon - This exceptional product was formulated to enable MARBLELIFE craftsman to QUICKLY cut through mold stains to get back to the concrete, stone or tile surface they are working on.  So effective it will cut through years of mold stain building up on driveways and curbs just as easily as it works on your shower groutlines.  Suitable for use on patios, sidewalks, driveways and showers.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Soap Scum Remover 16oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Soap Scum Remover 16oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Soap Scum Remover 16oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Soap Scum Remover 16oz - This brilliant product removes soap scum build-up with ease.  Engineered with an abrasive that is harder than soap but softer than the stone or tile beneath it, it cuts through soap with ease and disinigrates on contact with tile or stone.  No wasted time as you can hear it work, and feel once it has broken through the soap to a now clean surface.  Works in minutes.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Guard' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Guard' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Guard' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Guard is applied and buffed to the desired finish.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Stain Application' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Stain Application' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Stain Application' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Concrete will be stained to the desired color.  PLEASE NOTE, that a stain will accentuate the concrete history and local porosity.  To achieve a uniform acceptance of the stain one should consider having a microtopping applied to older more seasoned floors.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Microtopping Overlayment' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Microtopping Overlayment' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Microtopping Overlayment' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("A concrete microtopping overlayment will be installed to provide a consistently stainable and polishable surface.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Sealing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Sealing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Sealing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Seal to enhance stain resistance.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Carpet Cleaning' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Carpet Cleaning' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Carpet Cleaning' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Clean carpet.")
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Carpet Guard' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Carpet Guard' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Carpet Guard' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Carpet guard to enhance stain resistance.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Carpet Guard' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Carpet Guard' } }, true);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Carpet guard to enhance stain resistance.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Crack Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Crack Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Crack Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("Cracks are filled and sealed.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Large Concrete Area Repairs' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Large Concrete Area Repairs' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Large Concrete Area Repairs' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ("New Concrete will be installed in the cleaned up broken area to restore a consistent floor flat floor surface.");
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Chip Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Terrazzo Chip Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Terrazzo Chip Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ("Terrazzo chip repair will be colorized to match an existing chip so that it blends with the floor.");
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Crack Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Terrazzo Chip Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Terrazzo Chip Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ("Terrazzo crack repair will be broken up.");
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Large Area Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Terrazzo Large Area Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Terrazzo Large Area Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ("A concrete fill with a terrazzo top will be installed.  Effort will be made to match the background base, chip colors, chip sizes and chip ratios in order to blend the repair..");
                        }
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Repairs' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Expansion Joint Repairs' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Expansion Joint Repairs' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ("Broken or incomplete expansion joint filler will be restored.");
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Sealing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Expansion Joint Sealing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Expansion Joint Sealing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ("Expansion joint seal material will be installed in the pre-cut expansion joints.");
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Sealing' }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Expansion Joint Sealing' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ("Expansion joint seal material will be installed in the pre-cut expansion joints.");
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Silicone' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Silicone' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Silicone' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ("Stripping Coating to access the underlaying floor.");
                        }

                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Urethane' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Urethane' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Urethane' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ("Stripping Coating to access the underlaying floor.");
                        }
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Wax' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Wax' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Wax' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ("Stripping Coating to access the underlaying floor.");
                        }
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Unknown' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Unknown' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Unknown' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ("Stripping Coating to access the underlaying floor.");
                        }
                    }
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Honing' }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Honing' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        /* services[index].description = ('Conrete will be honed flat and prepared for densification.')*/
                        services[index].description = ('Hone to remove scratches, rings, etches and wear marks.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Densification' }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Densification' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services[index].description = ('Concrete will be densified to reduce dusting, salt intrusion and to facilitate polishing .');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polishing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Polishing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Polishing' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services[index].description = ('Concrete will be polished to the desired finish (Gloss, Satin/Semi-Gloss, Matte).');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Guard' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Guard' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services[index].description = ('Guard is applied and buffed to the desired finish.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Stain Application' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Stain Application' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Stain Application' } }, true)[0]);

                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services[index].description = ('Concrete will be stained to the desired color.  PLEASE NOTE, that a stain will accentuate the concrete history and local porosity.  To achieve a uniform acceptance of the stain one should consider having a microtopping applied to older more seasoned floors.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Spot Stain Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Spot Stain Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Spot Stain Removal' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services[index].description = ('');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Microtopping Overlayment' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Microtopping Overlayment' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Microtopping Overlayment' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services[index].description = ('A concrete microtopping overlayment will be installed to provide a consistently stainable and polishable surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Sealing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Sealing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Sealing' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services[index].description = ('Seal to enhance stain resistance.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Other' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Other' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Other' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-POLISHING(ENDURACRETE)') {
                        services[index].description = ('');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Chip Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Chip Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Chip Repair' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Chips and Pits are refilled.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Crack Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Crack Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Crack Repair' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Cracks are filled and sealed.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Crack Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Crack Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Crack Repair' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Large Concrete Area Repairs.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Chip Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Terrazzo Chip Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Terrazzo Chip Repair' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Terrazzo chip repair will be colorized to match an existing chip so that it blends with the floor.');
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Chip Repair' }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Terrazzo Chip Repair' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Terrazzo crack repair will be broken up.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Terrazzo Large Area Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Terrazzo Large Area Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Terrazzo Large Area Repair' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('A concrete fill with a terrazzo top will be installed.  Effort will be made to match the background base, chip colors, chip sizes and chip ratios in order to blend the repair.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Repairs' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Expansion Joint Repairs' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Expansion Joint Repairs' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Broken or incomplete expansion joint filler will be restored.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Sealing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Expansion Joint Sealing' } }, true);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Expansion joint seal material will be installed in the pre-cut expansion joints.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping Carpet Adhesive' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping Carpet Adhesive' } }, true);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Strip carpet adhesive to access the underlaying floor.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Silicone' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Silicone' } }, true);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Stripping Coating to access the underlaying floor.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Urethane' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Urethane' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Urethane' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Stripping Coating to access the underlaying floor.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Wax' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Wax' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Wax' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Stripping Coating to access the underlaying floor.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Unknown' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Stripping-Unknown' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Unknown' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-REPAIR\r') {
                        services[index].description = ('Stripping Coating to access the underlaying floor.');
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Stripping-Unknown' }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Stripping-Unknown' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Clean surface to remove residual surface oils, tape adhesives, dirt and debris.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Powerwash - Mold Stain Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Powerwash - Mold Stain Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Powerwash - Mold Stain Removal' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Powerwash to remoe mold stain and restore a clean mold stain free surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hone Surface Prep' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Hone Surface Prep' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Hone Surface Prep' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Hone to open concrete surface and create more mechanical bond sites for enhanced coating adhesion and durability.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Moisture Vapor Barrier' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Moisture Vapor Barrier' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Moisture Vapor Barrier' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Install a moisture vapor barrier to manager ground based moisture vapor pressure which can deliminate coatings from below.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Epoxy Base' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Epoxy Base' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Epoxy Base' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Concrete BASE Coat provide the background color and base to whch chips will initiall be adhered.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polyspartic Base' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Polyspartic Base' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Polyspartic Base' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Concrete BASE Coat provide the background color and base to whch chips will initiall be adhered.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polyspartic Base' }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Polyspartic Base' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Chip mix provides the floor color and texture..');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Expansion Joint Sealing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Expansion Joint Sealing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Expansion Joint Sealing' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Expansion joint seal material will be installed in the pre-cut expansion joints.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Epoxy Top Coat' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Epoxy Top Coat' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Epoxy Top Coat' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Concrete TOP Coat seals in chips with exceptional durability.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Polyspartic Top Coat' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Polyspartic Top Coat' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Polyspartic Top Coat' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Concrete TOP Coat seals in chips with exceptional UV resistance.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip-Light' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip-Light' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip-Light' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Opaque coating with light chips to provide a decorative accent to the floor. (SPECIFY COLORS).');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip-Fast' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip-Fast' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip-Fast' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('ENDURACHIP Coating with (SPECIFY BASE COLOR), (SPECIFY CHIP COLOR) offering exceptional UV Resistance and rapid intall.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip - Durable' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip - Durable' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip - Durable' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('ENDURACHIP Coating with (SPECIFY BASE COLOR), (SPECIFY CHIP COLOR) offering exceptional Durability & UV Resistance and rapid intall.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MARBLIZED COATING' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'MARBLIZED COATING' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'MARBLIZED COATING' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('ENDURACRETE MARBILIZED Coating with (PRIMARY COLOR, SECONDARY COLOR) offering deep rich beautiful color surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'MARBLIZED COATING' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'MARBLIZED COATING' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'MARBLIZED COATING' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Concrete driveway sealer application designed to dramatically reduce water penetration and the associated winter temperature spauling damage.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Anti-Spauling Sideway Sealing' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Anti-Spauling Sideway Sealing' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Anti-Spauling Sideway Sealing' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COATINGS\r') {
                        services[index].description = ('Concrete sidewalk sealer application designed to dramatically reduce water penetration and the associated winter temperature spauling damage.');
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cleaning' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Cleaning' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Cleaning' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COUNTERTOPS\r') {
                        services[index].description = ('Clean to remove residual grease, fats, oils, dust and other impurities laying on the surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Overlayment Installation' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Overlayment Installation' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Overlayment Installation' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COUNTERTOPS\r') {
                        services[index].description = ('Scuff surface and install concrete microtopping overlay over existing counter top.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Marblized Top Coat Installation' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Marblized Top Coat Installation' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Marblized Top Coat Installation' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-COUNTERTOPS\r') {
                        services[index].description = ('Install ENDURACRETE MARBILIZED coating (SPECIFY COLORS AND DESIGN) to the surface.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Preparations' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Preparations' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Preparations' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-OVERLAYMENTS\r') {
                        services[index].description = ('Hone to create an anchor patter that enhances mechanical bonding and increases surface area to enhance bond strength..');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cooldeck Overlayment' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Cooldeck Overlayment' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Cooldeck Overlayment' } }, true)[0]);
                    if ((isPresent != undefined && isPresent.length > 0) && services.serviceType == 'CONCRETE-OVERLAYMENTS\r') {
                        services[index].description = ('Apply overlayment to the areas being enhanced with reduced temperate CoolDeck treatments..');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Service' }, true)
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Service' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Service' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ('Service Sales Tax.');
                        }
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Products' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Products' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Products' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ('Product Sales Tax.');
                        }
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Tilelok' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Tilelok' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Tilelok' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        {
                            services[index].description = ('Reglaze Tile with MARBLELIFE TILELOK to impart new, mold resistance, anti-graffiti resistance, and slip resist finish GLOSS finish.');
                        }
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Grind' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Grind' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Grind to remove rough areas');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Hardening' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Hardening' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Harden surface to Enhance Wear Resistance and Pro-long Life of Finish');
                    }

                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Gaurd' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Gaurd' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('CONCRETE GUARD to enhance concrete gloss');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Cleanshield' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Cleanshield' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Cleanshield' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('<ul style="margin-left: -29px;"><li>Mask to protect surrounding area</li><li>Hone to create anchor pattern</li> <li>Apply clean shield treatment</li><li>Snap cure treatment and finalize finish (Matte or Gloss)</li></ul>');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian-Chip Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Corian-Chip Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Corian-Chip Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Corian-Chip Repair');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian-Crack Repair' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Corian-Crack Repair' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Corian-Crack Repair' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Corian-Crack Repair');
                    }
                    
                    isPresent = $filter('filter')(services.serviceIds, { id: 'Corian-Scratch Removal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Corian-Scratch Removal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Corian-Scratch Removal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Corian-Scratch Removal');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Hydroforce Cleaning' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Hydroforce Cleaning' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Hydroforce Cleaning' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('<ul style="margin-left: -29px;"><li>Mask to Protect Surrounding Area</li><li>Pre-Spray Tile and Grout</li> <li>Agitate</li><li>Extract w/Hydro-Force 900psi 230 Degree</li></ul>');
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Floor Prep - Repairs' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Floor Prep - Repairs' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Floor Prep - Repairs' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Repair floor chips and cracks.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Slow (VinylChip)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip Slow (VinylChip)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip Slow (VinylChip)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Endurachip Slow (VinylChip)');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Slow (Quartz Chip)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip Slow (Quartz Chip)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip Slow (Quartz Chip)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Endurachip Slow (Quartz Chip)');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Slow (ACS Filler)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip Slow (ACS Filler)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip Slow (ACS Filler)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Endurachip Slow (ACS Filler)');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Durable (VinylChip)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip Durable (VinylChip)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip Durable (VinylChip)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Endurachip Durable (VinylChip)');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Durable (Quartz Chip)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip Durable (Quartz Chip)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip Durable (Quartz Chip)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Endurachip Durable (Quartz Chip)');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Durable (ACS Filler)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip Durable (ACS Filler)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip Durable (ACS Filler)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Endurachip Durable (ACS Filler)');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Fast (VinylChip)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip Fast (VinylChip)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip Fast (VinylChip)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Endurachip Fast (VinylChip)');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Fast (Quartz Chip)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip Fast (Quartz Chip)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip Fast (Quartz Chip)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Endurachip Fast (Quartz Chip)');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Endurachip Fast (ACS Filler)' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Endurachip Fast (ACS Filler)' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Endurachip Fast (ACS Filler)' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Endurachip Fast (ACS Filler)');
                    }


                    isPresent = $filter('filter')(services.serviceIds, { id: 'Concrete Floor Prep - Grind' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Concrete Floor Prep - Grind' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Concrete Floor Prep - Grind' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Grind floor to better accept stain or coating being applied.');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Concrete Cleaner CONCENTRATE 32oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Enduraclean Concrete Cleaner CONCENTRATE 32oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Enduraclean Concrete Cleaner CONCENTRATE 32oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Enduraclean Concrete Cleaner CONCENTRATE 32oz');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Concrete Cleaner CONCENTRATE Gal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Enduraclean Concrete Cleaner CONCENTRATE Gal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Enduraclean Concrete Cleaner CONCENTRATE Gal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Enduraclean Concrete Cleaner CONCENTRATE Gal');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Concrete Cleaner for Driveways' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Enduraclean Concrete Cleaner for Driveways' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Enduraclean Concrete Cleaner for Driveways' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Enduraclean Concrete Cleaner for Driveways');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Exterio Concree Stain Remover Cleaner 32oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Enduraclean Exterio Concree Stain Remover Cleaner 32oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Enduraclean Exterio Concree Stain Remover Cleaner 32oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Enduraclean Exterio Concree Stain Remover Cleaner 32oz');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Garage & Indoor Concrete READY-TO-USE 32oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Enduraclean Garage & Indoor Concrete READY-TO-USE 32oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Enduraclean Garage & Indoor Concrete READY-TO-USE 32oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Enduraclean Garage & Indoor Concrete READY-TO-USE 32oz');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Metallic & Marblized Coating Cleaner Gal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Enduraclean Metallic & Marblized Coating Cleaner Gal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Enduraclean Metallic & Marblized Coating Cleaner Gal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Enduraclean Metallic & Marblized Coating Cleaner Gal');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Polished Concrete Cleaner CONCENTRATE Gal' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Enduraclean Polished Concrete Cleaner CONCENTRATE Gal' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Enduraclean Polished Concrete Cleaner CONCENTRATE Gal' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Enduraclean Polished Concrete Cleaner CONCENTRATE Gal');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Polished Concrete Cleaner READY-TO-USE 32oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Enduraclean Polished Concrete Cleaner READY-TO-USE 32oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Enduraclean Polished Concrete Cleaner READY-TO-USE 32oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Enduraclean Polished Concrete Cleaner READY-TO-USE 32oz');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraclean Terrazzo & Concrete Cleaner 32oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Enduraclean Terrazzo & Concrete Cleaner 32oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Enduraclean Terrazzo & Concrete Cleaner 32oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Enduraclean Terrazzo & Concrete Cleaner 32oz');
                    }

                    isPresent = $filter('filter')(services.serviceIds, { id: 'Enduraseal Concrete Sealer 32oz' }, true);
                    isPresent = $filter('filter')(services, { serviceIds: { id: 'Enduraseal Concrete Sealer 32oz' } }, true);
                    index = services.indexOf($filter('filter')(services, { serviceIds: { id: 'Enduraseal Concrete Sealer 32oz' } }, true)[0]);
                    if (isPresent != undefined && isPresent.length > 0) {
                        services[index].description = ('Enduraseal Concrete Sealer 32oz');
                    }

                    angular.forEach(services, function(value) {
                        if (value.description == null || value.description == undefined || value.description == "") {
                            value.description = value.serviceName;
                        }
                    })
                }

                function checkBoxClicked(option) {
                    if (option == 'option1') {
                        vm.isOption1Checked = true;
                        vm.isOption2Checked = false;
                        vm.isOption3Checked = false;
                        vm.estimateInvoiceInfo.option = 'option1';
                        var option1 = document.getElementById("option1");
                        if (option1 != null) {
                            option1.checked = true;
                        }
                        var option2 = document.getElementById("option2");
                        if (option2 != null) {
                            option2.checked = false;
                        }
                        var option3 = document.getElementById("option3");
                        if (option3 != null) {
                            option3.checked = false;
                        }
                    }
                    else if (option == 'option2') {
                        vm.isOption1Checked = false;
                        vm.isOption2Checked = true;
                        vm.isOption3Checked = false;
                        vm.estimateInvoiceInfo.option = 'option2';
                        var option1 = document.getElementById("option1");
                        if (option1 != null) {
                            option1.checked = false;
                        }
                        var option2 = document.getElementById("option2");
                        if (option2 != null) {
                            option2.checked = true;
                        }
                        var option3 = document.getElementById("option3");
                        if (option3 != null) {
                            option3.checked = false;
                        }
                    }
                    else if (option == 'option3') {
                        vm.isOption1Checked = false;
                        vm.isOption2Checked = false;
                        vm.isOption3Checked = true;
                        vm.estimateInvoiceInfo.option = 'option3';
                        var option1 = document.getElementById("option1");
                        if (option1 != null) {
                            option1.checked = false;
                        }
                        var option2 = document.getElementById("option2");
                        if (option2 != null) {
                            option2.checked = false;
                        }
                        var option3 = document.getElementById("option3");
                        if (option3 != null) {
                            option3.checked = true;
                        }
                    }
                    calculatingDataByInvoiceNumber();
                    optionWiseTotal();
                }

                function addingNotes(serviceList, isEditable, from) {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/modal.add.notes.client.view.html',
                        controller: 'ModalAddNotesController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    Id: vm.estimateId,
                                    ServiceList: serviceList,
                                    IsEditable: isEditable,
                                    From: from
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                    });
                }

                function openSelectInvoicesModal(modalName, buttonName, isFromMailSend) {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/modal.selectinvoices.client.view.html',
                        controller: 'SelectInvoicesModal',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    CustomerName: vm.estimateInfo.jobCustomer.customerName,
                                    CustomerId: vm.estimateInfo.jobCustomer.customerId,
                                    JobSchedulerId: vm.estimateInfo.schedulerId,
                                    Services: vm.estimateInvoiceInfo.serviceList,
                                    EstimateDate: vm.estimateInfo.startDate,
                                    ButtonName: buttonName,
                                    ModalName: modalName,
                                    IsFromMailSend: isFromMailSend,
                                    MailBody: vm.estimateInvoiceInfo.mailBody,
                                    ToEmail: vm.estimateInvoiceInfo.email,
                                    ToEmailId: vm.estimateInvoiceInfo.id,
                                    CcEmail: vm.estimateInvoiceInfo.ccEmail,
                                    Title: vm.estimateInvoiceInfo.title,
                                    IsFromJob: false,
                                    TypeId: DataHelper.CustomerSignatureType.BEFORECOMPLETITION,
                                    IsFromAvailability: false,
                                    SchedulerId: vm.estimateInfo.schedulerId,
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                    }, function () {
                        getEstimateInfo();
                    });
                }

                function sendInvoiceToCustomer() {
                    return schedulerService.sendInvoiceToCustomer(vm.rowId).then(function (result) {
                        if (result != null && result.data != null && result.data == 1) {
                            toaster.show(result.message.message);
                        }
                        else if (result != null && result.data != null && result.data == -1) {
                            toaster.error(result.message.message);
                        }
                        else {
                            toaster.error(result.message.message);
                        }
                    });
                }

                function serviceChange(serviceList, index) {
                    //if ((serviceList.typeOfStoneType2 == "Terrazzo" || serviceList.typeOfStoneType2 == "Concrete"
                    //) && serviceList.serviceType == "CONCRETE-POLISHING(ENDURACRETE)") {
                    //    vm.serviceTypeForInvoice = [];
                    //    vm.serviceTypeForInvoiceList[index] = [];
                    //    vm.serviceTypeForInvoice = [
                    //        { label: "Bundle (Honing & Polishing)", id: "Bundle (Honing & Polishing)" },
                    //        { label: "Honing", id: "Honing" },
                    //        { label: "Densification", id: "Densification" },
                    //        { label: "Polishing", id: "Polishing" },
                    //        { label: "Guard", value: "Guard" },
                    //        { label: "Concrete Stain Application", id: "Concrete Stain Application" },
                    //        { label: "Concrete Spot Stain Removal", id: "Concrete Spot Stain Removal" },
                    //        { label: "Concrete Microtopping Overlayment", id: "Concrete Microtopping Overlayment" },
                    //        { label: "Sealing", id: "Sealing" },
                    //        { label: "Other", id: "Other" }];
                    //    vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    //}
                    //else if (serviceList.serviceType == "CONCRETE-POLISHING(ENDURACRETE)") {
                    //    vm.serviceTypeForInvoice = [];
                    //    vm.serviceTypeForInvoice = [{ label: "Bundle (Honing & Polishing)", id: "Bundle (Honing & Polishing)" }, { label: "Chip Repair", id: "Chip Repair" }, { label: "Crack Repair", id: "Crack Repair" },
                    //    { label: "Hone", id: "Hone" }, { label: "Polish", id: "Polish" }, { label: "Seal", id: "Seal" }, { label: "Grind", id: "Grind" },
                    //    { label: "Guard ", id: "Guard" }];
                    //}
                    //else {
                    //    vm.serviceTypeForInvoice = [];
                    //    vm.serviceTypeForInvoice = [{ label: "Chip Repair", id: "Chip Repair" }, { label: "Crack Repair", id: "Crack Repair" },
                    //    { label: "Hone", id: "Hone" }, { label: "Polish", id: "Polish" }, { label: "Seal", id: "Seal" }];
                    //}
                    //if (serviceList.typeOfStoneType2 == "Concrete") {
                    //    serviceList.typeOfStoneColor = "Gray";
                    //}
                    changesForServicesMaterialType(serviceList, index);
                    isContainStripping(serviceList);
                    getSalesPersonNotes(serviceList, index);
                }

                function totalSumForOptions() {
                    vm.option1 = 0;
                    vm.option2 = 0;
                    vm.option3 = 0;
                    angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value1) {
                        if (!value1.isCross) {
                            if (value1.option1 != undefined && value1.option1 != '') {
                                vm.option1 = vm.option1 + parseFloat(value1.option1);
                            }
                            else {
                                if (vm.option1 == 0) {
                                    vm.option1 = 0;
                                }
                            }
                            if (value1.option2 != undefined && value1.option2 != '') {
                                vm.option2 = vm.option2 + parseFloat(value1.option2);
                            }
                            else {
                                if (vm.option2 == 0) {
                                    vm.option2 = 0;
                                }
                            }
                            if (value1.option3 != undefined && value1.option3 != '') {
                                vm.option3 = vm.option3 + parseFloat(value1.option3);
                            }
                            else {
                                if (vm.option3 == 0) {
                                    vm.option3 = 0;
                                }
                            }

                        }
                        angular.forEach(value1.subItem, function (value) {
                            if (!value.isCross) {
                                if (value.option1 != undefined && value.option1 != '') {
                                    vm.option1 = vm.option1 + parseFloat(value.option1);
                                }

                                if (value.option2 != undefined && value.option2 != '') {
                                    vm.option2 = vm.option2 + parseFloat(value.option2);
                                }

                                if (value.option3 != undefined && value.option3 != '') {
                                    vm.option3 = vm.option3 + parseFloat(value.option3);
                                }
                            }
                        })
                    });

                    optionWiseTotal();

                }

                function optionWiseTotal() {
                    vm.totalSumList = [];
                    vm.totalNumberOfInvoices = [];
                    vm.totalPrice = 0;
                    vm.totalLessDeposit = 0;
                    vm.totalBalance = 0;
                    for (var value = 1; value <= vm.estimateInvoiceInfo.invoiceCount; value++) {
                        vm.totalNumberOfInvoices.push(value);
                        var option1 = 0;
                        vm.lists = $filter('filter')(vm.estimateInvoiceInfo.serviceList, { invoiceNumber: value.toString() }, true);
                        angular.forEach(vm.lists, function (value1) {
                            if (!value1.isCross) {
                                if (vm.estimateInvoiceInfo.option == 'option1') {
                                    option1 = parseFloat(option1) + parseFloat(value1.option1);
                                }
                                else if (vm.estimateInvoiceInfo.option == 'option2') {
                                    option1 = parseFloat(option1) + parseFloat(value1.option2);
                                }
                                else if (vm.estimateInvoiceInfo.option == 'option3') {
                                    option1 = parseFloat(option1) + parseFloat(value1.option3);
                                }
                            }
                            angular.forEach(value1.subItem, function (value) {
                                if (!value.isCross) {
                                    if (vm.estimateInvoiceInfo.option == 'option1') {
                                        option1 = parseFloat(option1) + parseFloat(value.option1);
                                    }
                                    else if (vm.estimateInvoiceInfo.option == 'option2') {
                                        option1 = parseFloat(option1) + parseFloat(value.option2);
                                    }
                                    else if (vm.estimateInvoiceInfo.option == 'option3') {
                                        option1 = parseFloat(option1) + parseFloat(value.option3);
                                    }
                                }
                            });
                        });
                        var lessDeposit = (vm.estimateInvoiceInfo.lessDepositPercentage * parseFloat(option1)) / 100;
                        var balance = parseFloat(option1) - parseFloat(lessDeposit);
                        vm.totalSumList.push({ price: option1, lessDeposit: lessDeposit, balance: balance });
                        vm.totalPrice = vm.totalPrice + parseFloat(option1);
                        vm.totalLessDeposit = vm.totalLessDeposit + parseFloat(lessDeposit);
                        vm.totalBalance = vm.totalBalance + balance;
                    }
                }

                function viewTermsAndCondition() {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/modal.view.terms.condition.other.client.view.html',
                        controller: 'ModalTermsAndConditionOtherController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {


                    });
                }


                //When Material is changed in invoice Line
                function changesForServicesMaterialType(serviceList, index) {
                    if (serviceList.sumTotalArea) {
                        serviceList.sumTotalArea = 0;
                        angular.forEach(serviceList.honingMeasurementList, function (value) {
                            value.area = 0;
                        });
                    }
                    serviceList.honingMeasurementList;
                    vm.serviceTypeForInvoice = [
                        { label: "No Service Available", id: "No Service Available" }
                    ];

                    vm.serviceTypeForInvoiceList[index] = [];
                    vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;

                    //For Carpet Material
                    if (serviceList.serviceType == "CARPETLIFE" && serviceList.typeOfStoneType2 == "Carpet") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Carpet Cleaning", id: "Carpet Cleaning" },
                            { label: "Carpet Guard", id: "Carpet Guard" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Ceramic (tile and grout) Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Ceramic (tile and grout)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Seal", id: "Seal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "GROUTLIFE/TILELOK" && serviceList.typeOfStoneType2 == "Ceramic (tile and grout)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean/Colorseal/ Interlok", id: "Bundle Clean/Colorseal/ Interlok" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Ceramic", id: "Ceramic" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Colorseal", id: "Colorseal" },
                            { label: "Colorseal-Hydroforce", id: "Colorseal-Hydroforce" },
                            { label: "Colorseal-Powerwash", id: "Colorseal-Powerwash" },
                            { label: "Colorseal-Powerscrub", id: "Colorseal-Powerscrub" },
                            { label: "Grout Repair", id: "Grout Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Powerwash Cleaning", id: "Powerwash Cleaning" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Rebond", id: "Tile Rebond" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Waxing", id: "Waxing" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Ceramic (tile and grout)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Ceramic (tile and grout)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Concrete Material
                    else if (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Cleanshield", id: "Cleanshield" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "CONCRETE-COATINGS" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            // Bundle items first
                            { label: "Bundle Clean & Reseal", id: "Bundle Clean & Reseal" },
                            { label: "Bundle Prep & Coat Epoxy Only", id: "Bundle Prep & Coat Epoxy Only" },
                            { label: "Bundle Prep & Coat Epoxy-Epoxy", id: "Bundle Prep & Coat Epoxy-Epoxy" },
                            { label: "Bundle Prep & Coat Epoxy-MVB Only", id: "Bundle Prep & Coat Epoxy-MVB Only" },
                            { label: "Bundle Prep & Coat Epoxy-Poly Spartic", id: "Bundle Prep & Coat Epoxy-Poly Spartic" },
                            { label: "Bundle Prep & Coat Poly Spartic Only", id: "Bundle Prep & Coat Poly Spartic Only" },
                            { label: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - ACS Chip - Epoxy", id: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - ACS Chip - Epoxy" },
                            { label: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - Quartz Chip - Epoxy", id: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - Quartz Chip - Epoxy" },
                            { label: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - Vinyl Chip - Epoxy", id: "Bundle Prep & Epoxy Chip -(No MVB) Epoxy - Vinyl Chip - Epoxy" },
                            { label: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - ACS Chip - Poly Spartic", id: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - ACS Chip - Poly Spartic" },
                            { label: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - Quartz Chip - Poly Spartic", id: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - Quartz Chip - Poly Spartic" },
                            { label: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - Vinyl Chip - Poly Spartic", id: "Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - Vinyl Chip - Poly Spartic" },
                            { label: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) EPOXY - Vinyl Chip - Poly Spartic", id: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) EPOXY - Vinyl Chip - Poly Spartic" },
                            { label: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) Epoxy - ACS Chip - Poly Spartic", id: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) Epoxy - ACS Chip - Poly Spartic" },
                            { label: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) Epoxy - Quartz Chip - Poly Spartic", id: "Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) Epoxy - Quartz Chip - Poly Spartic" },
                            { label: "Bundle Prep - Marblized Marblize", id: "Bundle Prep - Marblized Marblize" },
                            { label: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - ACS Chip - Poly Spartic", id: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - ACS Chip - Poly Spartic" },
                            { label: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - Quartz Chip - Poly Spartic", id: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - Quartz Chip - Poly Spartic" },
                            { label: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - Vinyl Chip - Poly Spartic", id: "Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - Vinyl Chip - Poly Spartic" },
                            { label: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - ACS Chip - Poly Spartic", id: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - ACS Chip - Poly Spartic" },
                            { label: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - Quartz Chip - Poly Spartic", id: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - Quartz Chip - Poly Spartic" },
                            { label: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - Vinyl Chip - Poly Spartic", id: "Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - Vinyl Chip - Poly Spartic" },
                            { label: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - ACS Chip - Poly Spartic", id: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - ACS Chip - Poly Spartic" },
                            { label: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - Quartz Chip - Poly Spartic", id: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - Quartz Chip - Poly Spartic" },
                            { label: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - Vinyl Chip - Poly Spartic", id: "Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - Vinyl Chip - Poly Spartic" },
                            { label: "Bundle Strip, Clean & Reseal", id: "Bundle Strip, Clean & Reseal" },

                            // Individual items in alphabetical order
                            { label: "ACS Chips", id: "ACS Chips" },
                            { label: "Anti-Spauling Driveway Sealing", id: "Anti-Spauling Driveway Sealing" },
                            { label: "Anti-Spauling Sideway Sealing", id: "Anti-Spauling Sideway Sealing" },
                            { label: "Base Coat (Epoxy)", id: "Base Coat (Epoxy)" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Concrete Floor Prep - Grind", id: "Concrete Floor Prep - Grind" },
                            { label: "Concrete Floor Prep - Repairs", id: "Concrete Floor Prep - Repairs" },
                            { label: "Endurachip - Durable", id: "Endurachip - Durable" },
                            { label: "Endurachip - Fast", id: "Endurachip - Fast" },
                            { label: "Endurachip - Light", id: "Endurachip - Light" },
                            { label: "Endurachip Durable (ACS Filler)", id: "Endurachip Durable (ACS Filler)" },
                            { label: "Endurachip Durable (Quartz Chip)", id: "Endurachip Durable (Quartz Chip)" },
                            { label: "Endurachip Durable (VinylChip)", id: "Endurachip Durable (VinylChip)" },
                            { label: "Endurachip Fast (ACS Filler)", id: "Endurachip Fast (ACS Filler)" },
                            { label: "Endurachip Fast (Quartz Chip)", id: "Endurachip Fast (Quartz Chip)" },
                            { label: "Endurachip Fast (VinylChip)", id: "Endurachip Fast (VinylChip)" },
                            { label: "Endurachip Slow (ACS Filler)", id: "Endurachip Slow (ACS Filler)" },
                            { label: "Endurachip Slow (Quartz Chip)", id: "Endurachip Slow (Quartz Chip)" },
                            { label: "Endurachip Slow (VinylChip)", id: "Endurachip Slow (VinylChip)" },
                            { label: "Epoxy Base", id: "Epoxy Base" },
                            { label: "Epoxy Top Coat", id: "Epoxy Top Coat" },
                            { label: "Hone Surface Prep", id: "Hone Surface Prep" },
                            { label: "Marblized Coating", id: "Marblized Coating" },
                            { label: "Moisture Vapor Barrier", id: "Moisture Vapor Barrier" },
                            { label: "MVB-Base Coat (SEMIRON)", id: "MVB-Base Coat (SEMIRON)" },
                            { label: "MVB-Base Coat (Semiron-Epoxy)", id: "MVB-Base Coat (Semiron-Epoxy)" },
                            { label: "Polyspartic Base", id: "Polyspartic Base" },
                            { label: "Polyspartic Top Coat", id: "Polyspartic Top Coat" },
                            { label: "Powerwash - Mold Stain Removal", id: "Powerwash - Mold Stain Removal" },
                            { label: "Quartz Chips", id: "Quartz Chips" },
                            { label: "Top Coat (Polyspartic)", id: "Top Coat (Polyspartic)" },
                            { label: "Vinyl Chips", id: "Vinyl Chips" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "CONCRETE-OVERLAYMENTS" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Hone", id: "Hone" },
                            { label: "Install", id: "Install" },
                            { label: "Polish", id: "Polish" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Seal", id: "Seal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "CONCRETE-STAIN" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle (Honing & Polishing)", id: "Bundle (Honing & Polishing)" },
                            { label: "Densification", id: "Densification" },
                            { label: "Stain Application", id: "Stain Application" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "CONCRETE-POLISHING(ENDURACRETE)" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle (Honing & Polishing)", id: "Bundle (Honing & Polishing)" },
                            { label: "Concrete Microtopping Overlayment", id: "Concrete Microtopping Overlayment" },
                            { label: "Concrete Spot Stain Removal", id: "Concrete Spot Stain Removal" },
                            { label: "Concrete Stain Application", id: "Concrete Stain Application" },
                            { label: "Densification", id: "Densification" },
                            { label: "Guard", id: "Guard" },
                            { label: "Honing", id: "Honing" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Enduraclean Concrete Cleaner CONCENTRATE 32oz", id: "Enduraclean Concrete Cleaner CONCENTRATE 32oz" },
                            { label: "Enduraclean Concrete Cleaner CONCENTRATE Gal", id: "Enduraclean Concrete Cleaner CONCENTRATE Gal" },
                            { label: "Enduraclean Concrete Cleaner for Driveways, Sidewalks and Patios 32oz", id: "Enduraclean Concrete Cleaner for Driveways, Sidewalks and Patios 32oz" },
                            { label: "Enduraclean Exterio Concree Stain Remover Cleaner 32oz", id: "Enduraclean Exterio Concree Stain Remover Cleaner 32oz" },
                            { label: "Enduraclean Garage & Indoor Concrete READY-TO-USE 32oz", id: "Enduraclean Garage & Indoor Concrete READY-TO-USE 32oz" },
                            { label: "Enduraclean Metallic & Marblized Coating Cleaner Gal", id: "Enduraclean Metallic & Marblized Coating Cleaner Gal" },
                            { label: "Enduraclean Polished Concrete Cleaner CONCENTRATE Gal", id: "Enduraclean Polished Concrete Cleaner CONCENTRATE Gal" },
                            { label: "Enduraclean Polished Concrete Cleaner READY-TO-USE 32oz", id: "Enduraclean Polished Concrete Cleaner READY-TO-USE 32oz" },
                            { label: "Enduraclean Terrazzo & Concrete Cleaner 32oz", id: "Enduraclean Terrazzo & Concrete Cleaner 32oz" },
                            { label: "Enduraseal Concrete Sealer 32oz", id: "Enduraseal Concrete Sealer 32oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "VINYLGUARD" && serviceList.typeOfStoneType2 == "Concrete") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Cleaning and Pre-Coat Preparations", id: "Cleaning and Pre-Coat Preparations" },
                            { label: "Stripping Wax", id: "Stripping Wax" },
                            { label: "VinylGuard Installation", id: "VinylGuard Installation" },
                            { label: "Waxing", id: "Waxing" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Glass Material
                    else if (serviceList.serviceType == "CLEANAIR" && serviceList.typeOfStoneType2 == "Glass") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Clean Air Purification Treatments", id: "Clean Air Purification Treatments" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "METALLIFE" && serviceList.typeOfStoneType2 == "Glass") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Metal Cleaning", id: "Metal Cleaning" },
                            { label: "Metal Laquer, Sealing & Protection", id: "Metal Laquer, Sealing & Protection" },
                            { label: "Metal Scratch Removal", id: "Metal Scratch Removal" },
                            { label: "Metal Stripping", id: "Metal Stripping" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Glass") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Glass") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Hone", id: "Hone" },
                            { label: "Polish", id: "Polish" },
                            { label: "Chip Repair", id: "Chip Repair" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Slate Material
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Slate") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Slate") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Vinyl Material
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Vinyl") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Vinyl") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "VINYLGUARD" && serviceList.typeOfStoneType2 == "Vinyl") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Cleaning and Pre-Coat Preparations", id: "Cleaning and Pre-Coat Preparations" },
                            { label: "HONE", id: "HONE" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Stripping Wax", id: "Stripping Wax" },
                            { label: "VinylGuard Installation", id: "VinylGuard Installation" },
                            { label: "Waxing", id: "Waxing" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Terrazzo Material
                    else if (serviceList.serviceType == "CONCRETE-POLISHING(ENDURACRETE)" && serviceList.typeOfStoneType2 == "Terrazzo") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle (Honing & Polishing)", id: "Bundle (Honing & Polishing)" },
                            { label: "Concrete Microtopping Overlayment", id: "Concrete Microtopping Overlayment" },
                            { label: "Concrete Spot Stain Removal", id: "Concrete Spot Stain Removal" },
                            { label: "Concrete Stain Application", id: "Concrete Stain Application" },
                            { label: "Densification", id: "Densification" },
                            { label: "Guard", id: "Guard" },
                            { label: "Honing", id: "Honing" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Terrazzo") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Enduraclean Terrazzo & Concrete Cleaner 32oz", id: "Enduraclean Terrazzo & Concrete Cleaner 32oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Terrazzo") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Wood Material
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Wood") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Wood & Laminate Cleaner 32oz", id: "Wood & Laminate Cleaner 32oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "WOODLIFE" && serviceList.typeOfStoneType2 == "Wood") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Buffing", id: "Buffing" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Re-Coat", id: "Re-Coat" },
                            { label: "Scuffing", id: "Scuffing" },
                            { label: "Scratch & Wear Removal (Sanding)", id: "Scratch & Wear Removal (Sanding)" },
                            { label: "Staining", id: "Staining" },
                            { label: "Top Coat", id: "Top Coat" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Travertine Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Travertine") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Traverfil", id: "Traverfil" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Travertine") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble Cleaner 32 oz Spray", id: "Marble Cleaner 32 oz Spray" },
                            { label: "Marble Cleaner Conc. 32oz", id: "Marble Cleaner Conc. 32oz" },
                            { label: "Marble Cleaner Refill Gallon", id: "Marble Cleaner Refill Gallon" },
                            { label: "Marble Gloss Conditioner 16oz", id: "Marble Gloss Conditioner 16oz" },
                            { label: "Marble Polish 16 oz", id: "Marble Polish 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Travertine") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Gloss-1 (Polish-Harden-Seal)", id: "Bundle Gloss-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)", id: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Bundle Satin-1 (Polish-Harden-Seal)", id: "Bundle Satin-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Satin-2 (Hone-Polish-Harden-Seal)", id: "Bundle Satin-2 (Hone-Polish-Harden-Seal)" },

                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "GRIND", id: "GRIND" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Traverfil", id: "Traverfil" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Travertine") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Granite Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Granite") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Cleaning - Address Mold Stains", id: "Cleaning - Address Mold Stains" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Seam Repair", id: "Seam Repair" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Traverfil", id: "Traverfil" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Granite") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Granite Cleaner 32 oz Spray", id: "Granite Cleaner 32 oz Spray" },
                            { label: "Granite Cleaner Refill Gallon", id: "Granite Cleaner Refill Gallon" },
                            { label: "Granite Gloss conditioner 8oz", id: "Granite Gloss conditioner 8oz" },
                            { label: "Granite Sealer 4 oz Spray", id: "Granite Sealer 4 oz Spray" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble Gloss conditioner 16oz", id: "Marble Gloss conditioner 16oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Granite") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Gloss-1 (Polish-Harden-Seal)", id: "Bundle Gloss-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)", id: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Bundle Satin-1 (Polish-Harden-Seal)", id: "Bundle Satin-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Satin-2 (Hone-Polish-Harden-Seal)", id: "Bundle Satin-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Cleaning - Address Mold Stains", id: "Cleaning - Address Mold Stains" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Granite") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Marble Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Marble") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Marble") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble Cleaner 32 oz Spray", id: "Marble Cleaner 32 oz Spray" },
                            { label: "Marble cleaner Conc. 32oz", id: "Marble cleaner Conc. 32oz" },
                            { label: "Marble cleaner Refill Gallon", id: "Marble cleaner Refill Gallon" },
                            { label: "Marble Gloss conditioner 16oz", id: "Marble Gloss conditioner 16oz" },
                            { label: "Marble Polish 16 oz", id: "Marble Polish 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Marble") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Gloss-1 (Polish-Harden-Seal)", id: "Bundle Gloss-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)", id: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Bundle Satin-1 (Polish-Harden-Seal)", id: "Bundle Satin-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Satin-2 (Hone-Polish-Harden-Seal)", id: "Bundle Satin-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "GRIND", id: "GRIND" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Marble") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Limestone Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Limestone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Limestone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble cleaner Conc. 32oz", id: "Marble cleaner Conc. 32oz" },
                            { label: "Marble cleaner Refill Gallon", id: "Marble cleaner Refill Gallon" },
                            { label: "Marble Cleaner 32 oz Spray", id: "Marble Cleaner 32 oz Spray" },
                            { label: "Marble Gloss conditioner 16oz", id: "Marble Gloss conditioner 16oz" },
                            { label: "Marble Polish 16 oz", id: "Marble Polish 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Limestone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Gloss-1 (Polish-Harden-Seal)", id: "Bundle Gloss-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)", id: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Bundle Satin-1 (Polish-Harden-Seal)", id: "Bundle Satin-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Satin-2 (Hone-Polish-Harden-Seal)", id: "Bundle Satin-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "GRIND", id: "GRIND" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Limestone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Metal Material
                    else if (serviceList.serviceType == "METALLIFE" && serviceList.typeOfStoneType2 == "Metal") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Metal Cleaning", id: "Metal Cleaning" },
                            { label: "Metal Laquer, Sealing & Protection", id: "Metal Laquer, Sealing & Protection" },
                            { label: "Metal Scratch Removal", id: "Metal Scratch Removal" },
                            { label: "Metal Stripping", id: "Metal Stripping" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Metal") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Gloss conditioner 16oz", id: "Gloss conditioner 16oz" },
                            { label: "Granite Cleaner 32 oz Spray", id: "Granite Cleaner 32 oz Spray" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Porcelain Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Porcelain") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Porcelain") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Porcelain") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Quartz Material
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Quartz") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Gloss conditioner 16oz", id: "Gloss conditioner 16oz" },
                            { label: "Granite Cleaner 32 oz Spray", id: "Granite Cleaner 32 oz Spray" },
                            { label: "Granite Cleaner Refill Gallon", id: "Granite Cleaner Refill Gallon" },
                            { label: "Granite Gloss conditioner 8oz", id: "Granite Gloss conditioner 8oz" },
                            { label: "Granite Sealer 4 oz Spray", id: "Granite Sealer 4 oz Spray" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "TILEINSTALL" && serviceList.typeOfStoneType2 == "Quartz") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Grout & Tile Sealing", id: "Grout & Tile Sealing" },
                            { label: "Grout Haze Removal", id: "Grout Haze Removal" },
                            { label: "Grout Sealing - Clear", id: "Grout Sealing - Clear" },
                            { label: "Grouting", id: "Grouting" },
                            { label: "Tile Installation", id: "Tile Installation" },
                            { label: "Tile Removal", id: "Tile Removal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Brick Material
                    else if (serviceList.serviceType == "COLORSEAL" && serviceList.typeOfStoneType2 == "Brick") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "No Service Available", id: "No Service Available" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if ((serviceList.serviceType == "CONCRETE-COATINGS" || serviceList.serviceType == "CONCRETE-COUNTERTOPS") && serviceList.typeOfStoneType2 == "Brick") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Hone", id: "Hone" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Seal", id: "Seal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Brick") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Brick") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Brick") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grind", id: "Grind" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Engineered Stone:Cesar, Engineered Stone:Corian, Engineered Stone:Other, Engineered Stone:Zodiaq Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && ((serviceList.typeOfStoneType2 == "Engineered Stone:Cesar") || (serviceList.typeOfStoneType2 == "Engineered Stone:Corian") || (serviceList.typeOfStoneType2 == "Engineered Stone:Other") || (serviceList.typeOfStoneType2 == "Engineered Stone:Zodiaq"))) {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && ((serviceList.typeOfStoneType2 == "Engineered Stone:Cesar") || (serviceList.typeOfStoneType2 == "Engineered Stone:Corian") || (serviceList.typeOfStoneType2 == "Engineered Stone:Other") || (serviceList.typeOfStoneType2 == "Engineered Stone:Zodiaq"))) {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Granite Cleaner 32 oz Spray", id: "Granite Cleaner 32 oz Spray" },
                            { label: "Granite Cleaner Refill Gallon", id: "Granite Cleaner Refill Gallon" },
                            { label: "Granite Gloss conditioner 8oz", id: "Granite Gloss conditioner 8oz" },
                            { label: "Granite Sealer 4 oz Spray", id: "Granite Sealer 4 oz Spray" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Flagstone Material
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Flagstone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "GROUTLIFE/TILELOK" && serviceList.typeOfStoneType2 == "Flagstone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean/Colorseal/ Interlok", id: "Bundle Clean/Colorseal/ Interlok" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Colorseal", id: "Colorseal" },
                            { label: "Colorseal-Hydroforce", id: "Colorseal-Hydroforce" },
                            { label: "Colorseal-Powerscrub", id: "Colorseal-Powerscrub" },
                            { label: "Colorseal-Powerwash", id: "Colorseal-Powerwash" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Flagstone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble Cleaner 32 oz Spray", id: "Marble Cleaner 32 oz Spray" },
                            { label: "Marble cleaner Conc. 32oz", id: "Marble cleaner Conc. 32oz" },
                            { label: "Marble cleaner Refill Gallon", id: "Marble cleaner Refill Gallon" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Flagstone") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "GRIND", id: "GRIND" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Other", id: "Other" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Marble (Tumbled) Material
                    else if (serviceList.serviceType == "COLORSEAL" && serviceList.typeOfStoneType2 == "Marble (Tumbled)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "No Service Available", id: "No Service Available" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Marble (Tumbled)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "GROUTLIFE/TILELOK" && serviceList.typeOfStoneType2 == "Marble (Tumbled)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean/Colorseal/ Interlok", id: "Bundle Clean/Colorseal/ Interlok" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Colorseal", id: "Colorseal" },
                            { label: "Colorseal-Hydroforce", id: "Colorseal-Hydroforce" },
                            { label: "Colorseal-Powerscrub", id: "Colorseal-Powerscrub" },
                            { label: "Colorseal-Powerwash", id: "Colorseal-Powerwash" },
                            { label: "Grout Repair", id: "Grout Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Powerwash Cleaning", id: "Powerwash Cleaning" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Rebond", id: "Tile Rebond" },
                            { label: "Tile Replacement", id: "Tile Replacement" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Marble (Tumbled)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "Marble Cleaner 32 oz Spray", id: "Marble Cleaner 32 oz Spray" },
                            { label: "Marble cleaner Conc. 32oz", id: "Marble cleaner Conc. 32oz" },
                            { label: "Marble cleaner Refill Gallon", id: "Marble cleaner Refill Gallon" },
                            { label: "Marble Gloss conditioner 16oz", id: "Marble Gloss conditioner 16oz" },
                            { label: "Marble Polish 16 oz", id: "Marble Polish 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Mold & Mildew Stain Remover 32oz Spray", id: "Mold & Mildew Stain Remover 32oz Spray" },
                            { label: "Mold & Mildew Stain Remover Gallon", id: "Mold & Mildew Stain Remover Gallon" },
                            { label: "Soap Scum Remover 16oz", id: "Soap Scum Remover 16oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Marble (Tumbled)") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Bundle Gloss-1 (Polish-Harden-Seal)", id: "Bundle Gloss-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)", id: "Bundle Gloss-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Bundle Matte (Hone-Seal)", id: "Bundle Matte (Hone-Seal)" },
                            { label: "Bundle Satin-1 (Polish-Harden-Seal)", id: "Bundle Satin-1 (Polish-Harden-Seal)" },
                            { label: "Bundle Satin-2 (Hone-Polish-Harden-Seal)", id: "Bundle Satin-2 (Hone-Polish-Harden-Seal)" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grind", id: "Grind" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Polishing", id: "Polishing" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For Mexican Tile Material
                    else if (serviceList.serviceType == "COLORSEAL" && serviceList.typeOfStoneType2 == "Mexican Tile") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "No Service Available", id: "No Service Available" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Mexican Tile") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Honing", id: "Honing" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Tile Replacement", id: "Tile Replacement" },
                            { label: "Other", id: "Other" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "GROUTLIFE/TILELOK" && serviceList.typeOfStoneType2 == "Mexican Tile") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean/Colorseal/ Interlok", id: "Bundle Clean/Colorseal/ Interlok" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Colorseal", id: "Colorseal" },
                            { label: "Colorseal-Hydroforce", id: "Colorseal-Hydroforce" },
                            { label: "Colorseal-Powerscrub", id: "Colorseal-Powerscrub" },
                            { label: "Colorseal-Powerwash", id: "Colorseal-Powerwash" },
                            { label: "Grout Repair", id: "Grout Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Powerwash Cleaning", id: "Powerwash Cleaning" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Rebond", id: "Tile Rebond" },
                            { label: "Tile Replacement", id: "Tile Replacement" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "PRODUCT" && serviceList.typeOfStoneType2 == "Mexican Tile") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Floor Cleaner Concentrate Gallon", id: "Floor Cleaner Concentrate Gallon" },
                            { label: "Grout Sealer 16 oz", id: "Grout Sealer 16 oz" },
                            { label: "MaxOut Concentrate Gallon", id: "MaxOut Concentrate Gallon" },
                            { label: "MaxOut Grout Cleaner 32 oz", id: "MaxOut Grout Cleaner 32 oz" },
                            { label: "Stone Sealer 16 oz", id: "Stone Sealer 16 oz" },
                            { label: "Tile Cleaner 32oz Spray", id: "Tile Cleaner 32oz Spray" },
                            { label: "Tile Cleaner Concentrate 32 oz", id: "Tile Cleaner Concentrate 32 oz" },
                            { label: "Tile Cleaner Refill Gallon", id: "Tile Cleaner Refill Gallon" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Mexican Tile") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean & Protect", id: "Bundle Clean & Protect" },
                            { label: "Bundle Clean & Seal", id: "Bundle Clean & Seal" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Coating", id: "Coating" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hard Water Removal", id: "Hard Water Removal" },
                            { label: "Hardening", id: "Hardening" },
                            { label: "Honing", id: "Honing" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Mold Stain Removal", id: "Mold Stain Removal" },
                            { label: "Other", id: "Other" },
                            { label: "Sealing", id: "Sealing" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Replacement", id: "Tile Replacement" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }


                    //For Common List of Services
                    // For List of Services- Hone, Polish, Chip Repair, Crack Repair, Seal
                    else if (
                        (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Slate") ||
                        (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Concrete") ||
                        (serviceList.serviceType == "CONCRETE-REPAIR" && serviceList.typeOfStoneType2 == "Concrete") ||
                        (serviceList.serviceType == "CONCRETE-COUNTERTOPS" && serviceList.typeOfStoneType2 == "Concrete") ||
                        (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Slate") ||
                        (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Vinyl") ||
                        (serviceList.serviceType == "CONCRETE-REPAIR" && serviceList.typeOfStoneType2 == "Terrazzo") ||
                        (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Terrazzo") ||
                        (serviceList.serviceType == "COUNTERLIFE" && serviceList.typeOfStoneType2 == "Quartz") ||
                        (serviceList.serviceType == "STONELIFE" && serviceList.typeOfStoneType2 == "Quartz") ||
                        (serviceList.serviceType == "CONCRETE-OVERLAYMENTS" && serviceList.typeOfStoneType2 == "Brick")
                    ) {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Hone", id: "Hone" },
                            { label: "Polish", id: "Polish" },
                            { label: "Chip Repair", id: "Chip Repair" },
                            { label: "Crack Repair", id: "Crack Repair" },
                            { label: "Seal", id: "Seal" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For CLEANSHIELD
                    else if (
                        (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Granite") ||
                        (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Travertine") ||
                        (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Marble") ||
                        (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Limestone") ||
                        (serviceList.serviceType == "CLEANSHIELD" && serviceList.typeOfStoneType2 == "Quartz")
                    ) {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Cleanshield", id: "Cleanshield" },
                            { label: "Hone", id: "Hone" }
                        ]
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For GROUTLIFE/TILELOK
                    else if (serviceList.serviceType == "GROUTLIFE/TILELOK" && ((serviceList.typeOfStoneType2 == "Travertine") || (serviceList.typeOfStoneType2 == "Terrazzo") || (serviceList.typeOfStoneType2 == "Vinyl") || (serviceList.typeOfStoneType2 == "Slate") || (serviceList.typeOfStoneType2 == "Granite") || (serviceList.typeOfStoneType2 == "Marble") || (serviceList.typeOfStoneType2 == "Limestone") || (serviceList.typeOfStoneType2 == "Porcelain") || (serviceList.typeOfStoneType2 == "Quartz") || (serviceList.typeOfStoneType2 == "Brick"))) {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Bundle Clean/Colorseal/ Interlok", id: "Bundle Clean/Colorseal/ Interlok" },
                            { label: "Caulking", id: "Caulking" },
                            { label: "Ceramic", id: "Ceramic" },
                            { label: "Cleaning", id: "Cleaning" },
                            { label: "Colorseal", id: "Colorseal" },
                            { label: "Colorseal-Hydroforce", id: "Colorseal-Hydroforce" },
                            { label: "Colorseal-Powerwash", id: "Colorseal-Powerwash" },
                            { label: "Colorseal-Powerscrub", id: "Colorseal-Powerscrub" },
                            { label: "Grout Repair", id: "Grout Repair" },
                            { label: "Grout Replacement", id: "Grout Replacement" },
                            { label: "Hydroforce Cleaning", id: "Hydroforce Cleaning" },
                            { label: "Powerwash Cleaning", id: "Powerwash Cleaning" },
                            { label: "Stain Removal", id: "Stain Removal" },
                            { label: "Stripping Carpet Adhesive", id: "Stripping Carpet Adhesive" },
                            { label: "Stripping-Silicone", id: "Stripping-Silicone" },
                            { label: "Stripping-Unknown", id: "Stripping-Unknown" },
                            { label: "Stripping-Urethane", id: "Stripping-Urethane" },
                            { label: "Stripping-Wax", id: "Stripping-Wax" },
                            { label: "Tile Rebond", id: "Tile Rebond" },
                            { label: "Tile Replacement", id: "Tile Replacement" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For SALESTAX
                    else if (serviceList.serviceType == "SALESTAX") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Products", id: "Products" },
                            { label: "Service", id: "Service" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    //For MAINTENANCE
                    else if (serviceList.serviceType == "MAINTENANCE:BI-MONTHLY") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "MAINTENANCE:Bi-Monthly", id: "MAINTENANCE:Bi-Monthly" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "MAINTENANCE:MONTHLY") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "MAINTENANCE:Monthly", id: "MAINTENANCE:Monthly" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "MAINTENANCE:OTHER") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "Maintenance:(Other)", id: "Maintenance:(Other)" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else if (serviceList.serviceType == "MAINTENANCE:QUARTERLY") {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "MAINTENANCE:Quarterly", id: "MAINTENANCE:Quarterly" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    else {
                        vm.serviceTypeForInvoice = [];
                        vm.serviceTypeForInvoice = [
                            { label: "No Service Available", id: "No Service Available" }
                        ];
                        vm.serviceTypeForInvoiceList[index] = [];
                        vm.serviceTypeForInvoiceList[index] = vm.serviceTypeForInvoice;
                    }
                    serviceList.serviceIds = [];
                    serviceList.subItem = [];
                    serviceList.description = '';
                    vm.estimateInvoiceInfo.serviceList[index].option1 = 0;
                    vm.option1 = 0;

                    UpdateServiceTypeList(serviceList, index);

                    //changeService(index);
                }

                function moveToTop() {
                    if (vm.sideMenuText == "Invoice Notes") {
                        //$window.scrollTo(0, 0);
                        $location.hash('endOfPage');
                        vm.sideMenuText = "Customer Invoice";
                        // call $anchorScroll()
                        $anchorScroll();
                    }
                    else {
                        $window.scrollTo(0, 0);
                        vm.sideMenuText = "Invoice Notes";
                    }
                }
                function onScrollLeft(event) {
                    var elmnt = document.getElementById("div-invoice");
                    //elmnt.scrollTop = 10;
                    if (elmnt.scrollLeft > 0) {
                        elmnt.scrollLeft = 0;
                        vm.moveRightView = false;
                        vm.moveLeftView = true;
                    }
                    else {
                        elmnt.scrollLeft = 1350;
                        vm.moveRightView = true;
                        vm.moveLeftView = false;
                    }
                    console.log(elmnt.scrollLeft);
                }

                function checkingForInvoiceNumber(index) {
                    var isValueCorrect = false;
                    if (index != undefined) {
                        var currentService = vm.estimateInvoiceInfo.serviceList[index];

                        var servicesHavingSameInvoiceIncludingCurrent = $filter('filter')(vm.estimateInvoiceInfo.serviceList, { invoiceNumber: currentService.invoiceNumber }, true);
                        var isDone = false;

                        var index = servicesHavingSameInvoiceIncludingCurrent.indexOf(currentService);
                        servicesHavingSameInvoiceIncludingCurrent.splice(index, 1);

                        angular.forEach(servicesHavingSameInvoiceIncludingCurrent, function (value1) {

                            if (!isDone) {

                                if ((value1.serviceType == "CONCRETE-COATINGS" || value1.serviceType == "CONCRETE-POLISHING(ENDURACRETE)")
                                    && (currentService.serviceType != "CONCRETE-COATINGS" && currentService.serviceType != "CONCRETE-POLISHING(ENDURACRETE)")) {
                                    currentService.invoiceNumber = currentService.oldInvoiceNumber;
                                    isDone = true;
                                    toaster.error('Enduracrete & Concrete - Coatings Invoice are separated as they have different T&Cs.');
                                }

                                else if ((value1.serviceType != "CONCRETE-COATINGS" && value1.serviceType != "CONCRETE-POLISHING(ENDURACRETE)")
                                    && (currentService.serviceType == "CONCRETE-COATINGS" || currentService.serviceType == "CONCRETE-POLISHING(ENDURACRETE)")) {
                                    currentService.invoiceNumber = currentService.oldInvoiceNumber;
                                    isDone = true;
                                    toaster.error('Enduracrete & Concrete - Coatings Invoice are separated as they have different T&Cs.');
                                }
                                else {
                                    currentService.oldInvoiceNumber = currentService.invoiceNumber;
                                    optionWiseTotal();
                                }
                            }
                        });

                        if (servicesHavingSameInvoiceIncludingCurrent.length == 0) {
                            currentService.oldInvoiceNumber = currentService.invoiceNumber;
                            optionWiseTotal();
                        }
                    }
                    if (isValueCorrect) {
                        isValueCorrect = false;
                        return;
                    }
                    vm.estimateInvoiceInfo.serviceList = $filter('orderBy')(vm.estimateInvoiceInfo.serviceList, 'invoiceNumber')
                    angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value1, index) {
                        fillingServiceModel(value1, index);
                    });
                }

                function openSignatureModal() {
                    var count = 0;
                    angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value, index1) {
                        if (value.serviceIds.length == 0) {
                            toaster.error('Please select Service from List Of Service!');
                            count = count + 1;
                            return;
                        }
                    });
                    if (count == 0) {
                        var modalInstance = $uibModal.open({
                            animation: true,
                            templateUrl: 'modules/scheduler/views/modal.esignature.client.view.html',
                            controller: 'ESignatureModal',
                            controllerAs: 'vm',
                            size: 'lg',
                            resolve: {
                                modalParam: function () {
                                    return {
                                        CustomerName: vm.estimateInfo.jobCustomer.customerName,
                                        JobSchedulerId: vm.estimateInfo.schedulerId,
                                        EstimateInvoiceId: vm.estimateInvoiceInfo.id != 0 ? vm.estimateInvoiceInfo.id : vm.estimateInfo.estimateInvoiceId,
                                        CustomerId: vm.estimateInfo.jobCustomer.customerId,
                                        JobSignature: angular.copy(vm.estimateInfo.jobSignature),
                                        AllInvoiceNumbersSigned: vm.estimateInfo.allInvoiceNumbersSigned,
                                        Services: angular.copy(vm.estimateInvoiceInfo.serviceList),
                                        EstimateDate: vm.estimateInfo.startDate,
                                        IsFromJob: false,
                                        JobOrginialSchedulerId: null,
                                        TypeId: 289
                                    };
                                }
                            },
                            backdrop: 'static',
                        });
                        modalInstance.result.then(function () {
                        }, function () {
                            //vm.imageParentChildListModel.beforeAfterImages = [];
                            getEstimateInfo();
                        });
                    }
                }

                function crossingInvoiceItem(serviceList, tobeCross) {
                    serviceList.isCross = tobeCross;
                    if (!tobeCross)
                        serviceList.borderColor = "transparent";
                    else
                        serviceList.borderColor = "red";
                }

                function shiftImages() {
                    vm.shiftImagesModel.estimateId = vm.estimateId;
                    vm.shiftImagesModel.schedulerId = vm.rowId;
                    vm.shiftImagesModel.marketingClass = vm.estimateInvoiceInfo.marketingClass;
                    vm.shiftImagesModel.marketingClassId = vm.estimateInfo.marketingClassId;
                    vm.shiftImagesModel.fileIds = [];
                    vm.shiftImagesModel.shiftId = 121;
                    if (serviceDomain.afterImages.imagesInfo.length > 0) {
                        angular.forEach(vm.serviceDomain.afterImages.imagesInfo, function (imagesInfo) {
                            vm.shiftImagesModel.fileIds.push(imagesInfo.fileId);
                        });
                    }
                    if (serviceDomain.beforeImages.imagesInfo.length > 0) {
                        angular.forEach(vm.serviceDomain.beforeImages.imagesInfo, function (imagesInfo) {
                            vm.shiftImagesModel.fileIds.push(imagesInfo.fileId);
                        });
                    }
                    return schedulerService.shiftImagesToInvoiceBuildMaterial(vm.shiftImagesModel).then(function (result) {

                    });
                }

                function activateModal(serviceDomain) {
                    vm.serviceDomain = serviceDomain;
                    $('#exampleModal').modal('show');
                }

                function closeModal() {
                    $('#exampleModal').modal('hide');
                }

                function shiftModal(serviceDomain) {

                    vm.serviceDomain = serviceDomain;
                    vm.shiftImagesModel.estimateId = vm.estimateId;
                    vm.shiftImagesModel.schedulerId = vm.rowId;
                    vm.shiftImagesModel.marketingClass = vm.estimateInvoiceInfo.marketingClass;
                    vm.shiftImagesModel.marketingClassId = vm.estimateInfo.marketingClassId;
                    vm.shiftImagesModel.fileIds = [];
                    vm.shiftImagesModel.shiftId = 121;

                    if (serviceDomain.imagesInfo.length > 0) {
                        angular.forEach(serviceDomain.imagesInfo, function (imagesInfo) {
                            vm.shiftImagesModel.fileIds.push(imagesInfo.fileId);
                        });
                    }

                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/modal.shift.image.client.view.html',
                        controller: 'ShiftImageController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    ShiftImagesModel: vm.shiftImagesModel,
                                    ImagesInfo: serviceDomain.imagesInfo
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                    }, function () {
                    });
                }

                $rootScope.$on('isShiftSave', function (event, data) {
                    vm.isSaved = true;
                    vm.jobEstimateImageActive = [];
                    angular.copy(vm.jobEstimateImage, vm.jobEstimateImageActive);
                    vm.imagesInfoModel = vm.serviceDomain.imagesInfo;
                    //vm.jobEstimateImageActive = vm.jobEstimateImage;
                    $scope.shiftingImageActive = true;
                    //vm.serviceDomain.imagesInfo = [];
                    vm.save(true);
                    vm.isFromShift = true;

                });

                function shiftingImage() {
                    if (vm.shiftImagesModel) {
                        vm.shiftModel = vm.shiftImagesModel;
                    }
                    return schedulerService.shiftImagesToInvoiceBuildMaterial(vm.shiftModel).then(function (result) {
                        if (result.data) {
                            if (vm.shiftImagesModel.shiftId == 121) {
                                toaster.show("Images(s) shift to Building Exterior image Successfully!!!");
                            }
                            else if (vm.shiftImagesModel.shiftId == 122) {
                                toaster.show("Images(s) shift to Invoice/Drawing Successfully!!!");
                            }
                            //vm.imagesInfo.imagesInfo = [];
                        }
                        else {
                            if (vm.shiftImagesModel.shiftId == 121) {
                                toaster.error("Error in shifting Images(s) to Building Exterior image !!!");
                            }
                            else if (vm.shiftImagesModel.shiftId == 122) {
                                toaster.show("Error in shifting Images(s) to Invoice/Drawing !!!");
                            }
                        }
                    });
                }

                function addingGlossBundle(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Mask & Protect" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Mask to Protect Surrounding Area.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Cleaning" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Clean Stone to Remove Debris and Neutralize Surface.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Honing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Diamond Hone to Remove Etches & Scratches.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Honing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Honing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Polishing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Polish to restore GLOSS finish.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Hardening" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Harden to Resist Wear and Extend Life of Finish.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Hardening")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Hardening")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Sealing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Seal w/Impregnating Sealer to Resist Staining',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingGlossWithoutHornBundle(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Mask & Protect" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Mask to Protect Surrounding Area.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Cleaning" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Clean Stone to Remove Debris and Neutralize Surface.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Polishing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Polish to restore GLOSS finish.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Hardening" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Harden to Resist Wear and Extend Life of Finish',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Hardening")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Hardening")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Sealing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Seal w/Impregnating Sealer to Resist Staining',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingSatinBundle(service, isSubItem, index, bundleName) {

                    service.subItem.push({
                        serviceIds: { id: "Mask & Protect" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Mask to Protect Surrounding Area.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Cleaning" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Clean Stone to Remove Debris and Neutralize Surface.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Honing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Diamond Hone to Remove Etches & Scratches',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Honing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Honing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Polishing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Polish to restore Satin/Semi-Gloss finish.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Hardening" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Harden to Resist Wear and Extend Life of Finish.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Hardening")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Hardening")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Sealing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Seal w/Impregnating Sealer to Resist Staining.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingMatteBundle(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Mask & Protect" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Mask to Protect Surrounding Area.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Cleaning" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Clean Stone to Remove Debris and Neutralize Surface.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Honing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Diamond Hone to Remove Etches & Scratches',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Honing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Honing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Sealing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Seal w/Impregnating Sealer to Resist Staining.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingSatinWithoutHoneBundle(service, isSubItem, index, bundleName) {

                    service.subItem.push({
                        serviceIds: { id: "Mask & Protect" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Mask to Protect Surrounding Area.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Cleaning" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Clean Stone to Remove Debris and Neutralize Surface.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Polishing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Polish to restore Satin/Semi-Gloss finish.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Hardening" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Harden to Resist Wear and Extend Life of Finish.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Hardening")[0],
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Hardening")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Sealing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Seal w/Impregnating Sealer to Resist Staining.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingCleanBundle(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Cleaning" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Clean Stone to Remove Debris and Neutralize Surface.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Sealing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Seal w/Impregnating Sealer to Resist Staining.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Sealing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingCleanAndProtectBundle(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Mask & Protect" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Mask to Protect Surrounding Area.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Mask & Protect")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Cleaning" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Clean Stone to Remove Debris and Neutralize Surface.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Cleaning")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Honing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Diamond Hone to Remove Etches & Scratches.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Honing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Honing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Polishing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Polish to restore GLOSS finish.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                }

                function addingGroutCleanSealBundle(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Hydroforce Cleaning" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('<ul style="margin-left: -29px;"><li>Mask to Protect surrounding area, Pre-Spray Tile and Grout, Agitate, Extract with Hydro-Force 900psi 230 degree.</li></ul>'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Hydroforce Cleaning")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Hydroforce Cleaning")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Colorsealing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('<ul style="margin-left: -29px;" ><li>Mask to Protect Surrounding Area</li><li>Pre-Spray Tile and Grout</li> <li>Power-scrub & Extract</li><li>ColorSeal Grout to Uniform Appearance.</li><li>RESULT:  MARBLELIFEs Proprietary ColorSeal system provides better-than-new grout stain resistance while restoring a uniform color, easy to maintain grout surface</li></ul>'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Colorsealing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Colorsealing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Interlok" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Enrich tile color and sheen.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Interlok")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Interlok")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundleCleanResealConcrete(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Clean" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Powerwash to remove dirt and oil from surface.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Clean")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Clean")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Reseal" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Seal to resist staining.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Reseal")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Reseal")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundleStripCleanResealConcrete(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Strip" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Strip to remove existing coating.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Strip")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Strip")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Clean" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Powerwash to remove dirt and oil from surface.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Clean")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Clean")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Reseal" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Seal to resist staining.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Reseal")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Reseal")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepAndCoatEpoxyOnly(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepAndCoatEpoxyEpoxy(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Top coat seals in chips.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepAndCoatPolySparticOnly(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepAndCoatEpoxyMVBOnly(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "MVB-Base Coat (Semiron-Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB-Base Coat (Semiron-Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB-Base Coat (Semiron-Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepAndCoatEpoxyPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepAndEpoxyChipNoMVBEpoxyVinylChipEpoxy(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Vinyl Chips (Standard)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip provides texture and color'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Top coat seals in chips.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepAndEpoxyChipNoMVBEpoxyQuartzChipEpoxy(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Quartz Chips" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with enhanced traction surface - gritty surface'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Top coat seals in chips.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepAndEpoxyChipNoMVBEpoxyACSChipEpoxy(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "ACS Chips" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with smooth surface for ease cleaning and enhanced scorch resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Top coat seals in chips.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyVinylChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Vinyl Chips (Standard)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip provides texture and color'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyQuartzChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Quartz Chips" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with enhanced traction surface - gritty surface'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyACSChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "ACS Chips" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with smooth surface for ease cleaning and enhanced scorch resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyVinylChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "MVB (Moisture Vapor Barrier)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Vinyl Chips (Standard)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip provides texture and color'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyQuartzChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "MVB (Moisture Vapor Barrier)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Quartz Chips" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with enhanced traction surface - gritty surface'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyACSChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "MVB (Moisture Vapor Barrier)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "ACS Chips" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with smooth surface for ease cleaning and enhanced scorch resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticVinylChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Vinyl Chips (Standard)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip provides texture and color'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticQuartzChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Quartz Chips" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with enhanced traction surface - gritty surface'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticACSChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "ACS Chips" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with smooth surface for ease cleaning and enhanced scorch resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepEpoxyMVBPolySparticSemironVinylChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "MVB-Base Coat (Semiron-Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB-Base Coat (Semiron-Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB-Base Coat (Semiron-Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Vinyl Chips (Standard)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip provides texture and color'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepEpoxyMVBPolySparticSemironQuartzChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "MVB-Base Coat (Semiron-Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB-Base Coat (Semiron-Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB-Base Coat (Semiron-Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Quartz Chips" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with enhanced traction surface - gritty surface'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepEpoxyMVBPolySparticSemironACSChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "MVB-Base Coat (Semiron-Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB-Base Coat (Semiron-Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB-Base Coat (Semiron-Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "ACS Chips" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with smooth surface for ease cleaning and enhanced scorch resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepMVBPolySparticPolySparticSemironVinylChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "MVB (Moisture Vapor Barrier)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Vinyl Chips (Standard)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip provides texture and color'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Vinyl Chips (Standard)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepMVBPolySparticPolySparticSemironQuartzChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "MVB (Moisture Vapor Barrier)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Quartz Chips " },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with enhanced traction surface - gritty surface'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips ")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Quartz Chips ")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepMVBPolySparticPolySparticSemironACSChipPolySpartic(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "MVB (Moisture Vapor Barrier)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "ACS Chips " },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Endurachip with enhanced traction surface - gritty surface'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips ")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "ACS Chips ")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundlePrepMarblized(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Concrete Floor Prep Grind" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Grind Concrete floor to prepare floor to accept concrete coating.  (Grinding increases total surface area increasing strength of coating adhesion).'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Concrete Floor Prep Grind")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "MVB (Moisture Vapor Barrier)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Moisture Vapor Barrier protects floor from delamination due to moisture vapor pressure from beneath building.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "MVB (Moisture Vapor Barrier)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Base Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Base coat provides base color and bonds chips to floor.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Base Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "2nd Color Coat (Epoxy)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Second Color coat used to create marblized 3D effect in coating.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "2nd Color Coat (Epoxy)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "2nd Color Coat (Epoxy)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                    service.subItem.push({
                        serviceIds: { id: "Top Coat (Polyspartic)" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: ('Polyspartic Top coat seals chips, provides hot tire and enhanced UV resistance.'),
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        isList: false,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Top Coat (Polyspartic)")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundleHoningAndPolishing(service, isSubItem, index, bundleName) {
                    service.subItem.push({
                        serviceIds: { id: "Honing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Diamond Hone to Remove Etches & Scratches',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Honing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Honing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });

                    service.subItem.push({
                        serviceIds: { id: "Polishing" },
                        option1: 0,
                        option2: 0,
                        option3: 0,
                        description: 'Polish to restore Satin/Semi-Gloss finish.',
                        notes: '',
                        serviceType: service.serviceType,
                        id: 0,
                        isBundle: true,
                        bundleName: bundleName,
                        isActive: true,
                        salesPersonNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[0],
                        informationNote: getBundleSalesPersonNotes(service.serviceType, service.typeOfStoneType2, "Polishing")[1],
                        class: "blinka",
                        serviceTypeId: getServiceTypeId(service),
                        unitType: getUnitTypeId(getServiceTypeId(service))
                    });
                }

                function addingBundles(service, bundleName, isSubItem, index) {
                    switch (bundleName) {
                        case 'Bundle Gloss-2-(Hone-Polish-Harden-Seal)':
                            vm.addingGlossBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Gloss-1-(Polish-Harden-Seal)':
                            vm.addingGlossWithoutHornBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Satin-(Hone-Polish-Harden-Seal)':
                            vm.addingSatinBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Matte-(Hone-Seal)':
                            vm.addingMatteBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Satin without Hone-(Polish-Harden-Seal)':
                            vm.addingSatinWithoutHoneBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Clean & Seal':
                            vm.addingCleanBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Clean & Protect':
                            vm.addingCleanAndProtectBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Gloss-(Hone-Polish-Harden-Seal)':
                            vm.addingGlossBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Gloss without Hone-(Polish-Harden-Seal)':
                            vm.addingGlossWithoutHornBundle(service, isSubItem, index, bundleName);
                            break;

                        case 'Bundle Matte-2-(Hone-Seal)':
                            vm.addingMatteBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Satin-1-Hone-(Polish-Harden-Seal)':
                            vm.addingSatinWithoutHoneBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Gloss-2-(Hone-Polish-Harden-Seal)':
                            vm.addingGlossBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Gloss-1-(Polish-Harden-Seal)':
                            vm.addingGlossWithoutHornBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Satin-1-Hone-(Polish-Harden-Seal)':
                            vm.addingSatinWithoutHoneBundle(service, isSubItem, index, bundleName);
                            break;


                        case 'Bundle Matte-2 (Hone-Seal)':
                            vm.addingMatteBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Satin-1 (Polish-Harden-Seal)':
                            vm.addingSatinWithoutHoneBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Gloss-2 (Hone-Polish-Harden-Seal)':
                            vm.addingGlossBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Gloss-1 (Polish-Harden-Seal)':
                            vm.addingGlossWithoutHornBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Satin-2 (Hone-Polish-Harden-Seal)':
                            vm.addingSatinBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Matte (Hone-Seal)':
                            vm.addingMatteBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Matte-(Hone-Seal)':
                            vm.addingMatteBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Clean/Colorseal/ Interlok':
                            vm.addingGroutCleanSealBundle(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Clean & Reseal':
                            vm.addingBundleCleanResealConcrete(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Strip, Clean & Reseal':
                            vm.addingBundleStripCleanResealConcrete(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep & Coat Epoxy Only':
                            vm.addingBundlePrepAndCoatEpoxyOnly(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep & Coat Epoxy-Epoxy':
                            vm.addingBundlePrepAndCoatEpoxyEpoxy(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep & Coat Poly Spartic Only':
                            vm.addingBundlePrepAndCoatPolySparticOnly(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep & Coat Epoxy-MVB Only':
                            vm.addingBundlePrepAndCoatEpoxyMVBOnly(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep & Coat Epoxy-Poly Spartic':
                            vm.addingBundlePrepAndCoatEpoxyPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep & Epoxy Chip -(No MVB) Epoxy - Vinyl Chip - Epoxy':
                            vm.addingBundlePrepAndEpoxyChipNoMVBEpoxyVinylChipEpoxy(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep & Epoxy Chip -(No MVB) Epoxy - Quartz Chip - Epoxy':
                            vm.addingBundlePrepAndEpoxyChipNoMVBEpoxyQuartzChipEpoxy(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep & Epoxy Chip -(No MVB) Epoxy - ACS Chip - Epoxy':
                            vm.addingBundlePrepAndEpoxyChipNoMVBEpoxyACSChipEpoxy(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) EPOXY - Vinyl Chip - Poly Spartic':
                            vm.addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyVinylChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) Epoxy - Quartz Chip - Poly Spartic':
                            vm.addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyQuartzChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - Epoxy Chip - Poly Sprtic (No MVB) Epoxy - ACS Chip - Poly Spartic':
                            vm.addingBundlePrepEpoxyChipPolySprticNoMVBEpoxyACSChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - Vinyl Chip - Poly Spartic':
                            vm.addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyVinylChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - Quartz Chip - Poly Spartic':
                            vm.addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyQuartzChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - MVB - Epoxy Chip - Poly Spartic MVB - Epoxy - ACS Chip - Poly Spartic':
                            vm.addingBundlePrepMVBEpoxyChipPolySparticMVBEpoxyACSChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - Vinyl Chip - Poly Spartic':
                            vm.addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticVinylChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - Quartz Chip - Poly Spartic':
                            vm.addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticQuartzChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - Poly Spactic - Chip - Poly Spartic  - No MVB Poly Spartic - ACS Chip - Poly Spartic':
                            vm.addingBundlePrepPolySpacticChipPolySparticNoMVBPolySparticACSChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - Vinyl Chip - Poly Spartic':
                            vm.addingBundlePrepEpoxyMVBPolySparticSemironVinylChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - Quartz Chip - Poly Spartic':
                            vm.addingBundlePrepEpoxyMVBPolySparticSemironQuartzChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - (Epoxy-MVB) - PolySpartic Semiron - ACS Chip - Poly Spartic':
                            vm.addingBundlePrepEpoxyMVBPolySparticSemironACSChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - Vinyl Chip - Poly Spartic':
                            vm.addingBundlePrepMVBPolySparticPolySparticSemironVinylChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - Quartz Chip - Poly Spartic':
                            vm.addingBundlePrepMVBPolySparticPolySparticSemironQuartzChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - MVB - Poly Spartic - Poly Spartic Semiron - ACS Chip - Poly Spartic':
                            vm.addingBundlePrepMVBPolySparticPolySparticSemironACSChipPolySpartic(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle Prep - Marblized Marblize':
                            vm.addingBundlePrepMarblized(service, isSubItem, index, bundleName);
                            break;
                        case 'Bundle (Honing & Polishing)':
                            vm.addingBundleHoningAndPolishing(service, isSubItem, index, bundleName);
                            break;
                        default:
                    }
                }

                function isContainStripping(services) {
                    if (services.serviceType == "STONELIFE" && (services.typeOfStoneType2 == "Marble" || services.typeOfStoneType2 == "Granite")) {
                        angular.forEach(services.subItem, function (value1) {
                            if (value1.serviceIds.id == "Stripping Carpet Adhesive" || value1.serviceIds.id == 'Stripping-Silicone' || value1.serviceIds.id == 'Stripping-Urethane'
                                || value1.serviceIds.id == 'Stripping-Wax' || value1.serviceIds.id == 'Stripping-Unknown') {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Time estimates on stripping operations can fluctuate based on the ease or difficulty of the coating removal process.  Generally for each coat in place, a separate strip operation is required.  Technician and salesperson have no means of pre-estimating how many coating layers are present prior to commencing project.';
                                }
                            }
                            else if (value1.serviceIds.id == "Mold Stain Removal") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (value1.serviceIds.id == "Stain Removal") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (value1.serviceIds.id == "Sealing") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Sealing your surface is recommended to reduce stains.  BE AWARE:  Sealing will NOT protect against acid etching.';
                                }
                            }
                            else if (value1.serviceIds.id == "Sealing" && services.typeOfStoneType2 == "Granite") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Sealing your surface is recommended to reduce stains.  Seals should be re-applied every 2-years.';
                                }
                            }


                        });

                        if (services.subItem.length == 0 && services.serviceIds.length > 0) {
                            if (services.serviceIds[0].id == "Stripping Carpet Adhesive" || services.serviceIds[0].id == 'Stripping-Silicone' || services.serviceIds[0].id == 'Stripping-Urethane'
                                || services.serviceIds[0].id == 'Stripping-Wax' || services.serviceIds[0].id == 'Stripping-Unknown') {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Time estimates on stripping operations can fluctuate based on the ease or difficulty of the coating removal process.  Generally for each coat in place, a separate strip operation is required.  Technician and salesperson have no means of pre-estimating how many coating layers are present prior to commencing project.';
                                }
                            }
                            else if (services.serviceIds[0].id == "Mold Stain Removal") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (services.serviceIds[0].id == "Stain Removal") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (services.serviceIds[0].id == "Sealing") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Sealing your surface is recommended to reduce stains.  BE AWARE:  Sealing will NOT protect against acid etching.';
                                }
                            }
                            else if (services.serviceIds[0].id == "Sealing" && services.typeOfStoneType2 == "Granite") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Sealing your surface is recommended to reduce stains.  Seals should be re-applied every 2-years.';
                                }
                            }
                        }
                    }
                    else if (services.serviceType == "COUNTERLIFE" && services.typeOfStoneType2 == "Marble") {
                        angular.forEach(services.subItem, function (value1) {
                            if (value1.serviceIds.id == "Mold Stain Removal") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (value1.serviceIds.id == "Stain Removal") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (value1.serviceIds.id == "Sealing") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Sealing your surface is recommended to reduce stains.  BE AWARE:  Sealing will NOT protect against acid etching.';
                                }
                            }
                        });
                        if (services.subItem.length == 0 && services.serviceIds.length > 0) {
                            if (services.serviceIds[0].id == "Mold Stain Removal") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (services.serviceIds[0].id == "Stain Removal") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (services.serviceIds[0].id == "Sealing") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Sealing your surface is recommended to reduce stains.  BE AWARE:  Sealing will NOT protect against acid etching.';
                                }
                            }
                        }
                    }
                    else if (services.serviceType == "GROUTLIFE") {

                        angular.forEach(services.subItem, function (value1) {
                            if (value1.serviceIds.id == "Stripping Carpet Adhesive" || value1.serviceIds.id == 'Stripping-Silicone' || value1.serviceIds.id == 'Stripping-Urethane'
                                || value1.serviceIds.id == 'Stripping-Wax' || value1.serviceIds.id == 'Stripping-Unknown') {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Time estimates on stripping operations can fluctuate based on the ease or difficulty of the coating removal process.  Generally for each coat in place, a separate strip operation is required.  Technician and salesperson have no means of pre-estimating how many coating layers are present prior to commencing project.';
                                }
                            }
                        });
                        if (services.subItem.length == 0 && services.serviceIds.length > 0) {
                            if (services.serviceIds[0].id == "Stripping Carpet Adhesive" || services.serviceIds[0].id == 'Stripping-Silicone' || services.serviceIds[0].id == 'Stripping-Urethane'
                                || services.serviceIds[0].id == 'Stripping-Wax' || services.serviceIds[0].id == 'Stripping-Unknown') {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Time estimates on stripping operations can fluctuate based on the ease or difficulty of the coating removal process.  Generally for each coat in place, a separate strip operation is required.  Technician and salesperson have no means of pre-estimating how many coating layers are present prior to commencing project.';
                                }
                            }
                        }
                    }
                    else if (services.serviceType == "CONCRETE-POLISHING(ENDURACRETE)" && services.typeOfStoneType2 == "Concrete & Terrazzo") {

                        angular.forEach(services.subItem, function (value1) {
                            if (value1.serviceIds.id == "Stripping Carpet Adhesive" || value1.serviceIds.id == 'Stripping-Silicone' || value1.serviceIds.id == 'Stripping-Urethane'
                                || value1.serviceIds.id == 'Stripping-Wax' || value1.serviceIds.id == 'Stripping-Unknown') {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Time estimates on stripping operations can fluctuate based on the ease or difficulty of the coating removal process.  Generally for each coat in place, a separate strip operation is required.  Technician and salesperson have no means of pre-estimating how many coating layers are present prior to commencing project.';
                                }
                            }
                            else if (value1.serviceIds.id == "Concrete & Terrazzo") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (value1.serviceIds.id == "Sealing") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Sealing your surface is recommended to reduce stains and exterior weather related spauling.  Seals should be re-applied annually.';
                                }
                            }
                            else if (value1.serviceIds.id == "Sealing") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Sealing your surface is recommended to reduce stains and exterior weather related spauling.  Seals should be re-applied annually.';
                                }
                            }
                            else if (value1.serviceIds.id == "CONCRETE-COUNTERTOPS") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Sealing your surface is recommended to reduce stains and exterior weather related spauling.  Seals should be re-applied annually.';
                                }
                            }
                        });
                        if (services.subItem.length == 0 && services.serviceIds.length > 0) {

                            if (services.serviceIds[0].id == "Stripping Carpet Adhesive" || services[0].serviceIds.id == 'Stripping-Silicone' || services[0].serviceIds.id == 'Stripping-Urethane'
                                || services.serviceIds[0].id == 'Stripping-Wax' || services.serviceIds[0].id == 'Stripping-Unknown') {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Time estimates on stripping operations can fluctuate based on the ease or difficulty of the coating removal process.  Generally for each coat in place, a separate strip operation is required.  Technician and salesperson have no means of pre-estimating how many coating layers are present prior to commencing project.';
                                }
                            }
                            else if (services.serviceIds[0].id == "Concrete & Terrazzo") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (services.serviceIds[0].id == "Sealing") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Sealing your surface is recommended to reduce stains and exterior weather related spauling.  Seals should be re-applied annually.';
                                }
                            }
                            else if (services.serviceIds[0].id == "Sealing") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Sealing your surface is recommended to reduce stains and exterior weather related spauling.  Seals should be re-applied annually.';
                                }
                            }
                            else if (services.serviceIds[0].id == "CONCRETE-COUNTERTOPS") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Sealing your surface is recommended to reduce stains and exterior weather related spauling.  Seals should be re-applied annually.';
                                }
                            }

                        }
                    }
                    else if (services.serviceType == "METALLIFE") {
                        angular.forEach(services.subItem, function (value1) {
                            if (value1.serviceIds.id == "Metal Stripping") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Time estimates on stripping operations can fluctuate based on the ease or difficulty of the coating removal process.  Generally for each coat in place, a separate strip operation is required.  Technician and salesperson have no means of pre-estimating how many coating layers are present prior to commencing project.';
                                }
                            }
                        });
                    }
                    else if (services.serviceType == "VINYLGUARD") {
                        angular.forEach(services.subItem, function (value1) {
                            if (value1.serviceIds.id == "Stripping Wax") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Time estimates on stripping operations can fluctuate based on the ease or difficulty of the coating removal process.  Generally for each coat in place, a separate strip operation is required.  Technician and salesperson have no means of pre-estimating how many coating layers are present prior to commencing project.';
                                }
                            }
                        });

                        if (services.subItem.length == 0 && services.serviceIds.length > 0) {
                            if (services.serviceIds[0].id == "Stripping Wax") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Time estimates on stripping operations can fluctuate based on the ease or difficulty of the coating removal process.  Generally for each coat in place, a separate strip operation is required.  Technician and salesperson have no means of pre-estimating how many coating layers are present prior to commencing project.';
                                }
                            }
                        }
                    }
                    else if (services.serviceType == "COUNTERLIFE" && services.typeOfStoneType2 == "Granite") {
                        angular.forEach(services.subItem, function (value1) {
                            if (value1.serviceIds.id == "Stain Removal") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (value1.serviceIds.id == "Sealing") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Sealing your surface is recommended to reduce stains.  Seal should be re-applied every 2 years.';
                                }
                            }

                        });

                        if (services.subItem.length == 0 && services.serviceIds.length > 0) {
                            if (services.serviceIds[0].id == "Stain Removal") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Stain removal cannot be guaranteed.  Stain removal may take several applications.  There is no way to predict the number of applications required prior to starting.  Customer understands they are paying for the application of treatment, NOT for a successful outcome, as one cannot be guaranteed.  Full Disclosure of stain history, and what cleaners have been attempted can increase likelihood of a successful outcome.  Be Sure to seal surfaces to reduce risk of staining.';
                                }
                            }
                            else if (services.serviceIds[0].id == "Sealing") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Sealing your surface is recommended to reduce stains.  Seal should be re-applied every 2 years.';
                                }
                            }
                        }
                    }

                    else if (services.serviceType == "CLEANSHIELD" && services.typeOfStoneType2 == "Marble") {
                        angular.forEach(services.subItem, function (value1) {
                            if (value1.serviceIds.id == "Cleanshield") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Apply CleanShield with MARBLELIFE proprietary snapcure acid resistant technology.';
                                }
                            }
                            else if (value1.serviceIds.id == "Hone") {
                                if (value1.priceNotes == '' || value1.priceNotes == undefined) {
                                    value1.priceNotes = 'Hone to prepare surface to accept Cleanshield treatment.';
                                }
                            }
                        });
                        if (services.subItem.length == 0 && services.serviceIds.length > 0) {
                            if (services.serviceIds[0].id == "Cleanshield") {
                                if (services.priceNotes == '' || services.services.subItem.length == 0 && services.serviceIds.length > 0 == undefined) {
                                    services.priceNotes = 'Apply CleanShield with MARBLELIFE proprietary snapcure acid resistant technology.';
                                }
                            }
                            else if (services.serviceIds[0].id == "Hone") {
                                if (services.priceNotes == '' || services.priceNotes == undefined) {
                                    services.priceNotes = 'Hone to prepare surface to accept Cleanshield treatment.';
                                }
                            }
                        }
                    }
                    else if (services.serviceType == "MAINTENANCE:MONTHLY" || services.serviceType == "MAINTENANCE:BI-MONTHLY" || services.serviceType == "MAINTENANCE:QUARTERLY" || services.serviceType == "MAINTENANCE:OTHER") {
                        angular.forEach(services.subItem, function (value1) {
                            value1.priceNotes = 'Periodic maintenance - MARBLELIFE GUARENTEES that as long as we are maintaining your surfaces based on our recommended frequency and being cleaned with MARBLELIFE recommended cleaner you will never have to restore your surface again.';
                        });
                        if (services.subItem.length == 0) {
                            if (services.priceNotes == '' || services.priceNotes == undefined) {
                                services.priceNotes = 'Time estimates on stripping operations can fluctuate based on the ease or difficulty of the coating removal process.  Generally for each coat in place, a separate strip operation is required.  Technician and salesperson have no means of pre-estimating how many coating layers are present prior to commencing project.';
                            }
                        }
                    }
                }

                function saveCustomerInvoice(isFromInvoice, isFromDownload) {
                    validation();
                    if (!vm.isDataValid) {
                        toaster.error('Please Complete Prices!!');
                        vm.isDataValid = true;
                        return;
                    }
                    if (vm.estimateInvoiceInfo.invoiceCount == 0 || vm.estimateInvoiceInfo.invoiceCount == '') {
                        toaster.error('Invoice Count Cannot be less than 1');
                        vm.isDataValid = true;
                        return;
                    }
                    if (vm.estimateInvoiceInfo.serviceList.length == 0) {
                        vm.estimateInvoiceInfo.serviceList.push({
                            id: 0,
                            serviceTypeId: 0,
                            serviceType: '',
                            serviceName: [],
                            locationName: [],
                            description: [],
                            location: [],
                            typeOfSurface: [],
                            stoneType: [],
                            typeOfStoneType: [],
                            typeOfStoneColor: [],
                            isNew: true,
                            invoiceNumber: 1,
                            price: 0,
                            editMode: true,
                            serviceIds: [],
                            option1: '0.00',
                            option2: '0.00',
                            option3: '0.00',
                            measurements: [],
                            sumTotalArea: 0,
                            marketingClass: '',
                            notes: '',
                            typeOfStoneType2: []

                        });
                    }
                    getMaterialType(vm.estimateInvoiceInfo.serviceList[0]);
                    angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value1) {
                        vm.serviceIds = [];
                        vm.locationName = [];
                        vm.typeOfStoneColor = [];
                        vm.typeOfSurface = [];
                        vm.typeOfStoneType = [];
                        vm.description = [];
                        vm.typeOfStoneType2 = [];

                        if (value1.serviceIds.length > 0) {
                            vm.serviceIds.push(value1.serviceIds);
                            value1.serviceIds1 = value1.serviceIds;
                        }
                        else {
                            value1.serviceIds1 = [];
                        }
                        if (value1.locationName.length > 0) {
                            vm.locationName.push(value1.locationName);
                            value1.locationName1 = vm.locationName;
                        }
                        else {
                            value1.locationName1 = [];
                        }

                        if (value1.typeOfStoneColor.length > 0) {
                            vm.typeOfStoneColor.push(value1.typeOfStoneColor);
                            value1.typeOfStoneColor1 = vm.typeOfStoneColor;
                        }
                        else {
                            value1.typeOfStoneColor1 = [];
                        }

                        if (value1.typeOfSurface.length > 0) {
                            vm.typeOfSurface.push(value1.typeOfSurface)
                            value1.typeOfSurface1 = (vm.typeOfSurface);
                        }
                        else {
                            value1.typeOfSurface1 = [];
                        }

                        if (value1.typeOfStoneType.length > 0) {
                            vm.typeOfStoneType.push(value1.typeOfStoneType);
                            value1.typeOfStoneType1 = vm.typeOfStoneType;
                        }
                        else {
                            value1.typeOfStoneType1 = [];
                        }

                        if (value1.typeOfStoneType2.length > 0) {
                            vm.typeOfStoneType2.push(value1.typeOfStoneType2);
                            value1.typeOfStoneType3 = (vm.typeOfStoneType2);
                        }
                        else {
                            value1.typeOfStoneType3 = [];
                        }
                    });
                    vm.estimateInvoiceInfo.franchiseeId = $scope.franchiseeId;
                    vm.estimateInvoiceInfo.estimateId = vm.estimateId;
                    vm.estimateInvoiceInfo.schedulerId = vm.rowId;
                    vm.estimateInvoiceInfo.numberOfInvoices = vm.estimateInvoiceInfo.invoiceCount;
                    vm.estimateInvoiceInfo.address = vm.estimateInfo.jobCustomer.address.addressLine1;
                    vm.estimateInvoiceInfo.city = vm.estimateInfo.jobCustomer.address.city + ', ' + vm.estimateInfo.jobCustomer.address.state
                        + ' ' + vm.estimateInfo.jobCustomer.address.zipCode;
                    vm.estimateInvoiceInfo.lessDepositPercentage = vm.estimateInfo.lessDeposit;
                    vm.estimateInvoiceInfo.phoneNumber1 = vm.estimateInfo.jobCustomer.phoneNumber;
                    vm.estimateInvoiceInfo.customerName = vm.estimateInfo.jobCustomer.customerName;
                    vm.estimateInvoiceInfo.email = vm.estimateInfo.jobCustomer.email;
                    vm.estimateInvoiceInfo.isCustomerInvoice = true;
                    calculatingDataByInvoiceNumber();
                    var count = 0;
                    angular.forEach(vm.estimateInvoiceInfo.serviceList, function (value, index1) {
                        if (value.serviceIds.length == 0) {
                            toaster.error('Please select Service from List Of Service!');
                            count = count + 1;
                            return;
                        }
                    });
                    if (count == 0) {
                        return schedulerService.saveInvoiceInfo(vm.estimateInvoiceInfo).then(function (result) {
                            if (result != null) {
                                vm.isDisableButton = false;
                                toaster.show("Invoice Created/Updated Successfully!!");
                                calculatingDataByInvoiceNumber();
                                totalSumForOptions();
                                optionWiseTotal();
                            }
                            openSelectInvoicesModal("Download Customer Invoice(s)", "Download Customer Invoice(s)", false);
                        });
                    }
                }

                function downloadSignedInvoices() {
                    var model = {};
                    model.schedulerId = vm.rowId;
                    model.invoiceNumbers = [];
                    return schedulerService.uploadSignedInvoicesZipFile(model).then(function (result) {
                        vm.fileName = result.data;

                        if (vm.fileName == "") {
                            toaster.error("Please Save the Invoice to Download.");
                            return;
                        }
                        return fileService.downloadCustomerInvoice(result.data).then(function (result) {
                            var blob = new Blob([result.data], { type: "application/zip" });
                            var fileName = vm.fileName + ".zip";
                            var a = document.createElement("a");
                            document.body.appendChild(a);
                            a.style = "display:none";
                            var url = window.URL.createObjectURL(blob);
                            a.href = url;
                            a.download = fileName;
                            a.click();
                            window.URL.revokeObjectURL(url);
                            a.remove();
                            toaster.show("Invoices downloaded successfully. Please check the Download folder to view all the invoices.");
                        });
                    });
                }

                function changeInvoiceRequired(isInvoiceRequired) {
                    vm.invoiceModel = {};
                    vm.invoiceModel.isInvoiceRequired = isInvoiceRequired;
                    vm.invoiceModel.schedulerId = vm.rowId;
                    vm.invoiceModel.invoiceReason = null;
                    if (isInvoiceRequired) {
                        schedulerService.saveInvoiceRequired(vm.invoiceModel).then(function (result) {
                            if (result.data != null) {
                                if (result.data) {
                                    getEstimateInfo();
                                    toaster.show("Invoice Required Status Changed Successfully!!");
                                }
                                else {
                                    toaster.error("Error in changing status Of Invoice Required!!");
                                }
                            }
                        });
                    }
                    else {
                        openInvoiceReasonModal(vm.invoiceModel, "Add a Reason", null);
                    }
                }

                function openInvoiceReasonModal(invoiceModel, modalHeader, reason) {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/modal.invoicereason.client.view.html',
                        controller: 'InvoiceReasonModal',
                        controllerAs: 'vm',
                        size: 'm',
                        resolve: {
                            modalParam: function () {
                                return {
                                    IsInvoiceRequired: invoiceModel != null ? invoiceModel.isInvoiceRequired : false,
                                    JobSchedulerId: invoiceModel != null ? invoiceModel.schedulerId : 0,
                                    Reason: reason,
                                    ModalHeader: modalHeader
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                    }, function () {
                        getEstimateInfo();
                    });
                }

                $scope.$emit("update-title", "");

                function addMeasurements(serviceList, serviceName) {
                    if (serviceList.serviceIds.length == 0) {
                        toaster.error('Please select Service from List Of Service!');
                    }
                    else {
                        var service = serviceList
                        if (service.serviceIds[0] != undefined) {
                            service.serviceName = service.serviceIds[0].id;
                        }
                        else {
                            service.serviceName = service.serviceIds.id;
                        }
                        //if (vm.priceEstimateCollection == null) {
                        //    getList();
                        //}
                        //getList();
                        return schedulerService.getServiceTypeId(service).then(function (result) {
                            if (result != null) {
                                var serviceId = result.data.serviceId;
                                vm.glocalServiceId = serviceId;
                                addMeasurements1(serviceList, serviceName);
                            }
                        });
                    }
                }

                function addMeasurements1(serviceList, serviceName) {
                    
                    
                    serviceList.serviceTypeId = vm.glocalServiceId;
                    serviceList.unitType = getUnitTypeId(vm.glocalServiceId);
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/modal.addMeasurements.client.view.html',
                        controller: 'AddMeasurementsModal',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    JobSchedulerId: vm.estimateInfo.schedulerId,
                                    Service: serviceList,
                                    PriceServiceList: vm.priceEstimateCollection,
                                    ServiceName: serviceName,
                                    ShiftPrice: vm.estimateInfo.shiftChargesViewModel,
                                    ClassType: vm.estimateInfo.jobType,
                                    MaintenanceChargesList: vm.estimateInfo.maintenanceChargesList,
                                    EstimateInvoiceInfo: vm.estimateInvoiceInfo
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                    }, function () {
                        totalSumForOptions();
                        optionWiseTotal();
                        vm.estimateInfo.jobType = vm.estimateInvoiceInfo.marketingClass;
                    });
                }


                function calculateSumTotalArea(value, index) {
                    value.sumTotalArea = 0;
                    angular.forEach(value.measurements, function (value1, index1) {
                        if (value1.area != '' || value1.area != null) {
                            value.sumTotalArea += value1.area;
                        }
                    });
                    if (value.sumTotalArea == 0) {
                        angular.forEach(value.honingMeasurementList, function (value1, index1) {
                            if (value1.area != '' || value1.area != null) {
                                value.sumTotalArea += value1.area;
                            }
                        });
                    }
                }
                function calculateSumTotalAreaForSubItem(value, index) {
                    angular.forEach(value.subItem, function (value1, index1) {
                        value1.sumTotalArea = 0;
                        angular.forEach(value1.measurements, function (value2, index1) {
                            if (value2.area != '' || value2.area != null) {
                                value1.sumTotalArea += value2.area;
                            }
                        });
                    })
                }


                function getSalesPersonNotes(serviceList, index) {
                    serviceList.informationNote = "";
                    serviceList.salesPersonNote = "";
                    serviceList.class = "blinka";

                    if (serviceList.serviceIds[0] != undefined) {
                        if (serviceList.serviceType == "STONELIFE") {
                            if (serviceList.typeOfStoneType2 == "Marble") {
                                if (serviceList.serviceIds[0].id == "Stripping Carpet Adhesive" || serviceList.serviceIds[0].id == "Stripping-Silicone" || serviceList.serviceIds[0].id == "Stripping-Urethane" || serviceList.serviceIds[0].id == "Stripping-Wax" || serviceList.serviceIds[0].id == "Stripping-Unknown") {
                                    serviceList.salesPersonNote = "Recommend this be on a separate invoice from rest of project in order to allow client to source independently, as many do not understand that unlike a janitorial wax stripping where they need to get most of it off, we need to get every corner and grout line.";
                                }
                                else if (serviceList.serviceIds[0].id == "Chip Repair") {
                                    serviceList.salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                    serviceList.informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (MARBLE)";
                                }
                                else if (serviceList.serviceIds[0].id == "Crack Repair") {
                                    serviceList.salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                    serviceList.informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (MARBLE)";
                                }
                                else if (serviceList.serviceIds[0].id == "Grout Replacement") {
                                    serviceList.informationNote = "INSERT BEFORE & AFTER IMAGE";
                                }
                                else if (serviceList.serviceIds[0].id == "Hard Water Removal") {
                                    serviceList.informationNote = "INSERT BEFORE & AFTER IMAGE (HARD WATER)";
                                }
                                else if (serviceList.serviceIds[0].id == "Mold Stain Removal") {
                                    serviceList.informationNote = "INSERT BEFORE & AFTER IMAGE (MOLD)";
                                }
                                else if (serviceList.serviceIds[0].id == "Traverfil") {
                                    serviceList.informationNote = "INSERT BEFORE & AFTER IMAGE (TRAVERFIL)";
                                }
                                else if (serviceList.serviceIds[0].id == "Stain Removal") {
                                    serviceList.salesPersonNote = "RECOMMEND this be on a separate invoice to be done BEFORE the rest of the project or AFTER the rest of the project in order to avoid having other work held hostage should the stain prove unremovable.";
                                }
                                else {
                                    serviceList.informationNote = "";
                                    serviceList.salesPersonNote = "";
                                }
                            }
                            else if (serviceList.typeOfStoneType2 == "Granite") {
                                if (serviceList.serviceIds[0].id == "Stripping Carpet Adhesive" || serviceList.serviceIds[0].id == "Stripping-Silicone" || serviceList.serviceIds[0].id == "Stripping-Urethane" || serviceList.serviceIds[0].id == "Stripping-Wax" || serviceList.serviceIds[0].id == "Stripping-Unknown") {
                                    serviceList.salesPersonNote = "Recommend this be on a separate invoice from rest of project in order to allow client to source independently, as many do not understand that unlike a janitorial wax stripping where they need to get most of it off, we need to get every corner and grout line.";
                                }
                                else if (serviceList.serviceIds[0].id == "Chip Repair") {
                                    serviceList.salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                    serviceList.informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (GRANITE)";
                                }
                                else if (serviceList.serviceIds[0].id == "Crack Repair") {
                                    serviceList.salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                    serviceList.informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (GRANITE)";
                                }
                                else if (serviceList.serviceIds[0].id == "Stain Removal") {
                                    serviceList.salesPersonNote = "RECOMMEND this be on a separate invoice to be done BEFORE the rest of the project or AFTER the rest of the project in order to avoid having other work held hostage should the stain prove unremovable.";
                                }
                                else if (serviceList.serviceIds[0].id == "Traverfil") {
                                    serviceList.informationNote = "INSERT BEFORE & AFTER IMAGE (TRAVERFIL)";
                                }
                                else if (serviceList.serviceIds[0].id == "Stain Removal") {
                                    serviceList.salesPersonNote = "RECOMMEND this be on a separate invoice to be done BEFORE the rest of the project or AFTER the rest of the project in order to avoid having other work held hostage should the stain prove unremovable.";
                                }
                                else if (serviceList.serviceIds[0].id == "Hard Water Removal") {
                                    serviceList.informationNote = "INSERT BEFORE & AFTER IMAGE (HARD WATER)";
                                }
                                else if (serviceList.serviceIds[0].id == "Honing") {
                                    serviceList.salesPersonNote = "Rarely required on granite. If the granite looks dull it is more likely they are suffering a build-up of wax from use of an inappropriate cleaner such as a glass or all purpose cleaner which includes micro-waxes. Clean first with acetone to remove residual wax before consider applying diamonds. Work backwards starting with an 3000, 1500, 800 in a test area. Never dip below 800. Foot traffic will NOT create damage below 800. Treat any scratches on spot basis.";
                                }
                                else if (serviceList.serviceIds[0].id == "Sealing") {
                                    serviceList.salesPersonNote = "OFFER to schedule their ANNUAL Clean-and-Seal visit.";
                                }
                                else {
                                    serviceList.informationNote = "";
                                    serviceList.salesPersonNote = "";
                                }
                            }
                        }
                        else if (serviceList.serviceType == "COUNTERLIFE" || serviceList.serviceType == "COUNTERLIFE:MARBLE" || serviceList.serviceType == "COUNTERLIFE:GRANITE") {
                            if (serviceList.typeOfStoneType2 == "Marble") {
                                if (serviceList.serviceIds[0].id == "Chip Repair") {
                                    serviceList.salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                    serviceList.informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                                }
                                else if (serviceList.serviceIds[0].id == "Crack Repair") {
                                    serviceList.salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                    serviceList.informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                                }
                                else if (serviceList.serviceIds[0].id == "Hard Water Removal") {
                                    serviceList.informationNote = "INSERT BEFORE & AFTER IMAGE (HARD WATER)";
                                }
                                else if (serviceList.serviceIds[0].id == "Mold Stain Removal") {
                                    serviceList.informationNote = "INSERT BEFORE & AFTER IMAGE (MOLD)";
                                }
                                else if (serviceList.serviceIds[0].id == "Sealing") {
                                    serviceList.salesPersonNote = "OFFER to schedule their ANNUAL Clean-and-Seal visit";
                                }
                                else if (serviceList.serviceIds[0].id == "Stain Removal") {
                                    serviceList.salesPersonNote = "RECOMMEND this be on a separate invoice to be done BEFORE the rest of the project or AFTER the rest of the project in order to avoid having other work held hostage should the stain prove unremovable.";
                                }
                                else {
                                    serviceList.informationNote = "";
                                    serviceList.salesPersonNote = "";
                                }
                            }
                            if (serviceList.typeOfStoneType2 == "Granite") {
                                if (serviceList.serviceIds[0].id == "Chip Repair") {
                                    serviceList.informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                                }
                                else if (serviceList.serviceIds[0].id == "Crack Repair") {
                                    serviceList.informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                                }
                                else if (serviceList.serviceIds[0].id == "Hard Water Removal") {
                                    serviceList.informationNote = "INSERT BEFORE & AFTER IMAGE (HARD WATER)";
                                }
                                else if (serviceList.serviceIds[0].id == "Stain Removal") {
                                    serviceList.salesPersonNote = "RECOMMEND this be on a separate invoice to be done BEFORE the rest of the project or AFTER the rest of the project in order to avoid having other work held hostage should the stain prove unremovable.";
                                }
                                else if (serviceList.serviceIds[0].id == "Seam Repair") {
                                    serviceList.informationNote = "INSERT BEFORE & AFTER SEAM REPAIR";
                                }
                                else if (serviceList.serviceIds[0].id == "Honing") {
                                    serviceList.salesPersonNote = "Rarely required on granite. If the granite looks dull it is more likely they are suffering a build-up of wax from use of an inappropriate cleaner such as a glass or all purpose cleaner which includes micro-waxes. Clean first with acetone to remove residual wax before consider applying diamonds. Work backwards starting with an 11000, 8000, 3000 in a test area. Never dip below 800.";
                                }
                                else if (serviceList.serviceIds[0].id == "Sealing") {
                                    serviceList.salesPersonNote = "OFFER to schedule their ANNUAL Clean-and-Seal visit.";
                                }
                                else {
                                    serviceList.informationNote = "";
                                    serviceList.salesPersonNote = "";
                                }
                            }
                            if (serviceList.typeOfStoneType2 == "Corian") {
                                if (serviceList.serviceIds[0].id == "Corian-Chip Repair") {
                                    serviceList.informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (CORIAN)";
                                }
                                else if (serviceList.serviceIds[0].id == "Corian-Crack Repair") {
                                    serviceList.salesPersonNote = "Explain that this is major surgery as a wedge needs to be cut from the counter and replaced. Customer should have additional material from initial install, else there will be a color difference due to age, oxidation and wear. This should run no less than 800 per area. If one fails one purchases the counter OR they understand they need to replace it.";
                                    serviceList.informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (CORIAN)";
                                }
                                else {
                                    serviceList.informationNote = "";
                                    serviceList.salesPersonNote = "";
                                }
                            }
                            if (serviceList.typeOfStoneType2 == "Engineered Stone") {
                                if (serviceList.serviceIds[0].id == "Engineered Stone - Polish") {
                                    serviceList.salesPersonNote = "MARBLELIFE developed the techniques to restore original aligator skin Zodiac surface texturing.";
                                    serviceList.informationNote = "INSERT BEFORE & AFTER EXAMPLE IMAGE (ENGINEERED STONE)";
                                }
                                else {
                                    serviceList.informationNote = "";
                                    serviceList.salesPersonNote = "";
                                }
                            }
                        }
                        else if (serviceList.serviceType == "CLEANSHIELD") {
                            if (serviceList.serviceIds[0].id == "Cleanshield") {
                                serviceList.informationNote = "INSERT BEFORE & AFTER IMAGE (CLEANSHIELD)";
                            }
                        }
                        else if (serviceList.serviceType == "MAINTAINANCE:OTHER" || serviceList.serviceType == "MAINTENANCE:BI-MONTHLY" || serviceList.serviceType == "MAINTENANCE:MONTHLY" || serviceList.serviceType == "MAINTENANCE:QUARTERLY") {
                            serviceList.salesPersonNote = "Typically need 1 man-day per 1500-2000 sqft of floor.  Quarterly service only makes sense for properties less than 700 sqft.  Otherwise quarterly is 5x monthly - due to scratch pattern development.";
                            serviceList.informationNote = "INSERT AFTER IMAGE OF PROPERTY MAINTAINED BY MARBLELIFE FOR OVER 15 YEARS";
                        }
                        else if (serviceList.serviceType == "GROUTLIFE/TILELOCK") {
                            if (serviceList.typeOfStoneType2 == "CERAMIC" || serviceList.typeOfStoneType2 == "PORCELAIN" || serviceList.typeOfStoneType2 == "CONCRETE" || serviceList.typeOfStoneType2 == "TERRAZZO") {
                                if (serviceList.serviceIds[0].id == "Tilelok") {
                                    serviceList.informationNote = "INSERT BEFORE & AFTER IMAGES TILELOK";
                                }
                                else {
                                    serviceList.salesPersonNote = "";
                                    serviceList.informationNote = "";
                                }
                            }
                            else {
                                if (serviceList.serviceIds[0].id == "Stripping Carpet Adhesive" || serviceList.serviceIds[0].id == "Stripping-Silicone" || serviceList.serviceIds[0].id == "Stripping-Urethane" || serviceList.serviceIds[0].id == "Stripping-Wax" || serviceList.serviceIds[0].id == "Stripping-Unknown") {
                                    serviceList.salesPersonNote = "Recommend this be on a separate invoice from rest of project in order to allow client to source independently, as many do not understand that unlike a janitorial wax stripping where they need to get most of it off, we need to get every corner and grout line.";
                                }
                                else if (serviceList.serviceIds[0].id == "Grout Replacement") {
                                    serviceList.salesPersonNote = "Grout damage is generally caused by either (1) poorly mixed grout or (2) building settling, or (3) a flexing floor.  If the building is still settling grout could be expected to rebreak.  If the floor is flexing grout will rebreak unless they bring in someone to reinforce the floor.";
                                }
                                else if (serviceList.serviceIds[0].id == "Colorseal") {
                                    serviceList.informationNote = "INSERT COLORSEAL BEFORE & AFTER";
                                    serviceList.salesPersonNote = "Be Ready to discuss the root causes that lead to stained grout (failure of initial seal, and use of acidic cleaners that dissolve grout seals)";
                                }
                                else {
                                    serviceList.salesPersonNote = "";
                                    serviceList.informationNote = "";
                                }
                            }
                        }
                        else if (serviceList.serviceType == "CONCRETE-REPAIR") {
                            if (serviceList.typeOfStoneType2 == "CONCRETE" || serviceList.typeOfStoneType2 == "TERRAZZO") {
                                if (serviceList.serviceIds[0].id == "Concrete Chip Repair") {
                                    serviceList.informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                                }
                                else if (serviceList.serviceIds[0].id == "Concrete Crack Repair") {
                                    serviceList.salesPersonNote = "Remember that while a chip and crack repair will prevent water and dirt from collecting in the open area, the resulting repair is still an eyesore and will need an opaque coating to restore a clean uniform finish to the surface";
                                    serviceList.informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                                }
                                else if (serviceList.serviceIds[0].id == "Large Concrete Area Repairs") {
                                    serviceList.salesPersonNote = "Concrete is used to establish a base to within 1/2\" of desired surface so as to reduce the amount of terrazzo needed AND to reduce chance of pebbles settling below the surface prior to grinding. Surface should be overpacked to prevent an overcream presence";
                                }
                                else if (serviceList.serviceIds[0].id == "Terrazzo Chip Repair" || serviceList.serviceIds[0].id == "Terrazzo Crack Repair" || serviceList.serviceIds[0].id == "Terrazzo Large Area Repair") {
                                    serviceList.salesPersonNote = "Be advised, that even a small terrazzo repair will run $700, as the terrazzo suppliers will not supply chips in less than 25 Lb quantities and resin in less than 5-Gal pails. Reach out to MARBLELIFE R&D for guidance on how to make terrazzo samples for your client to sign-off on the matrix, chip sizes, chip colors and chip variations.";
                                }
                                else if (serviceList.serviceIds[0].id == "Stripping Carpet Adhesive" || serviceList.serviceIds[0].id == "Stripping-Silicone" || serviceList.serviceIds[0].id == "Stripping-Urethane" || serviceList.serviceIds[0].id == "Stripping-Wax" || serviceList.serviceIds[0].id == "Stripping-Unknown") {
                                    serviceList.salesPersonNote = "Recommend this be on a separate invoice from rest of project in order to allow client to source independently, as many do not understand that unlike a janitorial wax stripping where they need to get most of it off, we need to get every corner and grout line.";
                                }
                                else {
                                    serviceList.salesPersonNote = "";
                                    serviceList.informationNote = "";
                                }
                            }
                        }
                        else if (serviceList.serviceType == "CONCRETE-COUNTERTOPS") {
                            if (serviceList.serviceIds[0].id == "Marblized Top Coat Installation") {
                                serviceList.salesPersonNote = "It is imperative the counter be protected from touching for 24 hours while it flows and settles.  Alert client that if the surface is touched by person or pet additional charges would apply as the surface must be removed and re-applied.";
                            }
                            else {
                                serviceList.salesPersonNote = "";
                                serviceList.informationNote = "";
                            }
                        }
                        else if (serviceList.serviceType == "CONCRETE-COATINGS") {
                            if (serviceList.serviceIds[0].id == "Moisture Vapor Barrier") {
                                serviceList.salesPersonNote = "This should be required in FL and TX and elsewhere where we have high water tables reported.  This is generally a greater need in vallies than on top of a hillside.  See the water table map insert to show your client as needed.";
                            }
                            else if (serviceList.serviceIds[0].id == "Epoxy Base") {
                                serviceList.informationNote = "INSERT COATING COLOR CHART";
                            }
                            else if (serviceList.serviceIds[0].id == "Polyspartic Base") {
                                serviceList.informationNote = "INSERT COATING COLOR CHART";
                            }
                            else if (serviceList.serviceIds[0].id == "Vinyl Chips") {
                                serviceList.informationNote = "INSERT CHIP COLOR CHART";
                            }
                            else if (serviceList.serviceIds[0].id == "Epoxy Top Coat") {
                                serviceList.informationNote = "INSERT CHIP COLOR CHART";
                            }
                            else if (serviceList.serviceIds[0].id == "Polyspartic Top Coat") {
                                serviceList.informationNote = "INSERT COATING COLOR CHART";
                            }
                            else if (serviceList.serviceIds[0].id == "Endurachip - Light") {
                                serviceList.salesPersonNote = "This is a light chip one coat system designed to be a low cost coating - often used in a FOR SALE situation when owner is seeking to cover cracks, pits and stains and clean-up appearance.  Fast ";
                            }
                            else if (serviceList.serviceIds[0].id == "Endurachip - Fast") {
                                serviceList.salesPersonNote = "This is a 1-2 day process designed to allow minimum loss of garage time.";
                            }
                            else if (serviceList.serviceIds[0].id == "Endurachip - Durable") {
                                serviceList.salesPersonNote = "This is a 2-3 day process designed to provide the best durability coating";
                            }
                            else if (serviceList.serviceIds[0].id == "Marblized Coating") {
                                serviceList.informationNote = "Link to web gallery";
                            }
                            else if (serviceList.serviceIds[0].id == "Anti-Spauling Driveway Sealing" || serviceList.serviceIds[0].id == "Anti-Spauling Sideway Sealing") {
                                serviceList.informationNote = "Insert images";
                            }
                            else {
                                serviceList.salesPersonNote = "";
                                serviceList.informationNote = "";
                            }
                        }
                        else if (serviceList.serviceType == "CLEANAIR") {
                            if (serviceList.serviceIds[0].id == "Clean Air Purification Treatments") {
                                serviceList.salesPersonNote = "ISSUE - Presently this technology works well, but we do NOT have a test that allows us to confirm its presence.  This service will go live once a test has been found.";
                            }
                            else {
                                serviceList.salesPersonNote = "";
                                serviceList.informationNote = "";
                            }
                        }
                        else if (serviceList.serviceType == "TILEINSTALL") {
                            if (serviceList.serviceIds[0].id == "Grouting") {
                                serviceList.salesPersonNote = "Recommend the client select a standard gray grout and then to seal with a colorizeablle Colorseal as this allows them to confirm everything is indeed seal, and expands the cleaners they can use without damaging their grout.";
                            }
                            else if (serviceList.serviceIds[0].id == "Grout Sealing - Clear") {
                                serviceList.salesPersonNote = "Ceramic and Porcelein do not need sealing.";
                            }
                            else {
                                serviceList.salesPersonNote = "";
                                serviceList.informationNote = "";
                            }
                        }
                        else if (serviceList.serviceType == "VINYLGUARD") {
                            if (serviceList.serviceIds[0].id == "Cleaning and Pre-Coat Preparations") {
                                serviceList.salesPersonNote = "This is where your time is as every corner and edge has to be removed of dirt, dust and hair. Not a bad idea to have team wear a hair net and booties during this process.";
                            }
                            else if (serviceList.serviceIds[0].id == "VinylGuard Installation") {
                                serviceList.salesPersonNote = "Vinylguard does not need to be stripped, and is durable enough that it can go a year without needed attention, unlike wax which scuffs, must be buffed, and periodically tripped. Keep in mind this is a labor savings, which is only realized if they can reduce staff or have the staff do more of something else.";
                            }
                            else {
                                serviceList.salesPersonNote = "";
                                serviceList.informationNote = "";
                            }
                        }
                        else if (serviceList.serviceType == "WOODLIFE") {
                            if (serviceList.serviceIds[0].id == "Cleaning") {
                                serviceList.salesPersonNote = "Wood cleaners contain waxes that build up over time and dull the surface, cleaning in this case means removing these residual waxes.";
                            }
                            else {
                                serviceList.salesPersonNote = "";
                                serviceList.informationNote = "";
                            }
                        }
                        else if (serviceList.serviceType == "SALESTAX") {
                            if (serviceList.serviceIds[0].id == "Service") {
                                serviceList.salesPersonNote = "Most states do not require tax on services.";
                            }
                            else {
                                serviceList.salesPersonNote = "";
                                serviceList.informationNote = "";
                            }
                        }
                        else {
                            serviceList.informationNote = "";
                            serviceList.salesPersonNote = "";
                        }
                    }
                    else {
                        serviceList.informationNote = "";
                        serviceList.salesPersonNote = "";
                    }
                }

                function getBundleSalesPersonNotes(serviceType, typeOfStoneType2, serviceId) {
                    var informationNote = "";
                    var salesPersonNote = "";
                    if (serviceType == "STONELIFE") {
                        if (typeOfStoneType2 == "Marble") {
                            if (serviceId == "Stripping Carpet Adhesive" || serviceId == "Stripping-Silicone" || serviceId == "Stripping-Urethane" || serviceId == "Stripping-Wax" || serviceId == "Stripping-Unknown") {
                                salesPersonNote = "Recommend this be on a separate invoice from rest of project in order to allow client to source independently, as many do not understand that unlike a janitorial wax stripping where they need to get most of it off, we need to get every corner and grout line.";
                            }
                            else if (serviceId == "Chip Repair") {
                                salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (MARBLE)";
                            }
                            else if (serviceId == "Crack Repair") {
                                salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (MARBLE)";
                            }
                            else if (serviceId == "Grout Replacement") {
                                informationNote = "INSERT BEFORE & AFTER IMAGE";
                            }
                            else if (serviceId == "Hard Water Removal") {
                                informationNote = "INSERT BEFORE & AFTER IMAGE (HARD WATER)";
                            }
                            else if (serviceId == "Mold Stain Removal") {
                                informationNote = "INSERT BEFORE & AFTER IMAGE (MOLD)";
                            }
                            else if (serviceId == "Traverfil") {
                                informationNote = "INSERT BEFORE & AFTER IMAGE (TRAVERFIL)";
                            }
                            else if (serviceId == "Stain Removal") {
                                salesPersonNote = "RECOMMEND this be on a separate invoice to be done BEFORE the rest of the project or AFTER the rest of the project in order to avoid having other work held hostage should the stain prove unremovable.";
                            }
                            else {
                                informationNote = "";
                                salesPersonNote = "";
                            }
                        }
                        else if (typeOfStoneType2 == "Granite") {
                            if (serviceId == "Stripping Carpet Adhesive" || serviceId == "Stripping-Silicone" || serviceId == "Stripping-Urethane" || serviceId == "Stripping-Wax" || serviceId == "Stripping-Unknown") {
                                salesPersonNote = "Recommend this be on a separate invoice from rest of project in order to allow client to source independently, as many do not understand that unlike a janitorial wax stripping where they need to get most of it off, we need to get every corner and grout line.";
                            }
                            else if (serviceId == "Chip Repair") {
                                salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (GRANITE)";
                            }
                            else if (serviceId == "Crack Repair") {
                                salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (GRANITE)";
                            }
                            else if (serviceId == "Stain Removal") {
                                salesPersonNote = "RECOMMEND this be on a separate invoice to be done BEFORE the rest of the project or AFTER the rest of the project in order to avoid having other work held hostage should the stain prove unremovable.";
                            }
                            else if (serviceId == "Traverfil") {
                                informationNote = "INSERT BEFORE & AFTER IMAGE (TRAVERFIL)";
                            }
                            else if (serviceId == "Stain Removal") {
                                salesPersonNote = "RECOMMEND this be on a separate invoice to be done BEFORE the rest of the project or AFTER the rest of the project in order to avoid having other work held hostage should the stain prove unremovable.";
                            }
                            else if (serviceId == "Hard Water Removal") {
                                informationNote = "INSERT BEFORE & AFTER IMAGE (HARD WATER)";
                            }
                            else if (serviceId == "Honing") {
                                salesPersonNote = "Rarely required on granite. If the granite looks dull it is more likely they are suffering a build-up of wax from use of an inappropriate cleaner such as a glass or all purpose cleaner which includes micro-waxes. Clean first with acetone to remove residual wax before consider applying diamonds. Work backwards starting with an 3000, 1500, 800 in a test area. Never dip below 800. Foot traffic will NOT create damage below 800. Treat any scratches on spot basis.";
                            }
                            else if (serviceId == "Sealing") {
                                salesPersonNote = "OFFER to schedule their ANNUAL Clean-and-Seal visit.";
                            }
                            else {
                                informationNote = "";
                                salesPersonNote = "";
                            }
                        }
                    }
                    else if (serviceType == "COUNTERLIFE") {
                        if (typeOfStoneType2 == "Marble") {
                            if (serviceId == "Chip Repair") {
                                salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                            }
                            else if (serviceId == "Crack Repair") {
                                salesPersonNote = "Chip and Crack repairs can be provided that are fast, but will cup, or overfilled, honed and flat but take more time. Be sure to define the approach you are providing.";
                                informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                            }
                            else if (serviceId == "Hard Water Removal") {
                                informationNote = "INSERT BEFORE & AFTER IMAGE (HARD WATER)";
                            }
                            else if (serviceId == "Mold Stain Removal") {
                                informationNote = "INSERT BEFORE & AFTER IMAGE (MOLD)";
                            }
                            else if (serviceId == "Sealing") {
                                salesPersonNote = "OFFER to schedule their ANNUAL Clean-and-Seal visit";
                            }
                            else if (serviceId == "Stain Removal") {
                                salesPersonNote = "RECOMMEND this be on a separate invoice to be done BEFORE the rest of the project or AFTER the rest of the project in order to avoid having other work held hostage should the stain prove unremovable.";
                            }
                            else {
                                informationNote = "";
                                salesPersonNote = "";
                            }
                        }
                        if (typeOfStoneType2 == "Granite") {
                            if (serviceId == "Chip Repair") {
                                informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                            }
                            else if (serviceId == "Crack Repair") {
                                informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                            }
                            else if (serviceId == "Hard Water Removal") {
                                informationNote = "INSERT BEFORE & AFTER IMAGE (HARD WATER)";
                            }
                            else if (serviceId == "Stain Removal") {
                                salesPersonNote = "RECOMMEND this be on a separate invoice to be done BEFORE the rest of the project or AFTER the rest of the project in order to avoid having other work held hostage should the stain prove unremovable.";
                            }
                            else if (serviceId == "Seam Repair") {
                                informationNote = "INSERT BEFORE & AFTER SEAM REPAIR";
                            }
                            else if (serviceId == "Honing") {
                                salesPersonNote = "Rarely required on granite. If the granite looks dull it is more likely they are suffering a build-up of wax from use of an inappropriate cleaner such as a glass or all purpose cleaner which includes micro-waxes. Clean first with acetone to remove residual wax before consider applying diamonds. Work backwards starting with an 11000, 8000, 3000 in a test area. Never dip below 800.";
                            }
                            else if (serviceId == "Sealing") {
                                salesPersonNote = "OFFER to schedule their ANNUAL Clean-and-Seal visit.";
                            }
                            else {
                                informationNote = "";
                                salesPersonNote = "";
                            }
                        }
                        if (typeOfStoneType2 == "Corian") {
                            if (serviceId == "Corian-Chip Repair") {
                                informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (CORIAN)";
                            }
                            else if (serviceId == "Corian-Crack Repair") {
                                salesPersonNote = "Explain that this is major surgery as a wedge needs to be cut from the counter and replaced. Customer should have additional material from initial install, else there will be a color difference due to age, oxidation and wear. This should run no less than 800 per area. If one fails one purchases the counter OR they understand they need to replace it.";
                                informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE (CORIAN)";
                            }
                            else {
                                informationNote = "";
                                salesPersonNote = "";
                            }
                        }
                        if (typeOfStoneType2 == "Engineered Stone") {
                            if (serviceId == "Engineered Stone - Polish") {
                                salesPersonNote = "MARBLELIFE developed the techniques to restore original aligator skin Zodiac surface texturing.";
                                informationNote = "INSERT BEFORE & AFTER EXAMPLE IMAGE (ENGINEERED STONE)";
                            }
                            else {
                                informationNote = "";
                                salesPersonNote = "";
                            }
                        }
                    }
                    else if (serviceType == "CLEANSHIELD") {
                        if (serviceId == "Cleanshield") {
                            informationNote = "INSERT BEFORE & AFTER IMAGE (CLEANSHIELD)";
                        }
                    }
                    else if (serviceType == "MAINTAINANCE:OTHER" || serviceType == "MAINTENANCE:BI-MONTHLY" || serviceType == "MAINTENANCE:MONTHLY" || serviceType == "MAINTENANCE:QUARTERLY") {
                        salesPersonNote = "Typically need 1 man-day per 1500-2000 sqft of floor.  Quarterly service only makes sense for properties less than 700 sqft.  Otherwise quarterly is 5x monthly - due to scratch pattern development.";
                        informationNote = "INSERT AFTER IMAGE OF PROPERTY MAINTAINED BY MARBLELIFE FOR OVER 15 YEARS";
                    }
                    else if (serviceType == "GROUTLIFE/TILELOCK") {
                        if (typeOfStoneType2 == "CERAMIC" || typeOfStoneType2 == "PORCELAIN" || typeOfStoneType2 == "CONCRETE" || typeOfStoneType2 == "TERRAZZO") {
                            if (serviceId == "Tilelok") {
                                informationNote = "INSERT BEFORE & AFTER IMAGES TILELOK";
                            }
                            else {
                                salesPersonNote = "";
                                informationNote = "";
                            }
                        }
                        else {
                            if (serviceId == "Stripping Carpet Adhesive" || serviceId == "Stripping-Silicone" || serviceId == "Stripping-Urethane" || serviceId == "Stripping-Wax" || serviceId == "Stripping-Unknown") {
                                salesPersonNote = "Recommend this be on a separate invoice from rest of project in order to allow client to source independently, as many do not understand that unlike a janitorial wax stripping where they need to get most of it off, we need to get every corner and grout line.";
                            }
                            else if (serviceId == "Grout Replacement") {
                                salesPersonNote = "Grout damage is generally caused by either (1) poorly mixed grout or (2) building settling, or (3) a flexing floor.  If the building is still settling grout could be expected to rebreak.  If the floor is flexing grout will rebreak unless they bring in someone to reinforce the floor.";
                            }
                            else if (serviceId == "Colorseal") {
                                informationNote = "INSERT COLORSEAL BEFORE & AFTER";
                                salesPersonNote = "Be Ready to discuss the root causes that lead to stained grout (failure of initial seal, and use of acidic cleaners that dissolve grout seals)";
                            }
                            else {
                                salesPersonNote = "";
                                informationNote = "";
                            }
                        }
                    }
                    else if (serviceType == "CONCRETE-REPAIR") {
                        if (typeOfStoneType2 == "CONCRETE" || typeOfStoneType2 == "TERRAZZO") {
                            if (serviceId == "Concrete Chip Repair") {
                                informationNote = "INSERT CHIP REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                            }
                            else if (serviceId == "Concrete Crack Repair") {
                                salesPersonNote = "Remember that while a chip and crack repair will prevent water and dirt from collecting in the open area, the resulting repair is still an eyesore and will need an opaque coating to restore a clean uniform finish to the surface";
                                informationNote = "INSERT CRACK REPAIR BEFORE-AND-AFTER EXAMPLE IMAGE";
                            }
                            else if (serviceId == "Large Concrete Area Repairs") {
                                salesPersonNote = "Concrete is used to establish a base to within 1/2\" of desired surface so as to reduce the amount of terrazzo needed AND to reduce chance of pebbles settling below the surface prior to grinding. Surface should be overpacked to prevent an overcream presence";
                            }
                            else if (serviceId == "Terrazzo Chip Repair" || serviceId == "Terrazzo Crack Repair" || serviceId == "Terrazzo Large Area Repair") {
                                salesPersonNote = "Be advised, that even a small terrazzo repair will run $700, as the terrazzo suppliers will not supply chips in less than 25 Lb quantities and resin in less than 5-Gal pails. Reach out to MARBLELIFE R&D for guidance on how to make terrazzo samples for your client to sign-off on the matrix, chip sizes, chip colors and chip variations.";
                            }
                            else if (serviceId == "Stripping Carpet Adhesive" || serviceId == "Stripping-Silicone" || serviceId == "Stripping-Urethane" || serviceId == "Stripping-Wax" || serviceId == "Stripping-Unknown") {
                                salesPersonNote = "Recommend this be on a separate invoice from rest of project in order to allow client to source independently, as many do not understand that unlike a janitorial wax stripping where they need to get most of it off, we need to get every corner and grout line.";
                            }
                            else {
                                salesPersonNote = "";
                                informationNote = "";
                            }
                        }
                    }
                    else if (serviceType == "CONCRETE-COUNTERTOPS") {
                        if (serviceId == "Marblized Top Coat Installation") {
                            salesPersonNote = "It is imperative the counter be protected from touching for 24 hours while it flows and settles.  Alert client that if the surface is touched by person or pet additional charges would apply as the surface must be removed and re-applied.";
                        }
                        else {
                            salesPersonNote = "";
                            informationNote = "";
                        }
                    }
                    else if (serviceType == "CONCRETE-COATINGS") {
                        if (serviceId == "Moisture Vapor Barrier") {
                            salesPersonNote = "This should be required in FL and TX and elsewhere where we have high water tables reported.  This is generally a greater need in vallies than on top of a hillside.  See the water table map insert to show your client as needed.";
                        }
                        else if (serviceId == "Epoxy Base") {
                            informationNote = "INSERT COATING COLOR CHART";
                        }
                        else if (serviceId == "Polyspartic Base") {
                            informationNote = "INSERT COATING COLOR CHART";
                        }
                        else if (serviceId == "Vinyl Chips") {
                            informationNote = "INSERT CHIP COLOR CHART";
                        }
                        else if (serviceId == "Epoxy Top Coat") {
                            informationNote = "INSERT CHIP COLOR CHART";
                        }
                        else if (serviceId == "Polyspartic Top Coat") {
                            informationNote = "INSERT COATING COLOR CHART";
                        }
                        else if (serviceId == "Endurachip - Light") {
                            salesPersonNote = "This is a light chip one coat system designed to be a low cost coating - often used in a FOR SALE situation when owner is seeking to cover cracks, pits and stains and clean-up appearance.  Fast ";
                        }
                        else if (serviceId == "Endurachip - Fast") {
                            salesPersonNote = "This is a 1-2 day process designed to allow minimum loss of garage time.";
                        }
                        else if (serviceId == "Endurachip - Durable") {
                            salesPersonNote = "This is a 2-3 day process designed to provide the best durability coating";
                        }
                        else if (serviceId == "Marblized Coating") {
                            informationNote = "Link to web gallery";
                        }
                        else if (serviceId == "Anti-Spauling Driveway Sealing" || serviceId == "Anti-Spauling Sideway Sealing") {
                            informationNote = "Insert images";
                        }
                        else {
                            salesPersonNote = "";
                            informationNote = "";
                        }
                    }
                    else if (serviceType == "CLEANAIR") {
                        if (serviceId == "Clean Air Purification Treatments") {
                            salesPersonNote = "ISSUE - Presently this technology works well, but we do NOT have a test that allows us to confirm its presence.  This service will go live once a test has been found.";
                        }
                        else {
                            salesPersonNote = "";
                            informationNote = "";
                        }
                    }
                    else if (serviceType == "TILEINSTALL") {
                        if (serviceId == "Grouting") {
                            salesPersonNote = "Recommend the client select a standard gray grout and then to seal with a colorizeablle Colorseal as this allows them to confirm everything is indeed seal, and expands the cleaners they can use without damaging their grout.";
                        }
                        else if (serviceId == "Grout Sealing - Clear") {
                            salesPersonNote = "Ceramic and Porcelein do not need sealing.";
                        }
                        else {
                            salesPersonNote = "";
                            informationNote = "";
                        }
                    }
                    else if (serviceType == "VINYLGUARD") {
                        if (serviceId == "Cleaning and Pre-Coat Preparations") {
                            salesPersonNote = "This is where your time is as every corner and edge has to be removed of dirt, dust and hair. Not a bad idea to have team wear a hair net and booties during this process.";
                        }
                        else if (serviceId == "VinylGuard Installation") {
                            salesPersonNote = "Vinylguard does not need to be stripped, and is durable enough that it can go a year without needed attention, unlike wax which scuffs, must be buffed, and periodically tripped. Keep in mind this is a labor savings, which is only realized if they can reduce staff or have the staff do more of something else.";
                        }
                        else {
                            salesPersonNote = "";
                            informationNote = "";
                        }
                    }
                    else if (serviceType == "WOODLIFE") {
                        if (serviceId == "Cleaning") {
                            salesPersonNote = "Wood cleaners contain waxes that build up over time and dull the surface, cleaning in this case means removing these residual waxes.";
                        }
                        else {
                            salesPersonNote = "";
                            informationNote = "";
                        }
                    }
                    else if (serviceType == "SALESTAX") {
                        if (serviceId == "Service") {
                            salesPersonNote = "Most states do not require tax on services.";
                        }
                        else {
                            salesPersonNote = "";
                            informationNote = "";
                        }
                    }
                    else {
                        informationNote = "";
                        salesPersonNote = "";
                    }
                    var notes = [salesPersonNote, informationNote]
                    return notes;
                }

                function openNotesModal(modalName, content) {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/modal.notes.client.view.html',
                        controller: 'NotesModal',
                        controllerAs: 'vm',
                        size: 'm',
                        resolve: {
                            modalParam: function () {
                                return {
                                    ModalName: modalName,
                                    Content: content
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                    }, function () {
                    });
                }

                function addInvoiceToEstimate() {
                    return schedulerService.addInvoiceToEstimate(vm.rowId).then(function (result) {
                        vm.result = result.data;
                        if (vm.result) {
                            toaster.show("Invoice Created/Updated and Attached Succesfully to Estimate!!");
                            getInvoiceMedia();
                        }
                        else {
                            toaster.error("Error in Attacting Invoice to Estimate!!");
                        }
                    });
                }

                function openModal() {
                    //var modalInstance = $uibModal.open({
                    //    animation: true,
                    //    templateUrl: 'modules/scheduler/views/modal.save.message.client.view.html',
                    //    controller: 'ModalSaveMessageController',
                    //    controllerAs: 'vm',
                    //    size: 'm',
                    //    resolve: {
                    //        modalParam: function () {
                    //            return {
                    //            };
                    //        }
                    //    },
                    //    backdrop: 'static',
                    //});
                    //modalInstance.result.then(function () {
                    //}, function () {
                    //});

                }

                function getInvoiceMedia() {
                    vm.noOfUnPaired = 0;
                    $scope.slides = [];
                    vm.jobEstimateImage = [];
                    vm.isPrintable = false;
                    vm.isMediaPrintable = false;
                    vm.isMediaSave = false;
                    vm.mediaModel.rowId = vm.rowId;
                    vm.mediaModel.MediaType = vm.MediaType.Estimate;
                    return schedulerService.getInvoiceMedia(vm.mediaModel).then(function (result) {
                        vm.media = result.data;
                        vm.imvoiceImagesList = vm.media.imageList.invoiceImages;
                    });
                }

                function getInvoiceReasonNotes(reason) {
                    openInvoiceReasonModal(null, "Reason", reason);
                }

                function getServiceTypeId(service) {
                    if (service.serviceIds[0] != undefined) {
                        service.serviceName = service.serviceIds[0].id;
                    }
                    else {
                        service.serviceName = service.serviceIds.id;
                    }
                    if ((service.serviceType == "STONELIFE" || service.serviceType == "COUNTERLIFE" || service.serviceType == "CLEANSHIELD" || service.serviceType == "GROUTLIFE" || service.serviceType == "CONCRETE-REPAIR"
                        || service.serviceType == "CONCRETE-POLISHING(ENDURACRETE)" || service.serviceType == "CONCRETE-COATINGS" || service.serviceType == "CONCRETE-COUNTERTOPS" || service.serviceType == "CONCRETE-OVERLAYMENTS" ||
                        service.serviceType == "CARPETLIFE" || service.serviceType == "CLEANAIR" || service.serviceType == "METALLIFE" || service.serviceType == "TILEINSTALL" || service.serviceType == "VINYLGUARD"
                        || service.serviceType == "WOODLIFE" || service.serviceType == "WOODLIFE")
                        && (service.typeOfStoneType2 == "Marble" || service.typeOfStoneType2 == "Granite" || service.typeOfStoneType2 == "Ceramic" || service.typeOfStoneType2 == "Concrete" || service.typeOfStoneType2 == "Corian" ||
                            service.typeOfStoneType2 == "Engineered Stone" || service.typeOfStoneType2 == "material type" || service.typeOfStoneType2 == "Porcelain" || service.typeOfStoneType2 == "Terrazzo" || service.typeOfStoneType2 == "Travertine" || service.typeOfStoneType2 == "Vinyl")
                        && (service.serviceName == "Cleaning" || service.serviceName == "Cleaning-Address Mold Stains" || service.serviceName == "Cleanshield" || service.serviceName == "Coating" || service.serviceName == "Colorseal-Hydroforce" ||
                            service.serviceName == "Colorseal-Powerwash" || service.serviceName == "Corian-Polish" || service.serviceName == "Corian-Scratch Removal" || service.serviceName == "Engineered Stone-Polish"
                            || service.serviceName == "Engineered Stone-Scratch Removal" || service.serviceName == "Grind" || service.serviceName == "Hardening" || service.serviceName == "Hydroforce Cleaning"
                            || service.serviceName == "Mold Stain Removal" || service.serviceName == "Powerwash Cleaning" || service.serviceName == "Sealing" || service.serviceName == "Stripping Carpet Adhesive" || service.serviceName == "Stripping-Silicone"
                            || service.serviceName == "Stripping-Unknown" || service.serviceName == "Stripping-Urethane" || service.serviceName == "Stripping-Wax" || service.serviceName == "Tilelok" || service.serviceName == "Traverfil")) {
                        service.serviceName = '';
                        return 282;
                    }

                    else if ((service.serviceType == "CARPETLIFE" || service.serviceType == "CLEANAIR" || service.serviceType == "CLEANSHIELD" || service.serviceType == "CONCRETE-COATINGS" || service.serviceType == "CONCRETE-OVERLAYMENTS"
                        || service.serviceType == "CONCRETE-REPAIR" || service.serviceType == "COUNTERLIFE" || service.serviceType == "CONCRETE-POLISHING(ENDURACRETE)" || service.serviceType == "GROUTLIFE" || service.serviceType == "METALLIFE"
                        || service.serviceType == "Service Type" || service.serviceType == "STONELIFE" || service.serviceType == "TILEINSTALL") &&
                        (service.typeOfStoneType2 == "Ceramic" || service.typeOfStoneType2 == "Concrete" || service.typeOfStoneType2 == "Corian" || service.typeOfStoneType2 == "Engineered Stone" || service.typeOfStoneType2 == "Granite" || service.typeOfStoneType2 == "Marble"
                            || service.typeOfStoneType2 == "material type" || service.typeOfStoneType2 == "Porcelain" || service.typeOfStoneType2 == "Terrazzo" || service.typeOfStoneType2 == "Travertine" || service.typeOfStoneType2 == "Vinyl") &&
                        (service.serviceName == "Chip Repair" || service.serviceName == "Concrete Chip Repair" || service.serviceName == "Concrete Crack Repair" || service.serviceName == "Concrete Spot Stain Removal" ||
                            service.serviceName == "Corian-Chip Repair" || service.serviceName == "Corian-Crack Repair" || service.serviceName == "Crack Repair" || service.serviceName == "Endurachip-Fast" || service.serviceName == "Endurachip-Light"
                            || service.serviceName == "Hard Water Removal" || service.serviceName == "Large Concrete Area Repairs" || service.serviceName == "Other" || service.serviceName == "Seam Repair" || service.serviceName == "Stain Removal"
                            || service.serviceName == "Stripping Carpet Adhesive" || service.serviceName == "Terrazzo Chip Repair" || service.serviceName == "Terrazzo Crack Repair" || service.serviceName == "Terrazzo Large Area Repair" || service.serviceName == "Tile Rebond"
                            || service.serviceName == "Tile Removal" || service.serviceName == "Tile Replacement")) {
                        service.serviceName = '';
                        return 284;
                    }

                    else if ((service.serviceType == "CONCRETE-REPAIR" || service.serviceType == "COUNTERLIFE" || service.serviceType == "GROUTLIFE" || service.serviceType == "GROUTLIFE/TILELOK" || service.serviceType == "STONELIFE") &&
                        (service.typeOfStoneType2 == "Ceramic" || service.typeOfStoneType2 == "Concrete" || service.typeOfStoneType2 == "Corian" || service.typeOfStoneType2 == "Granite" || service.typeOfStoneType2 == "Marble"
                            || service.typeOfStoneType2 == "Porcelain" || service.typeOfStoneType2 == "Terrazzo" || service.typeOfStoneType2 == "Travertine" || service.typeOfStoneType2 == "Vinyl") &&
                        (service.serviceName == "Caulking" || service.serviceName == "Expansion Joint Repairs" || service.serviceName == "Expansion Joint Sealing" || service.serviceName == "Grout Repair"
                            || service.serviceName == "Grout Replacement" || service.serviceName == "Stripping Carpet Adhesive")) {
                        service.serviceName = '';
                        return 283;
                    }
                    else if ((service.serviceType == "Maintenance: BI-MONTHLY" || service.serviceType == "MAINTENANCE:(Other)" || service.serviceType == "Maintenance: QUARTERLY" || service.serviceType == "STONELIFE") &&
                        (service.typeOfStoneType2 == "Ceramic" || service.typeOfStoneType2 == "Concrete" || service.typeOfStoneType2 == "Corian" || service.typeOfStoneType2 == "Granite" || service.typeOfStoneType2 == "Marble"
                            || service.typeOfStoneType2 == "Porcelain" || service.typeOfStoneType2 == "Terrazzo" || service.typeOfStoneType2 == "Travertine" || service.typeOfStoneType2 == "Vinyl") &&
                        (service.serviceName == "Maintenance (Bi-Monthly)" || service.serviceName == "Maintenance (Monthly)" || service.serviceName == "Maintenance (Other Frequency)" || service.serviceName == "Maintenance (Quarterly)"
                            || service.serviceName == "Stripping Carpet Adhesive")) {
                        service.serviceName = '';
                        return 286;
                    }
                    else if ((service.serviceType == "STONELIFE" || service.serviceType == "PRODUCT") &&
                        (service.typeOfStoneType2 == "Ceramic" || service.typeOfStoneType2 == "Concrete" || service.typeOfStoneType2 == "Corian" || service.typeOfStoneType2 == "Granite"
                            || service.typeOfStoneType2 == "Marble" || service.typeOfStoneType2 == "Porcelain" || service.typeOfStoneType2 == "Terrazzo" || service.typeOfStoneType2 == "Travertine" || service.typeOfStoneType2 == "Vinyl") &&
                        (service.serviceName == "Floor Cleaner Concentrate Gallon" || service.serviceName == "Granite Cleaner 32 oz Spray" || service.serviceName == "Granite Cleaner Refill Gallon"
                            || service.serviceName == "Granite Gloss conditioner 8oz" || service.serviceName == "Granite Sealer 4 oz Spray" || service.serviceName == "Grout Sealer 16 oz" || service.serviceName == "Marble Cleaner 32 oz Spray"
                            || service.serviceName == "Marble cleaner Conc. 32oz" || service.serviceName == "Marble cleaner Refill Gallon" || service.serviceName == "Marble Gloss conditioner 16oz" || service.serviceName == "Marble Polish 16 oz" ||
                            service.serviceName == "MaxOut Concentrate Gallon" || service.serviceName == "MaxOut Grout Cleaner 32 oz" || service.serviceName == "Mold & Mildew Stain Remover 32oz Spray" || service.serviceName == "Mold & Mildew Stain Remover Gallon"
                            || service.serviceName == "Soap Scum Remover 16oz" || service.serviceName == "Stone Sealer 16 oz" || service.serviceName == "Stripping Carpet Adhesive" || service.serviceName == "Tile Cleaner 32oz Spray" || service.serviceName == "Tile Cleaner Concentrate 32 oz"
                            || service.serviceName == "Tile Cleaner Refill Gallon")) {
                        service.serviceName = '';
                        return 287;
                    }

                    else if ((service.serviceType == "CLEANSHIELD" || service.serviceType == "CONCRETE-COATINGS" || service.serviceType == "CONCRETE-OVERLAYMENTS"
                        || service.serviceType == "COUNTERLIFE" || service.serviceType == "CONCRETE-POLISHING(ENDURACRETE)" || service.serviceType == "METALLIFE" || service.serviceType == "STONELIFE" || service.serviceType == "WOODLIFE") &&
                        (service.typeOfStoneType2 == "Ceramic" || service.typeOfStoneType2 == "Concrete" || service.typeOfStoneType2 == "Corian" || service.typeOfStoneType2 == "Granite" || service.typeOfStoneType2 == "Marble" || service.typeOfStoneType2 == "Porcelain"
                            || service.typeOfStoneType2 == "Terrazzo" || service.typeOfStoneType2 == "Travertine" || service.typeOfStoneType2 == "Vinyl") &&
                        (service.serviceName == "Concrete Preparations" || service.serviceName == "Hone" || service.serviceName == "Hone Surface Prep" ||
                            service.serviceName == "Honing" || service.serviceName == "Metal Scratch Removal" || service.serviceName == "Polishing" || service.serviceName == "Scratch & Wear Removal (Sanding)"
                            || service.serviceName == "Stripping Carpet Adhesive" || service.serviceName == "Chip Repair" || service.serviceName == "Crack Repair" || service.serviceName == "Hone" || service.serviceName == "Seal")) {
                        service.serviceName = '';
                        return 285;
                    }

                    else if ((service.serviceType == "SALESTAX" && (service.typeOfStoneType2 == "Ceramic" || service.typeOfStoneType2 == "Concrete" || service.typeOfStoneType2 == "Corian" || service.typeOfStoneType2 == "Granite"
                        || service.typeOfStoneType2 == "Marble" || service.typeOfStoneType2 == "Porcelain" || service.typeOfStoneType2 == "Terrazzo" || service.typeOfStoneType2 == "Travertine" || service.typeOfStoneType2 == "Vinyl") &&
                        (service.serviceName == "Products" || service.serviceName == "Service" || service.serviceName == "Stripping Carpet Adhesive"))) {
                        service.serviceName = '';
                        return 288;
                    }

                    else if ((service.serviceName == "MAINTENANCE:BI-MONTHLY") || (service.serviceName == "MAINTENANCE:MONTHLY") || (service.serviceName == "MAINTENANCE:OTHER") || (service.serviceName == "MAINTENANCE:QUARTERLY") || 
                        (service.serviceType == "MAINTENANCE:BI-MONTHLY") || (service.serviceType == "MAINTENANCE:MONTHLY") || (service.serviceType == "MAINTENANCE:OTHER") || (service.serviceType == "MAINTENANCE:QUARTERLY")) {
                        service.serviceName = '';
                        return 286;
                    }
                    //else if (service.serviceName != undefined && service.serviceName.startsWith("Bundle") && vm.serviceType == "CONCRETE-COATINGS" && (
                    //    service.typeOfStoneType2 == "Concrete" || service.typeOfStoneType2 == "Terrazzo")) {
                    //    return 285;
                    //}
                    return 282;
                }

                function getOption1(service) {
                    if (service.serviceTypeId == vm.serviceTypeService.AREA) {

                    }
                    return 0;
                }
                function getUnitTypeId(serviceTypeId) {
                    return vm.unitType.getValue(serviceTypeId);
                }

                function getList() {
                    vm.idList = [];
                    vm.getPriceEstimateQuery.categoryId = 0;
                    vm.getPriceEstimateQuery.serviceTypeId = [];
                    vm.getPriceEstimateQuery.serviceTagId = 0;
                    vm.getPriceEstimateQuery.serviceTagSelectedIds = vm.idList;
                    vm.getPriceEstimateQuery.selectedCategoryId = vm.selectedCategoryId;
                    vm.getPriceEstimateQuery.showAllFranchisee = false;
                    vm.getPriceEstimateQuery.franchiseeId = vm.estimateInfo.franchiseeId;
                    return managePriceEstimateService.getPriceEstimateForFranchisee(vm.getPriceEstimateQuery).then(function (result) {
                        vm.priceEstimateCollection = result.data.priceEstimateViewModelList;
                    });
                }

                function openPopUp(img, isFromBefore) {
                    vm.isPopUpOpened = true;
                    img.isSelected = !img.isSelected;
                    vm.imageModel = {};
                    if (isFromBefore) {
                        if (img.beforeImages.imagesInfo[0].isImageCropped) {
                            fileService.getFileStreamByUrl(img.beforeImages.imagesInfo[0].croppedImageUrl).then(function (result) {
                                vm.imageModel.url = fileService.getStreamUrl(result);
                                img.beforeImages.imagesInfo[0].url = vm.imageModel.url;
                                vm.imageModel.css = img.beforeImages.imagesInfo[0].css;
                            });
                        }
                        else {
                            if (img.beforeImages.imagesInfo[0].url != null) {
                                vm.imageModel.url = img.beforeImages.imagesInfo[0].url;
                                vm.imageModel.css = img.beforeImages.css;
                            }
                            else {
                                fileService.getFileStreamByUrl(img.beforeImages.imagesInfo[0].imageUrl).then(function (result) {
                                    vm.imageModel.url = fileService.getStreamUrl(result);
                                    img.beforeImages.imagesInfo[0].url = vm.imageModel.url;
                                    vm.imageModel.css = img.beforeImages.imagesInfo[0].css;
                                });
                            }
                        }
                    }
                    if (!isFromBefore) {
                        if (img.afterImages.imagesInfo[0].isImageCropped) {
                            fileService.getFileStreamByUrl(img.afterImages.imagesInfo[0].croppedImageUrl).then(function (result) {
                                vm.imageModel.url = fileService.getStreamUrl(result);
                                img.afterImages.imagesInfo[0].url = vm.imageModel.url;
                                vm.imageModel.css = img.afterImages.imagesInfo[0].css;
                            });
                        }
                        else {
                            if (img.afterImages.imagesInfo[0].url != null) {
                                vm.imageModel.url = img.afterImages.imagesInfo[0].url;
                                vm.imageModel.css = img.afterImages.css;
                            }
                            else {
                                fileService.getFileStreamByUrl(img.afterImages.imagesInfo[0].imageUrl).then(function (result) {
                                    vm.imageModel.url = fileService.getStreamUrl(result);
                                    img.afterImages.imagesInfo[0].url = vm.imageModel.url;
                                    vm.imageModel.css = img.afterImages.imagesInfo[0].css;
                                });
                            }
                        }
                    }
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/pop-up-image.client.view.html',
                        controller: 'PopUpImageController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    Image: vm.imageModel,
                                    isFromReview: false,
                                    text: 'Before After Images'
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                    });
                }


                function addMeasurementsForBundle(subItem, serviceName, serviceList) {
                    subItem.typeOfStoneType2 = serviceList.typeOfStoneType2;
                    subItem.typeOfStoneType = serviceList.typeOfStoneType;
                    subItem.typeOfSurface = serviceList.typeOfSurface;
                    subItem.typeOfStoneColor = serviceList.typeOfStoneColor;
                    subItem.serviceType = serviceList.serviceType;
                    var service = subItem;
                    if (service.serviceIds[0] != undefined) {
                        service.serviceName = service.serviceIds[0].id;
                    }
                    else {
                        service.serviceName = service.serviceIds.id;
                    }
                    //if (vm.priceEstimateCollection == null) {
                    //    getList();
                    //}
                    //getList();
                    return schedulerService.getServiceTypeId(service).then(function (result) {
                        if (result != null) {
                            var serviceId = result.data.serviceId;
                            vm.glocalServiceId = serviceId;
                            addMeasurements1(subItem, serviceName);
                        }
                    });
                }

                function uploadLineItemImage(index) {
                    var service = vm.estimateInvoiceInfo.serviceList[index];
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/media-invoiceline-upload.client.view.html',
                        controller: 'MediaInvoiceLineUploadController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    EstimateInfo: vm.estimateInfo,
                                    Service: service,
                                    Location: service.locationIds,
                                    SurfaceType: service.typeOfSurface,
                                    MaterialType: service.typeOfStoneType2,
                                    SurfaceColor: service.typeOfStoneColor,
                                    SurfaceFinish: service.typeOfStoneType,
                                    ServiceType: service.serviceType
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {

                    });
                }

                function uploadLineItemImageForSubItem(mainService, subitem, index) {
                    
                    if (subitem == undefined) {
                        var service = mainService.subItem[index];
                    }
                    else {
                        var service = subitem;
                    }
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/media-invoiceline-upload.client.view.html',
                        controller: 'MediaInvoiceLineUploadController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    EstimateInfo: vm.estimateInfo,
                                    Service: service,
                                    Location: mainService.locationIds,
                                    SurfaceType: mainService.typeOfSurface,
                                    MaterialType: mainService.typeOfStoneType2,
                                    SurfaceColor: mainService.typeOfStoneColor,
                                    SurfaceFinish: mainService.typeOfStoneType,
                                    ServiceType: mainService.serviceType
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {

                    });
                }

                function uploadLineItemImageFromCamera(imageid) {
                    var index = imageid.split('_')[1];
                    vm.indexForUploadImage = index;
                    const element = document.getElementById(imageid);
                    if (element != null) {
                        element.click();
                    }
                }

                function uploadLineItemImageFromCameraForSubItem(imageid) {
                    var mainIndex = imageid.split('_')[1];
                    var subItemIndex = imageid.split('_')[2];
                    vm.mainIndexForUploadImage = mainIndex;
                    vm.subItemIndexForUploadImage = subItemIndex;
                    const element = document.getElementById(imageid);
                    if (element != null) {
                        element.click();
                    }
                }

                $scope.fileNameChangedForUploadImage = function (files) {
                    var service = vm.estimateInvoiceInfo.serviceList[vm.indexForUploadImage];
                    filesListForUploadImage(files, service);
                }

                $scope.fileNameChangedForUploadImageForSubItem = function (files) {
                    var mainService = vm.estimateInvoiceInfo.serviceList[vm.mainIndexForUploadImage];
                    var service = mainService.subItem[vm.subItemIndexForUploadImage];
                    filesListForUploadImage(files, service);
                }

                function filesListForUploadImage(files, service) {
                    vm.serviceToUploadImage = service;
                    vm.info = {};
                    vm.info.fileList = angular.copy(vm.serviceToUploadImage.imageList);
                    if (files != null) {
                        var file = files[0];
                        return fileService.upload(file).then(function (result) {
                            toaster.show("File uploaded!");
                            result.data.imgUrl = URL.createObjectURL(file);
                            result.data.isUploadedImage = true;
                            vm.info.fileList.push(result.data);
                            vm.isUploaded = true;
                            vm.info.estimateId = vm.estimateInfo != null ? vm.estimateInfo.id : null;
                            vm.info.serviceId = vm.serviceToUploadImage != null ? vm.serviceToUploadImage.id : null;
                            if (vm.estimateInfo != null)
                                vm.info.franchisee = vm.estimateInfo.franchisee;
                            schedulerService.saveInvoiceLineItemMedia(vm.info).then(function (result) {
                                if (result.data != null) {
                                    angular.forEach(result.data, function (file) {
                                        vm.serviceToUploadImage.imageList.push(file);
                                    });
                                    toaster.show(result.message.message);
                                    $uibModalInstance.close();
                                    vm.isProcessing = false;
                                }
                            }).catch(function (err) {
                                vm.isProcessing = false;
                            });
                        });
                    }
                }

                function getValueForLabelForServiceType(service) {
                    var serviceFromList = $filter('filter')(vm.serviceTypeForInvoices, { display: service.serviceType }, true)[0];
                    service.serviceTypeValue = serviceFromList.value;
                }

                function saveRotation(slide, from) {
                    vm.rotationItems.fileId = slide.fileId;
                    vm.rotationItems.css = slide.css;
                    schedulerService.saveRotation(vm.rotationItems).then(function (result) {
                        if (result != null) {
                            toaster.show("Image Rotate successfully");
                        }
                        else {
                            toaster.error("Rotation Error");
                        }
                    });
                }

                function cropImage(img, isFromBefore) {

                    vm.isPopUpOpened = true;
                    img.isSelected = !img.isSelected;
                    vm.imageModel = {};
                    if (isFromBefore) {
                        if (img.beforeImages.imagesInfo[0].s3BucketImageUrl != null) {
                            vm.imageModel.url = img.beforeImages.imagesInfo[0].s3BucketImageUrl;
                            vm.imageModel.beforeAfterId = img.beforeImages.imagesInfo[0].beforeAfterId;
                            vm.imageModel.fileId = img.beforeImages.imagesInfo[0].fileId;
                        }
                        else {
                            if (img.beforeImages.imagesInfo[0].url != null) {
                                vm.imageModel.url = img.beforeImages.imagesInfo[0].url;
                                vm.imageModel.beforeAfterId = img.beforeImages.imagesInfo[0].beforeAfterId;
                                vm.imageModel.fileId = img.beforeImages.imagesInfo[0].fileId;
                            }
                            else {
                                if (img.beforeImages.imagesInfo[0].s3BucketImageUrl != null) {
                                    vm.imageModel.url = img.beforeImages.imagesInfo[0].s3BucketImageUrl;
                                    vm.imageModel.beforeAfterId = img.beforeImages.imagesInfo[0].beforeAfterId;
                                    vm.imageModel.fileId = img.beforeImages.imagesInfo[0].fileId;
                                }
                                else {
                                    fileService.getFileStreamByUrl(img.beforeImages.imagesInfo[0].imageUrl).then(function (result) {
                                        vm.imageModel.url = fileService.getStreamUrl(result);
                                        vm.imageModel.beforeAfterId = img.beforeImages.imagesInfo[0].beforeAfterId;
                                        vm.imageModel.fileId = img.beforeImages.imagesInfo[0].fileId;
                                        img.beforeImages.imagesInfo[0].url = vm.imageModel.url;
                                    });
                                }
                            }
                        }
                    }
                    if (!isFromBefore) {
                        if (img.afterImages.imagesInfo[0].s3BucketImageUrl != null) {
                            vm.imageModel.url = img.afterImages.imagesInfo[0].s3BucketImageUrl;
                            vm.imageModel.beforeAfterId = img.afterImages.imagesInfo[0].beforeAfterId;
                            vm.imageModel.fileId = img.afterImages.imagesInfo[0].fileId;
                        }
                        else {
                            if (img.afterImages.imagesInfo[0].url != null) {
                                vm.imageModel.url = img.afterImages.imagesInfo[0].url;
                                vm.imageModel.beforeAfterId = img.afterImages.imagesInfo[0].beforeAfterId;
                                vm.imageModel.fileId = img.afterImages.imagesInfo[0].fileId;
                            }
                            else {
                                fileService.getFileStreamByUrl(img.afterImages.imagesInfo[0].imageUrl).then(function (result) {
                                    vm.imageModel.url = fileService.getStreamUrl(result);
                                    vm.imageModel.beforeAfterId = img.afterImages.imagesInfo[0].beforeAfterId;
                                    vm.imageModel.fileId = img.afterImages.imagesInfo[0].fileId;
                                    img.afterImages.imagesInfo[0].url = vm.imageModel.url;
                                });
                            }
                        }
                    }

                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/crop-image.client.view.html',
                        controller: 'CropImageController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    Image: vm.imageModel,
                                    isFromReview: false,
                                    text: 'Crop Image'
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {
                    }, function () {
                        getEstimateInfo();
                    });
                }
                $rootScope.$on('$locationChangeSuccess', function () {
                    $rootScope.actualLocation = $location.absUrl();
                });

                $rootScope.$watch(function () { return $location.absUrl() }, function (newLocation, oldLocation) {
                    if ($rootScope.actualLocation === newLocation) {
                        saveInvoice(false, false);
                    }
                });

                //$rootScope.$on('$locationChangeSuccess', function () {
                //    $rootScope.actualLocation = $location.absUrl();
                //});
                //$rootScope.$on('$locationChangeStart', function (event) {
                //    if (vm.isInvoiceTab) {
                //        event.preventDefault();
                //        openValidationModel();
                //        $rootScope.$on("IsEstimateSaved", function (evt, data) {
                //            vm.isEstimateSaved = data;
                //            if (vm.isEstimateSaved == true) {
                //                vm.isEstimateSaved = false;
                //                saveInvoice(false, false);
                //                $window.history.previousView();
                //            }
                //            else {
                //                event.preventDefault();
                //            }
                //        });
                //    }
                //});

                function openValidationModel() {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/modal.validate.estimate.view.html',
                        controller: 'ModalValidationEstimateBackController',
                        controllerAs: 'vm',
                        backdrop: 'static',
                        //size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    IsEstimateSaved: false
                                };
                            }
                        }
                    });
                    modalInstance.result.then(function () {

                    }, function () {

                    });
                }

                function cancelTab() {
                    saveInvoice(false, false);
                }

                function cancelOnClick() {
                    vm.isInvoiceEnhancement = !vm.isInvoiceEnhancement;
                    saveInvoice(false, false);
                }

                function openValidationInvoiceLineItemModel() {
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/modal.validate.invoicelineitem.client.view.html',
                        controller: 'ModalValidationInvoiceLineItemController',
                        controllerAs: 'vm',
                        backdrop: 'static',
                        //size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    IsInvoiceLineItemRemove: false
                                };
                            }
                        }
                    });
                    modalInstance.result.then(function () {

                    }, function () {

                    });
                }

                function viewImageGallery(index, serviceList) {
                    vm.allServicesList = vm.estimateInvoiceInfo.serviceList;
                    var service = vm.estimateInvoiceInfo.serviceList[index];
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/media-invoiceline-image-gallery.client.view.html',
                        controller: 'MediaInvoiceLineImageGalleryController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    EstimateInfo: vm.estimateInfo,
                                    Service: service,
                                    AllServices: vm.allServicesList,
                                    Location: service.locationIds,
                                    SurfaceType: service.typeOfSurface,
                                    MaterialType: service.typeOfStoneType2,
                                    SurfaceColor: service.typeOfStoneColor,
                                    SurfaceFinish: service.typeOfStoneType,
                                    ServiceType: service.serviceType,
                                    IsInvoiceLineSubItem: false
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {

                    });
                }

                function viewImageGalleryForSubItems(index, serviceList, subItem, subItemId) {
                    vm.allServicesList = vm.estimateInvoiceInfo.serviceList;
                    //var service = vm.estimateInvoiceInfo.serviceList[index];
                    //var service = serviceList;
                    if (subItem == undefined) {
                        var service = serviceList.subItem[index];
                    }
                    else {
                        var service = subItem;
                    }
                    var modalInstance = $uibModal.open({
                        animation: true,
                        templateUrl: 'modules/scheduler/views/media-invoiceline-image-gallery.client.view.html',
                        controller: 'MediaInvoiceLineImageGalleryController',
                        controllerAs: 'vm',
                        size: 'lg',
                        resolve: {
                            modalParam: function () {
                                return {
                                    EstimateInfo: vm.estimateInfo,
                                    Service: service,
                                    AllServices: vm.allServicesList,
                                    Location: serviceList.locationIds,
                                    SurfaceType: serviceList.typeOfSurface,
                                    MaterialType: serviceList.typeOfStoneType2,
                                    SurfaceColor: serviceList.typeOfStoneColor,
                                    SurfaceFinish: serviceList.typeOfStoneType,
                                    ServiceType: serviceList.serviceType,
                                    IsInvoiceLineSubItem: true,
                                    InvoiceLineSubItem: subItem
                                };
                            }
                        },
                        backdrop: 'static',
                    });
                    modalInstance.result.then(function () {

                    });
                }

                function getAllServicesCollection() {
                    return franchiseeService.getAllServicesListForDropdown().then(function (result) {
                        vm.serviceTypeWithOther = result.data.slice();
                        vm.serviceTypeWithoutOther = result.data.slice();
                        vm.serviceType = vm.serviceTypeWithOther;
                        vm.serviceTypeWithoutOther.pop(); // removes Other
                        vm.serviceTypeForInvoices = vm.serviceTypeWithoutOther;
                    });
                }

                function UpdateServiceTypeList(serviceList, index) {
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[0]);   //CARPETLIFE
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[1]);   //CLEANAIR
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[2]);   //CLEANSHIELD
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[3]);   //CONCRETE-COATINGS
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[4]);   //CONCRETE-COUNTERTOPS
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[5]);   //CONCRETE-OVERLAYMENTS
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[6]);   //CONCRETE-POLISHING(ENDURACRETE)
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[7]);   //CONCRETE-REPAIR
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[8]);   //CONCRETE-STAIN
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);   //GROUTLIFE/TILELOK

                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);   //MAINTENANCE:BI-MONTHLY
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);   //MAINTENANCE:MONTHLY
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);   //MAINTENANCE:OTHER
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);   //MAINTENANCE:QUARTERLY

                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[15]);   //METALLIFE
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);   //PRODUCT
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);   //SALESTAX
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);   //STONELIFE
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);   //TILEINSTALL
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[20]);   //VINYLGUARD
                    //vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[21]);   //WOODLIFE

                    if (serviceList.typeOfStoneType2 == "Brick") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[3]);   //CONCRETE-COATINGS
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[4]);   //CONCRETE-COUNTERTOPS
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[5]);   //CONCRETE-OVERLAYMENTS
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                    }
                    else if (serviceList.typeOfStoneType2 == "Carpet") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[0]);   //CARPETLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                    }
                    else if (serviceList.typeOfStoneType2 == "Ceramic (tile and grout)") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);  //TILEINSTALL
                    }
                    else if (serviceList.typeOfStoneType2 == "Concrete") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[2]);   //CLEANSHIELD
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[3]);   //CONCRETE-COATINGS
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[4]);   //CONCRETE-COUNTERTOPS
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[5]);   //CONCRETE-OVERLAYMENTS
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[6]);   //CONCRETE-POLISHING(ENDURACRETE)
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[7]);   //CONCRETE-REPAIR
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[8]);   //CONCRETE-STAIN
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);  //TILEINSTALL
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[20]);  //VINYLGUARD
                    }
                    else if ((serviceList.typeOfStoneType2 == "Engineered Stone:Cesar") || (serviceList.typeOfStoneType2 == "Engineered Stone:Corian") || (serviceList.typeOfStoneType2 == "Engineered Stone:Other") || (serviceList.typeOfStoneType2 == "Engineered Stone:Zodiaq")) {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                    }
                    else if (serviceList.typeOfStoneType2 == "Flagstone") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                    }
                    else if (serviceList.typeOfStoneType2 == "Glass") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[1]);   //CLEANAIR
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[15]);  //METALLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                    }
                    else if (serviceList.typeOfStoneType2 == "Granite") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[2]);   //CLEANSHIELD
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);  //TILEINSTALL
                    }
                    else if (serviceList.typeOfStoneType2 == "Limestone") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[2]);   //CLEANSHIELD
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);  //TILEINSTALL
                    }
                    else if (serviceList.typeOfStoneType2 == "Marble") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[2]);   //CLEANSHIELD
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);  //TILEINSTALL
                    }
                    else if (serviceList.typeOfStoneType2 == "Marble (Tumbled)") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                    }
                    else if (serviceList.typeOfStoneType2 == "Metal") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[15]);  //METALLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                    }
                    else if (serviceList.typeOfStoneType2 == "Mexican Tile") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                    }
                    else if (serviceList.typeOfStoneType2 == "Porcelain") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);  //TILEINSTALL
                    }
                    else if (serviceList.typeOfStoneType2 == "Quartz") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[2]);   //CLEANSHIELD
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);  //TILEINSTALL
                    }
                    else if (serviceList.typeOfStoneType2 == "Slate") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);  //TILEINSTALL
                    }
                    else if (serviceList.typeOfStoneType2 == "Terrazzo") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[6]);   //CONCRETE-POLISHING(ENDURACRETE)
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[7]);   //CONCRETE-REPAIR
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);  //TILEINSTALL
                    }
                    else if (serviceList.typeOfStoneType2 == "Travertine") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[2]);   //CLEANSHIELD
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[9]);   //COUNTERLIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);  //TILEINSTALL
                    }
                    else if (serviceList.typeOfStoneType2 == "Vinyl") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[10]);  //GROUTLIFE/TILELOK
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[16]);  //PRODUCT
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[18]);  //STONELIFE
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[19]);  //TILEINSTALL
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[20]);  //VINYLGUARD
                    }
                    else if (serviceList.typeOfStoneType2 == "Wood") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[11]);  //MAINTENANCE:BI-MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[12]);  //MAINTENANCE:MONTHLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[13]);  //MAINTENANCE:OTHER
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[14]);  //MAINTENANCE:QUARTERLY
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[17]);  //SALESTAX
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList.push(vm.serviceTypeForInvoices[21]);  //WOODLIFE
                    }
                    else if (serviceList.typeOfStoneType2 == "Other") {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];

                    }
                    else {
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = [];
                        vm.estimateInvoiceInfo.serviceList[index].serviceTypeList = vm.serviceTypeForInvoices;
                    }
                }

                $q.all([getEstimateInfo(), getmarketingClassCollection(), getServicesMutiSelectCollection(), getServicesCollection(), getListForBeforeAfterDropDown(), getFollowUp(), getAllServicesCollection()]);
            }]);
}());
