<div class="modal-header">
    <h4 class="modal-title pull-left search-single">Invoice Detail</h4>
    <button class="btn default" ng-print print-element-id="printSection" title="print"><i class="fa fa-print"></i></button>
    <a href="javascript:void(0);" ng-click="vm.close()" class="pull-right"><i class="fa fa-remove"></i></a>
</div>
<div class="modal-body" id="printSection">
    <div class="invoice">
        <div class="row invoice-logo">
            <div class="col-xs-6 invoice-logo-space">
                {{vm.invoiceDetails.franchiseeName}}, {{vm.invoiceDetails.franchiseeAddress.state}}
                <br />
                <span ng-if="vm.invoiceDetails.franchiseeAddress.addressLine1 != null">
                    {{vm.invoiceDetails.franchiseeAddress.addressLine1}}, {{vm.invoiceDetails.franchiseeAddress.addressLine2}}
                </span>
                <span ng-if="vm.invoiceDetails.franchiseeAddress.city != null">
                    {{vm.invoiceDetails.franchiseeAddress.city}}, {{vm.invoiceDetails.franchiseeAddress.state}} - {{vm.invoiceDetails.franchiseeAddress.zipCode}}
                </span>
                <br />
                {{vm.invoiceDetails.email}} <br />
                <span ng-repeat="phoneNumber in vm.invoiceDetails.phoneNumbers">
                    {{phoneNumber.phoneNumber | phonemask}}<span ng-if="!$last">, </span>
                </div>
            <div class="col-xs-6">
                <p class="pull-right">
                    Invoice# - {{vm.invoiceDetails.invoiceId}}
                    <br />
                    QuickBook# - {{vm.invoiceDetails.qbInvoiceNumber}}
                    <br />
                    InvoiceDate - {{vm.invoiceDetails.generatedOn | dateTimeFilter}}
                </p>
            </div>
            </div>
        
        </div>
        <hr>
        <div class="row">
            <div class="col-xs-6">
                <h4>Client:</h4>
                <ul class="list-unstyled">
                    <li>
                        {{vm.invoiceDetails.customer}}
                    </li>
                    <li>
                        {{vm.invoiceDetails.contactPerson}}
                    </li>
                    <li ng-if="vm.invoiceDetails.address.addressLine1 != null">
                        {{vm.invoiceDetails.address.addressLine1}}, {{vm.invoiceDetails.address.addressLine2}}
                    </li>
                    <li ng-if="vm.invoiceDetails.address.city != null">
                        {{vm.invoiceDetails.address.city}}, {{vm.invoiceDetails.address.state}} - {{vm.invoiceDetails.address.zipCode}}
                    </li>
                    <li>
                        {{vm.invoiceDetails.phoneNumber | phonemask}}
                    </li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>
                                #
                            </th>
                            <th>
                                Class
                            </th>
                            <th class="hidden-480">
                                Description
                            </th>
                            <th class="hidden-480" style="width: 80px;">
                                Quantity
                            </th>
                            <th class="hidden-480" style="width: 100px;">
                                Unit Cost
                            </th>
                            <th style="width: 100px;">
                                Total
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="invoiceItem in vm.invoiceDetails.invoiceItems">
                            <td>
                                {{invoiceItem.id}}
                            </td>
                            <td>
                                {{invoiceItem.item}}
                            </td>
                            <td class="hidden-480">
                                {{invoiceItem.description}}
                            </td>
                            <td class="hidden-480">
                                {{invoiceItem.quantity}}
                            </td>
                            <td>
                                <span currency-Exchange conversion-Rate="invoiceItem.currencyRate"
                                      input="invoiceItem.rate" from-Currency="vm.invoiceDetails.currencyCode">
                                </span>
                            </td>
                            <td>
                                <span currency-Exchange conversion-Rate="invoiceItem.currencyRate"
                                      input="invoiceItem.amount" from-Currency="vm.invoiceDetails.currencyCode">
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <h4>Customer Payments</h4>
        <div class="row">
            <div class="col-xs-12">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>
                                #
                            </th>
                            <th>
                                Class
                            </th>
                            <th>
                                Date
                            </th>
                            <th>
                                Amount
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="payment in vm.invoiceDetails.payments">
                            <td>
                                {{payment.id}}
                            </td>
                            <td>
                                {{payment.paymentItems.length > 0 ? payment.paymentItems[0].item : ""}}
                            </td>
                            <td>
                                {{payment.date | dateTimeFilter}}
                            </td>
                            <td>
                                <span currency-Exchange conversion-Rate="vm.currencyRate"
                                      input="payment.amount" from-Currency="vm.invoiceDetails.currencyCode">
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-4">
            </div>
            <div class="col-xs-8 invoice-block">
                <ul class="list-unstyled amounts pull-right">
                    <li>
                        <strong>Total amount:</strong>
                        <span currency-Exchange conversion-Rate="vm.currencyRate"
                              input="vm.invoiceDetails.totalAmount" from-Currency="vm.invoiceDetails.currencyCode">
                        </span>
                    </li>
                    <li>
                        
                        <strong>Payment:</strong>
                        <span currency-Exchange conversion-Rate="vm.currencyRate"
                              input="vm.invoiceDetails.totalPayment" from-Currency="vm.invoiceDetails.currencyCode">
                        </span>
                    </li>
                    <li>
                        <strong>Grand Total:</strong>
                        <span currency-Exchange conversion-Rate="vm.currencyRate"
                              input="vm.invoiceDetails.grandTotal" from-Currency="vm.invoiceDetails.currencyCode">
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

<div class="modal-footer">
    <button type="button" class="btn default" ng-click="vm.close();">Close</button>
</div>
