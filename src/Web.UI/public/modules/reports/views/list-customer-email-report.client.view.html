<style>
    body.page-md {
        width: 100% !important;
        font-family: "Open Sans", sans-serif;
        font-size: 13px;
        padding-left: 0px !important;
        padding-right: 0px !important;
        padding-top: 0px !important;
        padding-bottom: 0px !important;
        margin: 0px !important;
        border: none !important;
    }

    table.dataTable a {
        color: #337ab7 !important;
    }

    .contentEditableContainer.contentTextEditable a {
        color: black !important;
    }
</style>
<div class="row">
    <div class="col-md-12">
        <div class="clearfix page-controls">
            <div class="dataTables_length pull-left m-t-15 showing-record search-single" id="sample_1_length">
                <label>
                    Show
                    <select name="sample_1_length" aria-controls="sample_1" class="form-control input-xsmall input-inline"
                            ng-model="vm.query.pageSize" ng-options="option.value as option.display for option in vm.pagingOptions"
                            ng-change="vm.getMailList();">
                        <option selected disabled hidden style='display: none' value=''></option>
                    </select> records
                </label>
            </div>
            <div class="pull-right search-btn-wrap">
                <div class="search-box">
                    <div class="pull-left search-single">
                        <div class="form-group form-md-line-input form-md-floating-label">
                            <select class="form-control input-small" id="search-option" ng-model="vm.searchOption"
                                    ng-change="vm.resetSeachOption()"
                                    ng-options="item.value as item.display for item in vm.searchOptions">
                                <option selected disabled hidden style='display: none' value=''></option>
                            </select>
                            <label for="search-option">Search Options</label>
                        </div>
                    </div>
                    <div class="pull-left search-single">
                        <div class="form-group form-md-line-input form-md-floating-label" ng-if="vm.isSuperAdmin == true && vm.searchOption == '1'">
                            <select class="form-control input-small" id="franchisee" ng-model="vm.query.franchiseeId"
                                    ng-options="franchisee.value as franchisee.display for franchisee in vm.franchiseeCollection">
                                <option disabled value=''></option>
                            </select>
                            <label for="franchisee">Franchisee</label>
                        </div>
                    </div>
                    <div class="pull-left search-single">
                        <div class="form-group form-md-line-input form-md-floating-label" ng-if="vm.searchOption == '2'">
                            <select class="form-control input-small" id="franchisee" ng-model="vm.query.statusId"
                                    ng-change="vm.getMailList();"
                                    ng-options="status.value as status.display for status in vm.uploadStatus">
                                <option disabled value=''></option>
                            </select>
                            <label for="franchisee">Status</label>
                        </div>
                    </div>
                    <div class="pull-left search-single">
                        <div class="form-group form-md-line-input form-md-floating-label" ng-if="vm.isSuperAdmin == true && vm.searchOption == '4'">
                            <select class="form-control input-small" id="franchisee" ng-model="vm.emailOption"
                                    ng-options="item.value as item.display for item in vm.emailOptions"
                                    ng-change="vm.resetSeachOption()">
                                <option selected disabled hidden style='display: none' value=''></option>
                            </select>
                            <label for="email">Email Id</label>
                        </div>
                    </div>
                    <div class="pull-left search-single" ng-if="vm.emailOption == '11' && vm.searchOption != '1' && vm.searchOption != '3'">
                        <div class="form-group form-md-line-input form-md-floating-label">
                            <input type="search" class="form-control input-small" style="margin-top: -13px;" placeholder="" aria-controls="sample_1"
                                   ng-model="vm.query.emailFrom">
                            <label>From Email</label>
                        </div>
                    </div>
                    <div class="pull-left search-single" ng-if="vm.emailOption == '12' && vm.searchOption != '1' && vm.searchOption != '3'">
                        <div class="form-group form-md-line-input form-md-floating-label">
                            <input type="search" class="form-control input-small" style="margin-top: -13px;" placeholder="" aria-controls="sample_1"
                                   ng-model="vm.query.emailTo">
                            <label>To Email</label>
                        </div>
                    </div>
                    <div class="pull-left search-single" ng-if="vm.emailOption == '13' && vm.searchOption != '1' && vm.searchOption != '3'">
                        <div class="form-group form-md-line-input form-md-floating-label">
                            <input type="search" class="form-control input-small" style="margin-top: -13px;" placeholder="" aria-controls="sample_1"
                                   ng-model="vm.query.emailCc">
                            <label>CC'd Email</label>
                        </div>
                    </div>
                    <div class="pull-left search-single" ng-if="vm.searchOption == '3'">
                        <div class="form-group form-md-line-input form-md-floating-label">
                            <input type="search" class="form-control input-sm" style="margin-top: -7px;" placeholder="" aria-controls="sample_1"
                                   ng-model="vm.query.text">
                            <label>Search</label>
                        </div>
                    </div>
                    <div class="pull-left search-single">
                        <div class="form-group form-md-line-input form-md-floating-label">
                            <input type="text" class="form-control input-small" id="date-range" date-range-picker change="vm.getMailList"
                                   start-date="vm.query.periodStartDate" end-date="vm.query.periodEndDate">
                            <label for="date-range">Date Range</label>
                        </div>
                    </div>
                    <div class="pull-left search-single m-t-5">
                        <a class="btn btn-icon-only mbl" ng-click="vm.getMailList();">
                            <i class="fa fa-search"></i>
                        </a>
                    </div>
                    <div class="pull-left search-single m-t-5">
                        <a class="btn btn-icon-only mbl" ng-click="vm.resetSearch();">
                            <i class="fa fa-remove"></i>
                        </a>
                    </div>
                    <div class="pull-left search-single m-t-5">
                        <a class="btn btn-icon-only mbl" ng-click="vm.refresh();">
                            <i class="fa fa-refresh"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="clearfix">
            <div class="pull-left">
                <div class="dataTables_info" id="sample_1_info" role="status" aria-live="polite" ng-if="vm.mailList.length > 0">
                    Showing
                    <span ng-if="(vm.query.pageNumber * vm.query.pageSize) <= vm.count">{{((vm.query.pageNumber - 1) * vm.query.pageSize)+ 1}} to {{vm.query.pageNumber * vm.query.pageSize}} of {{vm.count}} </span>
                    <span ng-if="(vm.query.pageNumber * vm.query.pageSize) > vm.count">{{((vm.query.pageNumber - 1) * vm.query.pageSize)+ 1}} to {{vm.count}} of {{vm.count}} </span>
                    records
                </div>
            </div>
            <div class="pull-right" ng-if="vm.mailList.length < vm.count">
                <div class="dataTables_paginate paging_bootstrap_full_number" id="sample_1_paginate">
                    <ul uib-pagination boundary-links="true" total-items="vm.count" ng-change="vm.pageChange()" items-per-page="vm.query.pageSize"
                        ng-model="vm.query.pageNumber" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" max-size="'5'"
                        last-text="&raquo;"></ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <span style="margin-right:10px !important"><b>Default Data is Coming for {{vm.startDate}} to {{vm.endDate}}</b></span>
            </div>
        </div>
        <div class="table-scrollable table-mbl">
            <div style="overflow: auto;height:500px !important">
                <table class="table table-striped table-bordered table-hover dataTable no-footer" id="sample_1" role="grid" aria-describedby="sample_1_info">
                    <thead fix-head>
                        <tr role="row">
                            <th style="min-width: 50px; max-width: 50px;width:50px">ID</th>
                            <th ng-class="{'sorting_desc': vm.query.sort.order == 1 && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting_asc' : vm.query.sort.order == 0  && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting': vm.query.sort.propName != vm.SortColumns.Id }"
                                tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Id"
                                style="width: 90px; min-width: 90px; max-width: 90px;" ng-click="vm.sorting(vm.SortColumns.FranchiseeName);">
                                Franchisee Name
                            </th>
                            <th ng-class="{'sorting_desc': vm.query.sort.order == 1 && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting_asc' : vm.query.sort.order == 0  && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting': vm.query.sort.propName != vm.SortColumns.Id }"
                                tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Id"
                                style="width: 90px; min-width: 90px; max-width: 90px;" ng-click="vm.sorting(vm.SortColumns.EmailTitle);">
                                Email Title
                            </th>
                            <th ng-class="{'sorting_desc': vm.query.sort.order == 1 && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting_asc' : vm.query.sort.order == 0  && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting': vm.query.sort.propName != vm.SortColumns.Id }"
                                tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Id"
                                style="width: 90px; min-width: 90px; max-width: 90px;" ng-click="vm.sorting(vm.SortColumns.SendDate);">
                                Send Date
                            </th>
                            <th ng-class="{'sorting_desc': vm.query.sort.order == 1 && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting_asc' : vm.query.sort.order == 0  && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting': vm.query.sort.propName != vm.SortColumns.Id }"
                                tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Id"
                                style="width: 90px; min-width: 90px; max-width: 90px;" ng-click="vm.sorting(vm.SortColumns.FromEmail);">
                                From Email

                            </th>
                            <th ng-class="{'sorting_desc': vm.query.sort.order == 1 && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting_asc' : vm.query.sort.order == 0  && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting': vm.query.sort.propName != vm.SortColumns.Id }"
                                tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Id"
                                style="width: 90px; min-width: 90px; max-width: 90px;" ng-click="vm.sorting(vm.SortColumns.RecipientEmail);">
                                Recipient Email(To)
                            </th>
                            <th ng-class="{'sorting_desc': vm.query.sort.order == 1 && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting_asc' : vm.query.sort.order == 0  && vm.query.sort.propName == vm.SortColumns.Id,
                                                        'sorting': vm.query.sort.propName != vm.SortColumns.Id }"
                                tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Id"
                                style="width: 120px; min-width: 120px; max-width: 120px;" ng-click="vm.sorting(vm.SortColumns.RecipientEmailCC);">
                                Recipient Email(CC)
                            </th>
                            <th style="width: 120px; min-width: 120px; max-width: 120px;">
                                Preview
                            </th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="batch in vm.mailList">
                            <td style="width: 50px; min-width: 50px; max-width: 50px;">{{vm.index+ $index}}</td>
                            <td style="width: 50px; min-width: 50px; max-width: 50px;">{{batch.franchiseeName}}</td>
                            <td style="width: 50px; min-width: 50px; max-width: 50px;">{{batch.subject}}</td>
                            <td style="width: 50px; min-width: 50px; max-width: 50px;">{{batch.sendDate| dateTimeFilter: 'd'}}</td>
                            <td style=" min-width: 60px; max-width: 145px; word-break:break-all;">{{batch.fromEmail}}</td>
                            <td style=" min-width: 60px; max-width: 168px;">{{batch.recipientEmail}}</td>
                            <td style="min-width: 60px; max-width: 155px;">{{batch.recipientEmailCc}}</td>
                            <td style="min-width: 60px; max-width:155px;"><a ng-click="vm.preview(batch.emailTemplateId,batch.body) ">Preview</a></td>
                        </tr>
                    </tbody>
                    <tr ng-if="vm.mailList.length == 0">
                        <td colspan="14" class="text-center"><span> No Records Found</span></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="clearfix">
            <div class="pull-left">
                <div class="dataTables_info" id="sample_1_info" role="status" aria-live="polite" ng-if="vm.mailList.length > 0">
                    Showing
                    <span ng-if="(vm.query.pageNumber * vm.query.pageSize) <= vm.count">{{((vm.query.pageNumber - 1) * vm.query.pageSize)+ 1}} to {{vm.query.pageNumber * vm.query.pageSize}} of {{vm.count}} </span>
                    <span ng-if="(vm.query.pageNumber * vm.query.pageSize) > vm.count">{{((vm.query.pageNumber - 1) * vm.query.pageSize)+ 1}} to {{vm.count}} of {{vm.count}} </span>
                    records
                </div>
            </div>
            <div class="pull-right" ng-if="vm.mailList.length < vm.count">
                <div class="dataTables_paginate paging_bootstrap_full_number" id="sample_1_paginate">
                    <ul uib-pagination boundary-links="true" total-items="vm.count" ng-change="vm.pageChange()" items-per-page="vm.query.pageSize"
                        ng-model="vm.query.pageNumber" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" max-size="'5'"
                        last-text="&raquo;"></ul>
                </div>
            </div>
        </div>
    </div>
</div>
